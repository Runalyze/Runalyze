<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Garmin Display - Upload Selected Fitness Activities</title>
</head>
<style type="text/css" media="all">@import "garmin/communicator2.css";</style>
<script type="text/javascript" src="communicator-api/prototype/prototype.js">&#160;</script>
<script type="text/javascript" src="communicator-api/garmin/device/GarminDeviceDisplay.js">&#160;</script>
<script type="text/javascript">	
	function load() {
	    var display = new Garmin.DeviceDisplay("garminDisplay", { 
			/*pathKeyPairsArray: ["http://developer.garmin.com/","ee3934433a35ee348583236c2eeadbc1"],*/
			showReadDataElement: true,
			showProgressBar: true,
			showFindDevicesElement: true,
			showFindDevicesButton: false,
			showDeviceButtonsOnLoad: false,
			showDeviceButtonsOnFound: false,
			autoFindDevices: true,
			showDeviceSelectOnLoad: true,
			autoHideUnusedElements: true,
			showReadDataTypesSelect: false,
			readDataType: Garmin.DeviceControl.FILE_TYPES.tcxDir,
			deviceSelectLabel: "Choose Device <br/>",
			readDataButtonText: "Connect",
			showCancelReadDataButton: false,
			lookingForDevices: 'Searching for Device <br/><br/> <img src="communicator-api/garmin/device/style/ajax-loader.gif"/>',
			uploadsFinished: "Transfer Complete",
			uploadSelectedActivities: true,
			uploadCompressedData: false,    // Turn on data compression by setting to true.
			uploadMaximum: 1, 
			dataFound: "#{tracks} activities found on device",
			showReadDataElementOnDeviceFound: true,
			postActivityHandler: function(activityXml, display) {
				document.getElementById('result').value = activityXml;
			}
		});
	}
</script>

<body onload="load()">

	<div id="garminDisplay"></div>

<br style="clear:both;" />
	<textarea id="result" cols="100" rows="5"></textarea>

</body>
</html>
