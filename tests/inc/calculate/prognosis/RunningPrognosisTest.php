<?php

/**
 * Generated by PHPUnit_SkeletonGenerator 1.2.0 on 2013-10-26 at 16:21:32.
 */
class RunningPrognosisTest extends PHPUnit_Framework_TestCase {

	/**
	 * @var RunningPrognosis
	 */
	protected $object;

	/**
	 * Sets up the fixture, for example, opens a network connection.
	 * This method is called before a test is executed.
	 */
	protected function setUp() {
		$this->object = new RunningPrognosis;
	}

	/**
	 * Tears down the fixture, for example, closes a network connection.
	 * This method is called after a test is executed.
	 */
	protected function tearDown() {
		
	}

	/**
	 * @covers RunningPrognosis::setStrategy
	 * @covers RunningPrognosis::inSeconds
	 */
	public function testAllStrategies() {
		$Bock = new RunningPrognosisBock;

		$Daniels = new RunningPrognosisDaniels;
		$Daniels->setVDOT(50);
		$Daniels->adjustVDOT();
		$Daniels->setBasicEnduranceForAdjustment(50);

		$Steffny = new RunningPrognosisSteffny;

		$Distances  = array(5, 10, 21.1, 42.2);
		$Strategies = array(
			$Bock,
			$Daniels,
			$Steffny
		);

		foreach ($Strategies as $Strategy) {
			$this->object->setStrategy($Strategy);

			foreach ($Distances as $Distance) {
				$this->assertEquals(
					$Strategy->inSeconds($Distance),
					$this->object->inSeconds($Distance),
					'Strategy '.get_class($Strategy).' failed for '.$Distance.' km'
				);
			}
		}
	}

	/**
	 * @covers RunningPrognosis::setStrategy
	 * @covers RunningPrognosis::inSeconds
	 */
	public function testForBock() {
		$Strategy = new RunningPrognosisBock();
		$this->object->setStrategy($Strategy);

		$this->assertEquals( $Strategy->inSeconds(5), $this->object->inSeconds(5) );
		$this->assertEquals( $Strategy->inSeconds(10), $this->object->inSeconds(10) );
		$this->assertEquals( $Strategy->inSeconds(21.1), $this->object->inSeconds(21.1) );
		$this->assertEquals( $Strategy->inSeconds(42.2), $this->object->inSeconds(42.2) );
	}

}
