/*! jQuery v2.1.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m=a.document,n="2.1.0",o=function(a,b){return new o.fn.init(a,b)},p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};o.fn=o.prototype={jquery:n,constructor:o,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=o.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return o.each(this,a,b)},map:function(a){return this.pushStack(o.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},o.extend=o.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||o.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(o.isPlainObject(d)||(e=o.isArray(d)))?(e?(e=!1,f=c&&o.isArray(c)?c:[]):f=c&&o.isPlainObject(c)?c:{},g[b]=o.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},o.extend({expando:"jQuery"+(n+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==o.type(a)||a.nodeType||o.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(b){return !1}return !0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=o.trim(a),a&&(1===a.indexOf("use strict")?(b=m.createElement("script"),b.text=a,m.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":k.call(a)},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?o.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),o.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||o.guid++,f):void 0},now:Date.now,support:l}),o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=o.type(a);return"function"===c||o.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a){return d}if(1!==(i=b.nodeType)&&9!==i){return[]}if(n&&!e){if(f=Z.exec(a)){if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode){return d}if(g.id===h){return d.push(g),d}}else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h){return d.push(g),d}}}else{if(f[2]){return G.apply(d,b.getElementsByTagName(a)),d}if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return G.apply(d,b.getElementsByClassName(h)),d}}}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--){m[j]=q+pb(m[j])}u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v){try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},z=b?function(a,b){if(a===b){return j=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b){return j=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0}if(f===g){return ib(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){k.unshift(c)}while(h[d]===k[d]){d++}return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b))){try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}}else{if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=jb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=kb(b)}function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter){!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)}})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return !g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++){if(c=d.relative[a[j].type]){m=[qb(rb(m),c)]}else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++){if(d.relative[a[e].type]){break}}return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||0.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++]){if(o(m,g,i)){j.push(m);break}}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++]){o(r,s,g,i)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=E.call(j))}}s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--){f=ub(b[c]),f[s]?d.push(f):e.push(f)}f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++){db(a,b[d],c)}return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b){return e}a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type]){break}if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a){return G.apply(e,f),e}break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);o.find=t,o.expr=t.selectors,o.expr[":"]=o.expr.pseudos,o.unique=t.uniqueSort,o.text=t.getText,o.isXMLDoc=t.isXML,o.contains=t.contains;var u=o.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(o.isFunction(b)){return o.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return o.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return o.filter(b,a,c)}b=o.filter(b,a)}return o.grep(a,function(a){return g.call(b,a)>=0!==c})}o.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?o.find.matchesSelector(d,a)?[d]:[]:o.find.matches(a,o.grep(b,function(a){return 1===a.nodeType}))},o.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(o(a).filter(function(){for(b=0;c>b;b++){if(o.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){o.find(a,e[b],d)}return d=this.pushStack(c>1?o.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?o(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=o.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof o?b[0]:b,o.merge(this,o.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:m,!0)),v.test(c[1])&&o.isPlainObject(b)){for(c in b){o.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}return d=m.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=m,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):o.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(o):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),o.makeArray(a,this))};A.prototype=o.fn,y=o(m);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};o.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&o(a).is(c)){break}d.push(a)}}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),o.fn.extend({has:function(a){var b=o(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(o.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?o(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&o.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?o.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(o(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(o.unique(o.merge(this.get(),o(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType){}return a}o.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return a.contentDocument||o.merge([],a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=o.filter(d,e)),this.length>1&&(C[a]||o.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return o.each(a.match(E)||[],function(a,c){b[c]=!0}),b}o.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):o.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++){if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){o.each(b,function(b,c){var d=o.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&o.each(arguments,function(a,b){var c;while((c=o.inArray(b,h,c))>-1){h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}}),this},has:function(a){return a?o.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return !i},fireWith:function(a,b){return !h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!c}};return k},o.extend({Deferred:function(a){var b=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return o.Deferred(function(c){o.each(b,function(b,f){var g=o.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&o.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?o.extend(a,d):d}},e={};return d.pipe=d.then,o.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&o.isFunction(a.promise)?e:0,g=1===f?a:o.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&o.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;o.fn.ready=function(a){return o.ready.promise().done(a),this},o.extend({isReady:!1,readyWait:1,holdReady:function(a){a?o.readyWait++:o.ready(!0)},ready:function(a){(a===!0?--o.readyWait:o.isReady)||(o.isReady=!0,a!==!0&&--o.readyWait>0||(H.resolveWith(m,[o]),o.fn.trigger&&o(m).trigger("ready").off("ready")))}});function I(){m.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),o.ready()}o.ready.promise=function(b){return H||(H=o.Deferred(),"complete"===m.readyState?setTimeout(o.ready):(m.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},o.ready.promise();var J=o.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===o.type(c)){e=!0;for(h in c){o.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,o.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(o(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f};o.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=o.expando+Math.random()}K.uid=1,K.accepts=o.acceptData,K.prototype={key:function(a){if(!K.accepts(a)){return 0}var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,o.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b){f[b]=c}else{if(o.isEmptyObject(f)){o.extend(this.cache[e],b)}else{for(d in b){f[d]=b[d]}}}return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,o.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b){this.cache[f]={}}else{o.isArray(b)?d=b.concat(b.map(o.camelCase)):(e=o.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--){delete g[d[c]]}}},hasData:function(a){return !o.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?o.parseJSON(c):c}catch(e){}M.set(a,b,c)}else{c=void 0}}return c}o.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),o.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--){d=g[c].name,0===d.indexOf("data-")&&(d=o.camelCase(d.slice(5)),P(f,d,e[d]))}L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=o.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c){return c}if(c=M.get(f,d),void 0!==c){return c}if(c=P(f,d,void 0),void 0!==c){return c}}else{this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),o.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||o.isArray(c)?d=L.access(a,b,o.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=o.queue(a,b),d=c.length,e=c.shift(),f=o._queueHooks(a,b),g=function(){o.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:o.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),o.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?o.queue(this[0],a):void 0===b?this:this.each(function(){var c=o.queue(this,a,b);o._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=o.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===o.css(a,"display")||!o.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=m.createDocumentFragment(),b=a.appendChild(m.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";l.focusinBubbles="onfocusin" in a;var V=/^key/,W=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return !0}function $(){return !1}function _(){try{return m.activeElement}catch(a){}}o.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=o.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof o!==U&&o.event.triggered!==b.type?o.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--){h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n&&(l=o.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=o.event.special[n]||{},k=o.extend({type:n,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&o.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),o.event.global[n]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n){l=o.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||o.removeEvent(a,n,r.handle),delete i[n])}else{for(n in i){o.event.remove(a,n+b[j],c,d,!0)}}}o.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,p=[d||m],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||m,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+o.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[o.expando]?b:new o.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:o.makeArray(c,[b]),n=o.event.special[q]||{},e||!n.trigger||n.trigger.apply(d,c)!==!1)){if(!e&&!n.noBubble&&!o.isWindow(d)){for(i=n.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode){p.push(g),h=g}h===(d.ownerDocument||m)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped()){b.type=f>1?i:n.bindType||q,l=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),l&&l.apply(g,c),l=k&&g[k],l&&l.apply&&o.acceptData(g)&&(b.result=l.apply(g,c),b.result===!1&&b.preventDefault())}return b.type=q,e||b.isDefaultPrevented()||n._default&&n._default.apply(p.pop(),c)!==!1||!o.acceptData(d)||k&&o.isFunction(d[q])&&!o.isWindow(d)&&(h=d[k],h&&(d[k]=null),o.event.triggered=q,d[q](),o.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=o.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=o.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=o.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((o.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!==this;i=i.parentNode||this){if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?o(e,this).index(i)>=0:o.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||m,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[o.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new o.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=m),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return o.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=o.extend(new o.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?o.event.trigger(e,null,b):o.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},o.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},o.Event=function(a,b){return this instanceof o.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?Z:$):this.type=a,b&&o.extend(this,b),this.timeStamp=a&&a.timeStamp||o.now(),void (this[o.expando]=!0)):new o.Event(a,b)},o.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!o.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){o.event.simulate(b,a.target,o.event.fix(a),!0)};o.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),o.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a){this.on(g,b,c,a[g],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=$}else{if(!d){return this}}return 1===e&&(f=d,d=function(a){return o().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=o.guid++)),this.each(function(){o.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,o(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){o.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?o.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return o.nodeName(a,"table")&&o.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++){L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){o.event.add(b,e,j[e][c])}}}M.hasData(a)&&(h=M.access(a),i=o.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&o.nodeName(a,b)?o.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}o.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=o.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||o.isXMLDoc(a))){for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++){pb(f[d],g[d])}}if(b){if(c){for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++){nb(f[d],g[d])}}else{nb(a,h)}}return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++){if(e=a[m],e||0===e){if("object"===o.type(e)){o.merge(l,e.nodeType?[e]:e)}else{if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--){f=f.lastChild}o.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else{l.push(b.createTextNode(e))}}}}k.textContent="",m=0;while(e=l[m++]){if((!d||-1===o.inArray(e,d))&&(i=o.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++]){fb.test(e.type||"")&&c.push(e)}}}return k},cleanData:function(a){for(var b,c,d,e,f,g,h=o.event.special,i=0;void 0!==(c=a[i]);i++){if(o.acceptData(c)&&(f=c[L.expando],f&&(b=L.cache[f]))){if(d=Object.keys(b.events||{}),d.length){for(g=0;void 0!==(e=d[g]);g++){h[e]?o.event.remove(c,e):o.removeEvent(c,e,b.handle)}}L.cache[f]&&delete L.cache[f]}delete M.cache[c[M.expando]]}}}),o.fn.extend({text:function(a){return J(this,function(a){return void 0===a?o.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?o.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||o.cleanData(ob(c)),c.parentNode&&(b&&o.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(o.cleanData(ob(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return o.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(o.cleanData(ob(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,o.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,n=k-1,p=a[0],q=o.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&eb.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(k&&(c=o.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=o.map(ob(c,"script"),kb),g=f.length;k>j;j++){h=c,j!==n&&(h=o.clone(h,!0,!0),g&&o.merge(f,ob(h,"script"))),b.call(this[j],h,j)}if(g){for(i=f[f.length-1].ownerDocument,o.map(f,lb),j=0;g>j;j++){h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&o.contains(i,h)&&(h.src?o._evalUrl&&o._evalUrl(h.src):o.globalEval(h.textContent.replace(hb,"")))}}}return this}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(a){for(var c,d=[],e=o(a),g=e.length-1,h=0;g>=h;h++){c=h===g?this:this.clone(!0),o(e[h])[b](c),f.apply(d,c.get())}return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d=o(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:o.css(d[0],"display");return d.detach(),e}function tb(a){var b=m,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||o.contains(a.ownerDocument,a)||(g=o.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e=m.documentElement,f=m.createElement("div"),g=m.createElement("div");g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(g);function h(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",e.appendChild(f);var d=a.getComputedStyle(g,null);b="1%"!==d.top,c="4px"===d.width,e.removeChild(f)}a.getComputedStyle&&o.extend(l,{pixelPosition:function(){return h(),b},boxSizingReliable:function(){return null==c&&h(),c},reliableMarginRight:function(){var b,c=g.appendChild(m.createElement("div"));return c.style.cssText=g.style.cssText=d,c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.innerHTML="",b}})}(),o.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a){return b}var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--){if(b=Eb[e]+c,b in a){return b}}return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=o.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=o.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=o.css(a,"border"+R[f]+"Width",!0,e))):(g+=o.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=o.css(a,"border"+R[f]+"Width",!0,e)))}return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===o.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e)){return e}d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):f[g]||(e=S(d),(c&&"none"!==c||!e)&&L.set(d,"olddisplay",e?c:o.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o.camelCase(b),i=a.style;return b=o.cssProps[h]||(o.cssProps[h]=Fb(i,h)),g=o.cssHooks[b]||o.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(o.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||o.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=o.camelCase(b);return b=o.cssProps[h]||(o.cssProps[h]=Fb(a.style,h)),g=o.cssHooks[b]||o.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||o.isNumeric(f)?f||0:e):e}}),o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&zb.test(o.css(a,"display"))?o.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===o.css(a,"boxSizing",!1,e),e):0)}}}),o.cssHooks.marginRight=yb(l.reliableMarginRight,function(a,b){return b?o.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),o.each({margin:"",padding:"",border:"Width"},function(a,b){o.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+R[d]+b]=f[d]||f[d-2]||f[0]}return e}},ub.test(a)||(o.cssHooks[a+b].set=Gb)}),o.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(o.isArray(b)){for(d=wb(a),e=b.length;e>g;g++){f[b[g]]=o.css(a,b[g],!1,d)}return f}return void 0!==c?o.style(a,b,c):o.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?o(this).show():o(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}o.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(o.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?o.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=o.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){o.fx.step[a.prop]?o.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[o.cssProps[a.prop]]||o.cssHooks[a.prop])?o.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},o.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},o.fx=Kb.prototype.init,o.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(o.cssNumber[a]?"":"px"),g=(o.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(o.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,o.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=o.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=R[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Vb(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&S(a),p=L.get(a,"fxshow");c.queue||(h=o._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,o.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=o.css(a,"display"),"none"===j&&(j=tb(a.nodeName)),"inline"===j&&"none"===o.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!p||void 0===p[d]){continue}n=!0}l[d]=p&&p[d]||o.style(a,d)}}if(!o.isEmptyObject(l)){p?"hidden" in p&&(n=p.hidden):p=L.access(a,"fxshow",{}),f&&(p.hidden=!n),n?o(a).show():k.done(function(){o(a).hide()}),k.done(function(){var b;L.remove(a,"fxshow");for(b in l){o.style(a,b,l[b])}});for(d in l){g=Ub(n?p[d]:0,d,k),d in p||(p[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function Wb(a,b){var c,d,e,f,g;for(c in a){if(d=o.camelCase(c),e=b[d],f=a[c],o.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=o.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=o.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:o.extend({},b),opts:o.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=o.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++){if(d=Qb[f].call(j,a,k,j.opts)){return d}}return o.map(k,Ub,j),o.isFunction(j.opts.start)&&j.opts.start.call(a,j),o.fx.timer(o.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}o.Animation=o.extend(Xb,{tweener:function(a,b){o.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)}},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),o.speed=function(a,b,c){var d=a&&"object"==typeof a?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};return d.duration=o.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in o.fx.speeds?o.fx.speeds[d.duration]:o.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){o.isFunction(d.old)&&d.old.call(this),d.queue&&o.dequeue(this,d.queue)},d},o.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.isEmptyObject(a),f=o.speed(b,c,d),g=function(){var b=Xb(this,o.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=o.timers,g=L.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Pb.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&o.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=o.timers,g=d?d.length:0;for(c.finish=!0,o.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),o.each(["toggle","show","hide"],function(a,b){var c=o.fn[b];o.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),o.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),o.timers=[],o.fx.tick=function(){var a,b=0,c=o.timers;for(Lb=o.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||o.fx.stop(),Lb=void 0},o.fx.timer=function(a){o.timers.push(a),a()?o.fx.start():o.timers.pop()},o.fx.interval=13,o.fx.start=function(){Mb||(Mb=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Mb),Mb=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(a,b){return a=o.fx?o.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=m.createElement("input"),b=m.createElement("select"),c=b.appendChild(m.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=m.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var Yb,Zb,$b=o.expr.attrHandle;o.fn.extend({attr:function(a,b){return J(this,o.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){o.removeAttr(this,a)})}}),o.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===U?o.prop(a,b,c):(1===f&&o.isXMLDoc(a)||(b=b.toLowerCase(),d=o.attrHooks[b]||(o.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=o.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void o.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=o.propFix[c]||c,o.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&o.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?o.removeAttr(a,c):a.setAttribute(c,c),c}},o.each(o.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||o.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;o.fn.extend({prop:function(a,b){return J(this,o.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[o.propFix[a]||a]})}}),o.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!o.isXMLDoc(a),f&&(b=o.propFix[b]||b,e=o.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),l.optSelected||(o.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;o.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a)){return this.each(function(b){o(this).addClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=o.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a)){return this.each(function(b){o(this).removeClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?o.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(o.isFunction(a)?function(c){o(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=o(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0){return !0}}return !1}});var bc=/\r/g;o.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=o.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,o(this).val()):a,null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.map(e,function(a){return null==a?"":a+""})),b=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=o.valHooks[e.type]||o.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),o.extend({valHooks:{select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&o.nodeName(c.parentNode,"optgroup"))){if(b=o(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=o.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=o.inArray(o(d).val(),f)>=0)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(a,b){return o.isArray(b)?a.checked=o.inArray(o(a).val(),b)>=0:void 0}},l.checkOn||(o.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){o.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),o.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=o.now(),dc=/\?/;o.parseJSON=function(a){return JSON.parse(a+"")},o.parseXML=function(a){var b,c;if(!a||"string"!=typeof a){return null}try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=m.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(o.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,o.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=o.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&o.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,o.ajaxSettings),b):tc(o.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=o.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?o(l):o.event,n=o.Deferred(),p=o.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e)){f[b[1].toLowerCase()]=b[2]}}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(n.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=o.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=o.param(k.data,k.traditional)),sc(nc,k,b,v),2===t){return v}i=k.global,i&&0===o.active++&&o.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(o.lastModified[d]&&v.setRequestHeader("If-Modified-Since",o.lastModified[d]),o.etag[d]&&v.setRequestHeader("If-None-Match",o.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers){v.setRequestHeader(j,k.headers[j])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(j in {success:1,error:1,complete:1}){v[j](k[j])}if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(o.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(o.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?n.resolveWith(l,[r,x,v]):n.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--o.active||o.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return o.get(a,b,c,"json")},getScript:function(a,b){return o.get(a,void 0,b,"script")}}),o.each(["get","post"],function(a,b){o[b]=function(a,c,d,e){return o.isFunction(c)&&(e=e||d,d=c,c=void 0),o.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){o.fn[b]=function(a){return this.on(b,a)}}),o._evalUrl=function(a){return o.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},o.fn.extend({wrapAll:function(a){var b;return o.isFunction(a)?this.each(function(b){o(this).wrapAll(a.call(this,b))}):(this[0]&&(b=o(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return this.each(o.isFunction(a)?function(b){o(this).wrapInner(a.call(this,b))}:function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=o.isFunction(a);return this.each(function(c){o(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()}}),o.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},o.expr.filters.visible=function(a){return !o.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(o.isArray(b)){o.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==o.type(b)){d(a,b)}else{for(e in b){Bc(a+"["+e+"]",b[e],c,d)}}}}o.param=function(a,b){var c,d=[],e=function(a,b){b=o.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(a)||a.jquery&&!o.isPlainObject(a)){o.each(a,function(){e(this.name,this.value)})}else{for(c in a){Bc(c,a[c],b,e)}}return d.join("&").replace(wc,"+")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=o.prop(this,"elements");return a?o.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!o(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=o(this).val();return null==c?null:o.isArray(c)?o.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),o.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=o.ajaxSettings.xhr();a.ActiveXObject&&o(a).on("unload",function(){for(var a in Dc){Dc[a]()}}),l.cors=!!Fc&&"withCredentials" in Fc,l.ajax=Fc=!!Fc,o.ajaxTransport(function(a){var b;return l.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){f.setRequestHeader(e,c[e])}b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return o.globalEval(a),a}}}),o.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),o.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=o("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),m.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||o.expando+"_"+cc++;return this[a]=!0,a}}),o.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=o.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||o.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&o.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||m;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=o.buildFragment([a],b,e),e&&e.length&&o(e).remove(),o.merge([],d.childNodes))};var Ic=o.fn.load;o.fn.load=function(a,b,c){if("string"!=typeof a&&Ic){return Ic.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),o.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&o.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?o("<div>").append(o.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return o.isWindow(a)?a:9===a.nodeType&&a.defaultView}o.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=o.css(a,"position"),l=o(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=o.css(a,"top"),i=o.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),o.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},o.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){o.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,o.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===o.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),o.nodeName(a[0],"html")||(d=a.offset()),d.top+=o.css(a[0],"borderTopWidth",!0),d.left+=o.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-o.css(c,"marginTop",!0),left:b.left-d.left-o.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!o.nodeName(a,"html")&&"static"===o.css(a,"position")){a=a.offsetParent}return a||Jc})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;o.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void (g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),o.each(["top","left"],function(a,b){o.cssHooks[b]=yb(l.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?o(a).position()[b]+"px":c):void 0})}),o.each({Height:"height",Width:"width"},function(a,b){o.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){o.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return o.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?o.css(b,c,g):o.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),o.fn.size=function(){return this.length},o.fn.andSelf=o.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return o});var Lc=a.jQuery,Mc=a.$;return o.noConflict=function(b){return a.$===o&&(a.$=Mc),b&&a.jQuery===o&&(a.jQuery=Lc),o},typeof b===U&&(a.jQuery=a.$=o),o});var kcalPerHour=0;var splits=$("#formularSplitsContainer");var defaultSplit=$("#defaultInputSplit").val();function parseDate(b,e){e=e||"yyyy-mm-dd";var d=b.match(/(\d+)/g),c=0,a={};e.replace(/(yyyy|dd|mm)/g,function(f){a[f]=c++});return new Date(d[a.yyyy],d[a.mm]-1,d[a.dd])}function jUpdateSportValues(){var a=$("#sportid :selected"),e=a.attr("data-kcal"),f=a.attr("data-running"),c=a.attr("data-outside"),b=a.attr("data-distances"),d=a.attr("data-power");if(e>0){kcalPerHour=e}$("form .only-running").toggle(typeof f!=="undefined"&&f!==false);$("form .only-not-running").toggle(typeof f==="undefined"||f===false);$("form .only-outside").toggle(typeof c!=="undefined"&&c!==false);$("form .only-distances").toggle(typeof b!=="undefined"&&b!==false);$("form .only-power").toggle(typeof d!=="undefined"&&d!==false);$("#typeid option:not([data-sport='all'])").attr("disabled",true).hide();$("#typeid option[data-sport='"+a.val()+"']").attr("disabled",false).show();$(".only-specific-sports:not(.only-sport-"+a.val()+")").attr("disabled",true).hide();$(".only-specific-sports.only-sport-"+a.val()).attr("disabled",false).show();if($("#typeid option:selected").attr("disabled")){$("#typeid option:selected").attr("selected",false);$("#typeid option[data-sport='all']").attr("selected",true)}if($("#typeid option[value!=0]:not(:disabled)").length){$("#typeid").parent().show()}else{$("#typeid").parent().hide()}}function jUpdateAvailableEquipment(){var a=parseDate($("#time_day").val(),"dd.mm.yyyy").getTime();$("form .depends-on-date option, form .depends-on-date input").each(function(){var b=a==0||(!($(this).data("start")&&parseDate($(this).data("start"))>a)&&!($(this).data("end")&&parseDate($(this).data("end"))<a));$(this).attr("disabled",!b).toggle(b);if(!$(this).is("option")){$(this).parent().toggle(b)}if(!b){if($(this).is("option")){$(this).prop("selected",false)}else{$(this).prop("checked",false)}}})}function jUpdatePace(){var e=getDistance(),c=getTimeInSeconds();if(e==0||c==0){$("input[name=pace]").val("-:--");return}var f=c/60/e,a=Math.floor(f),b=Math.round((f-a)*60);if(b==60){b=0;a+=1}if(!(b>9)){$("input[name=pace]").val(a+":0"+b)}else{$("input[name=pace]").val(a+":"+b)}}function jUpdateKmh(){if(getTimeInHours()==0){return}var b=getDistance()/getTimeInHours(),a=Math.floor(b),c=Math.round((b-a)*100);if(!(c>9)){$("input[name=kmh]").val(a+",0"+c)}else{$("input[name=kmh]").val(a+","+c)}}function jUpdateKcal(){$("input[name=kcal]").val(Math.round(Number(kcalPerHour)*getTimeInHours()))}function getDistance(){return stringToDistance($("input[name=distance]").val())}function getTimeInHours(){return(getTimeInSeconds()/3600)}function getTimeInSeconds(){return stringToSeconds($("input[name=s]").val())}function stringToDistance(a){return Number(a.replace(",","."))*$("input[name='distance-to-km-factor']").val()}function stringToSeconds(c){var f=0,a=0,e=0,b=0,d=c.split(","),g=d[0].split(":");e=Number(g[0])*3600+Number(g[1])*60+Number(g[2]);if(d.length>1){if(d[1].length==1){b=Number(d[1])/10}else{b=Number(d[1])/100}}if(g.length==1){e=Number(g[0])}else{if(g.length==2){a=Number(g[0]);e=Number(g[1])}else{f=Number(g[0]);a=Number(g[1]);e=Number(g[2])}}return f*3600+a*60+e+b/100}function secondsToString(b){var a=new Date(null);a.setSeconds(b-60*60);return a.toTimeString().substr(0,8)}function sumSplitsToTotal(){var b=0,a=0;splits.find("input[name='splits[km][]']").each(function(c){b+=stringToDistance($(this).val())});splits.find("input[name='splits[time][]']").each(function(c){a+=stringToSeconds($(this).val())});$("#s").val(secondsToString(a));$("#distance").val(b.toFixed(2))}function allSplitsRest(){splits.find("select[name='splits[active][]']").val("0")}function allSplitsActive(){splits.find("select[name='splits[active][]']").val("1")}function evenSplits(a){splits.find("select[name='splits[active][]']:even").val(a)}function oddSplits(a){splits.find("select[name='splits[active][]']:odd").val(a)}function roundSplits(){splits.find("input[name='splits[km][]']").each(function(a){$(this).val((Math.round(10*$(this).val())/10).toFixed(2))})}function addSplit(){splits.find("ol.splits").append(defaultSplit)}(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";var getData=function(data){if(typeof data!="string"){return data}if(data.indexOf("{")<0){data=eval("("+data+")")}};var getObject=function(data){if(typeof data!="string"){return data}data=eval("("+data+")");return data};if(settings.type=="html5"){var object={};$(elem.attributes).each(function(){var name=this.nodeName;if(name.match(/^data-/)){name=name.replace(/^data-/,"")}else{return true}object[name]=getObject(this.nodeValue)})}else{if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}object=getObject(data.indexOf("{")<0?"{"+data+"}":data)}$.data(elem,settings.single,object);return object}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&typeof module.exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(b){b.extend({tablesorter:new function(){var c=this;c.version="2.18.4";c.parsers=[];c.widgets=[];c.defaults={theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,tabIndex:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortStable:false,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:true,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssAllowClicks:"tablesorter-allowClicks",cssIgnoreRow:"tablesorter-ignoreRow",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[]};c.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"};c.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"};function o(){var z=arguments[0],A=arguments.length>1?Array.prototype.slice.call(arguments):z;if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console[/error/i.test(z)?"error":/warn/i.test(z)?"warn":"log"](A)}else{alert(A)}}function h(z,A){o(z+" ("+(new Date().getTime()-A.getTime())+"ms)")}c.log=o;c.benchmark=h;function q(A){for(var z in A){return false}return true}function e(C,B,z){if(!B){return""}var E,F=C.config,A=F.textExtraction||"",D="";if(A==="basic"){D=b(B).attr(F.textAttribute)||B.textContent||B.innerText||b(B).text()||""}else{if(typeof(A)==="function"){D=A(B,C,z)}else{if(typeof(E=c.getColumnData(C,A,z))==="function"){D=E(B,C,z)}else{D=B.textContent||B.innerText||b(B).text()||""}}}return b.trim(D)}function j(G,I,E,D){var F,z,B=c.parsers.length,A=false,C="",H=true;while(C===""&&H){E++;if(I[E]){A=I[E].cells[D];C=e(G,A,D);z=b(A);if(G.config.debug){o("Checking if value was empty on row "+E+", column: "+D+': "'+C+'"')}}else{H=false}}while(--B>=0){F=c.parsers[B];if(F&&F.id!=="text"&&F.is&&F.is(C,G,A,z)){return F}}return c.getParserById("text")}function k(O){var M=O.config,F=M.$tbodies=M.$table.children("tbody:not(."+M.cssInfoBlock+")"),P,K,D,G,H,z,N,B,J,C,E=0,A="",I=F.length;if(I===0){return M.debug?o("Warning: *Empty table!* Not building a parser cache"):""}else{if(M.debug){C=new Date();o("Detecting parsers for each column")}}K={extractors:[],parsers:[]};while(E<I){P=F[E].rows;if(P[E]){D=M.columns;for(G=0;G<D;G++){H=M.$headers.filter('[data-column="'+G+'"]:last');z=c.getColumnData(O,M.headers,G);J=c.getParserById(c.getData(H,z,"extractor"));B=c.getParserById(c.getData(H,z,"sorter"));N=c.getData(H,z,"parser")==="false";M.empties[G]=(c.getData(H,z,"empty")||M.emptyTo||(M.emptyToBottom?"bottom":"top")).toLowerCase();M.strings[G]=(c.getData(H,z,"string")||M.stringTo||"max").toLowerCase();if(N){B=c.getParserById("no-parser")}if(!J){J=false}if(!B){B=j(O,P,-1,G)}if(M.debug){A+="column:"+G+"; extractor:"+J.id+"; parser:"+B.id+"; string:"+M.strings[G]+"; empty: "+M.empties[G]+"\n"}K.parsers[G]=B;K.extractors[G]=J}}E+=(K.parsers.length)?I:1}if(M.debug){o(A?A:"No parsers detected");h("Completed detecting parsers",C)}M.parsers=K.parsers;M.extractors=K.extractors}function y(Q){var J,I,S,H,P,O,M,K,F,G,A,D,E,N,R=Q.config,C=R.$table.children("tbody"),z=R.extractors,B=R.parsers;R.cache={};R.totalRows=0;if(!B){return R.debug?o("Warning: *Empty table!* Not building a cache"):""}if(R.debug){A=new Date()}if(R.showProcessing){c.isProcessing(Q,true)}for(M=0;M<C.length;M++){N=[];J=R.cache[M]={normalized:[]};if(!C.eq(M).hasClass(R.cssInfoBlock)){D=(C[M]&&C[M].rows.length)||0;for(P=0;P<D;++P){E={child:[]};K=b(C[M].rows[P]);F=[new Array(R.columns)];G=[];if(K.hasClass(R.cssChildRow)&&P!==0){I=J.normalized.length-1;J.normalized[I][R.columns].$row=J.normalized[I][R.columns].$row.add(K);if(!K.prev().hasClass(R.cssChildRow)){K.prev().addClass(c.css.cssHasChild)}E.child[I]=b.trim(K[0].textContent||K[0].innerText||K.text()||"");continue}E.$row=K;E.order=P;for(O=0;O<R.columns;++O){if(typeof B[O]==="undefined"){if(R.debug){o("No parser found for cell:",K[0].cells[O],"does it have a header?")}continue}I=e(Q,K[0].cells[O],O);if(typeof z[O].id==="undefined"){S=I}else{S=z[O].format(I,Q,K[0].cells[O],O)}H=B[O].id==="no-parser"?"":B[O].format(S,Q,K[0].cells[O],O);G.push(R.ignoreCase&&typeof H==="string"?H.toLowerCase():H);if((B[O].type||"").toLowerCase()==="numeric"){N[O]=Math.max(Math.abs(H)||0,N[O]||0)}}G[R.columns]=E;J.normalized.push(G)}J.colMax=N;R.totalRows+=J.normalized.length}}if(R.showProcessing){c.isProcessing(Q)}if(R.debug){h("Building cache for "+D+" rows",A)}}function w(M,K){var F=M.config,I=F.widgetOptions,G=M.tBodies,N=[],C=F.cache,B,J,z,A,E,D,H;if(q(C)){return F.appender?F.appender(M,N):M.isUpdating?F.$table.trigger("updateComplete",M):""}if(F.debug){H=new Date()}for(D=0;D<G.length;D++){z=b(G[D]);if(z.length&&!z.hasClass(F.cssInfoBlock)){A=c.processTbody(M,z,true);B=C[D].normalized;J=B.length;for(E=0;E<J;E++){N.push(B[E][F.columns].$row);if(!F.appender||(F.pager&&(!F.pager.removeRows||!I.pager_removeRows)&&!F.pager.ajax)){A.append(B[E][F.columns].$row)}}c.processTbody(M,A,false)}}if(F.appender){F.appender(M,N)}if(F.debug){h("Rebuilt table",H)}if(!K&&!F.appender){c.applyWidget(M)}if(M.isUpdating){F.$table.trigger("updateComplete",M)}}function g(z){return(/^d/i.test(z)||z===1)}function t(G){var z,B,D,C,H,F,A,E=G.config;E.headerList=[];E.headerContent=[];if(E.debug){A=new Date()}E.columns=c.computeColumnIndex(E.$table.children("thead, tfoot").children("tr"));C=E.cssIcon?'<i class="'+(E.cssIcon===c.css.icon?c.css.icon:E.cssIcon+" "+c.css.icon)+'"></i>':"";E.$headers=b(b.map(b(G).find(E.selectorHeaders),function(J,I){B=b(J);if(B.parent().hasClass(E.cssIgnoreRow)){return}z=c.getColumnData(G,E.headers,I,true);E.headerContent[I]=B.html();if(E.headerTemplate!==""){H=E.headerTemplate.replace(/\{content\}/g,B.html()).replace(/\{icon\}/g,C);if(E.onRenderTemplate){D=E.onRenderTemplate.apply(B,[I,H]);if(D&&typeof D==="string"){H=D}}B.html('<div class="'+c.css.headerIn+'">'+H+"</div>")}if(E.onRenderHeader){E.onRenderHeader.apply(B,[I,E,E.$table])}J.column=parseInt(B.attr("data-column"),10);J.order=g(c.getData(B,z,"sortInitialOrder")||E.sortInitialOrder)?[1,0,2]:[0,1,2];J.count=-1;J.lockedOrder=false;F=c.getData(B,z,"lockedOrder")||false;if(typeof F!=="undefined"&&F!==false){J.order=J.lockedOrder=g(F)?[1,1,1]:[0,0,0]}B.addClass(c.css.header+" "+E.cssHeader);E.headerList[I]=J;B.parent().addClass(c.css.headerRow+" "+E.cssHeaderRow).attr("role","row");if(E.tabIndex){B.attr("tabindex",0)}return J}));b(G).find(E.selectorHeaders).attr({scope:"col",role:"columnheader"});l(G);if(E.debug){h("Built headers:",A);o(E.$headers)}}function p(A,z,C){var B=A.config;B.$table.find(B.selectorRemove).remove();k(A);y(A);x(B.$table,z,C)}function l(C){var B,A,z,D=C.config;D.$headers.each(function(E,F){A=b(F);z=c.getColumnData(C,D.headers,E,true);B=c.getData(F,z,"sorter")==="false"||c.getData(F,z,"parser")==="false";F.sortDisabled=B;A[B?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+B);if(C.id){if(B){A.removeAttr("aria-controls")}else{A.attr("aria-controls",C.id)}}})}function d(K){var E,C,A,H=K.config,G=H.sortList,F=G.length,J=c.css.sortNone+" "+H.cssNone,D=[c.css.sortAsc+" "+H.cssAsc,c.css.sortDesc+" "+H.cssDesc],z=[H.cssIconAsc,H.cssIconDesc,H.cssIconNone],I=["ascending","descending"],B=b(K).find("tfoot tr").children().add(H.$extraHeaders).removeClass(D.join(" "));H.$headers.removeClass(D.join(" ")).addClass(J).attr("aria-sort","none").find("."+H.cssIcon).removeClass(z.join(" ")).addClass(z[2]);for(C=0;C<F;C++){if(G[C][1]!==2){E=H.$headers.not(".sorter-false").filter('[data-column="'+G[C][0]+'"]'+(F===1?":last":""));if(E.length){for(A=0;A<E.length;A++){if(!E[A].sortDisabled){E.eq(A).removeClass(J).addClass(D[G[C][1]]).attr("aria-sort",I[G[C][1]]).find("."+H.cssIcon).removeClass(z[2]).addClass(z[G[C][1]])}}if(B.length){B.filter('[data-column="'+G[C][0]+'"]').removeClass(J).addClass(D[G[C][1]])}}}}H.$headers.not(".sorter-false").each(function(){var N=b(this),O=this.order[(this.count+1)%(H.sortReset?3:2)],M=N.text()+": "+c.language[N.hasClass(c.css.sortAsc)?"sortAsc":N.hasClass(c.css.sortDesc)?"sortDesc":"sortNone"]+c.language[O===0?"nextAsc":O===1?"nextDesc":"nextNone"];N.attr("aria-label",M)})}function n(B){var z,A,C=B.config;if(C.widthFixed&&C.$table.children("colgroup").length===0){z=b("<colgroup>");A=b(B).width();b(B.tBodies).not("."+C.cssInfoBlock).find("tr:first").children(":visible").each(function(){z.append(b("<col>").css("width",parseInt((b(this).width()/A)*1000,10)/10+"%"))});C.$table.prepend(z)}}function u(F,D){var H,G,z,A,B,E=F.config,C=D||E.sortList;E.sortList=[];b.each(C,function(J,I){A=parseInt(I[0],10);z=E.$headers.filter('[data-column="'+A+'"]:last')[0];if(z){G=(""+I[1]).match(/^(1|d|s|o|n)/);G=G?G[0]:"";switch(G){case"1":case"d":G=1;break;case"s":G=B||0;break;case"o":H=z.order[(B||0)%(E.sortReset?3:2)];G=H===0?1:H===1?0:2;break;case"n":z.count=z.count+1;G=z.order[(z.count)%(E.sortReset?3:2)];break;default:G=0;break}B=J===0?G:B;H=[A,parseInt(G,10)||0];E.sortList.push(H);G=b.inArray(H[1],z.order);z.count=G>=0?G:H[1]%(E.sortReset?3:2)}})}function m(A,z){return(A&&A[z])?A[z].type||"":""}function v(I,G,z){if(I.isUpdating){return setTimeout(function(){v(I,G,z)},50)}var D,C,A,B,J,E=I.config,F=!z[E.sortMultiSortKey],H=E.$table;H.trigger("sortStart",I);G.count=z[E.sortResetKey]?2:(G.count+1)%(E.sortReset?3:2);if(E.sortRestart){C=G;E.$headers.each(function(){if(this!==C&&(F||!b(this).is("."+c.css.sortDesc+",."+c.css.sortAsc))){this.count=-1}})}C=parseInt(b(G).attr("data-column"),10);if(F){E.sortList=[];if(E.sortForce!==null){D=E.sortForce;for(A=0;A<D.length;A++){if(D[A][0]!==C){E.sortList.push(D[A])}}}B=G.order[G.count];if(B<2){E.sortList.push([C,B]);if(G.colSpan>1){for(A=1;A<G.colSpan;A++){E.sortList.push([C+A,B])}}}}else{if(E.sortAppend&&E.sortList.length>1){for(A=0;A<E.sortAppend.length;A++){J=c.isValueInArray(E.sortAppend[A][0],E.sortList);if(J>=0){E.sortList.splice(J,1)}}}if(c.isValueInArray(C,E.sortList)>=0){for(A=0;A<E.sortList.length;A++){J=E.sortList[A];B=E.$headers.filter('[data-column="'+J[0]+'"]:last')[0];if(J[0]===C){J[1]=B.order[G.count];if(J[1]===2){E.sortList.splice(A,1);B.count=-1}}}}else{B=G.order[G.count];if(B<2){E.sortList.push([C,B]);if(G.colSpan>1){for(A=1;A<G.colSpan;A++){E.sortList.push([C+A,B])}}}}}if(E.sortAppend!==null){D=E.sortAppend;for(A=0;A<D.length;A++){if(D[A][0]!==C){E.sortList.push(D[A])}}}H.trigger("sortBegin",I);setTimeout(function(){d(I);s(I);w(I);H.trigger("sortEnd",I)},1)}function s(O){var M,I,B,A,C,J,F,K,P,E,D,G=0,Q=O.config,N=Q.textSorter||"",R=Q.sortList,H=R.length,z=O.tBodies.length;if(Q.serverSideSorting||q(Q.cache)){return}if(Q.debug){C=new Date()}for(I=0;I<z;I++){J=Q.cache[I].colMax;F=Q.cache[I].normalized;F.sort(function(T,S){for(M=0;M<H;M++){A=R[M][0];K=R[M][1];G=K===0;if(Q.sortStable&&T[A]===S[A]&&H===1){return T[Q.columns].order-S[Q.columns].order}B=/n/i.test(m(Q.parsers,A));if(B&&Q.strings[A]){if(typeof(Q.string[Q.strings[A]])==="boolean"){B=(G?1:-1)*(Q.string[Q.strings[A]]?-1:1)}else{B=(Q.strings[A])?Q.string[Q.strings[A]]||0:0}P=Q.numberSorter?Q.numberSorter(T[A],S[A],G,J[A],O):c["sortNumeric"+(G?"Asc":"Desc")](T[A],S[A],B,J[A],A,O)}else{E=G?T:S;D=G?S:T;if(typeof(N)==="function"){P=N(E[A],D[A],G,A,O)}else{if(typeof(N)==="object"&&N.hasOwnProperty(A)){P=N[A](E[A],D[A],G,A,O)}else{P=c["sortNatural"+(G?"Asc":"Desc")](T[A],S[A],A,O,Q)}}}if(P){return P}}return T[Q.columns].order-S[Q.columns].order})}if(Q.debug){h("Sorting on "+R.toString()+" and dir "+K+" time",C)}}function f(z,B){var A=z[0];if(A.isUpdating){z.trigger("updateComplete",A)}if(b.isFunction(B)){B(z[0])}}function x(B,A,C){var z=B[0].config.sortList;if(A!==false&&!B[0].isProcessing&&z.length){B.trigger("sorton",[z,function(){f(B,C)},true])}else{f(B,C);c.applyWidget(B[0],false)}}function r(A){var B=A.config,z=B.$table;z.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(B.namespace+" ")).bind("sortReset"+B.namespace,function(C,D){C.stopPropagation();B.sortList=[];d(A);s(A);w(A);if(b.isFunction(D)){D(A)}}).bind("updateAll"+B.namespace,function(D,C,E){D.stopPropagation();A.isUpdating=true;c.refreshWidgets(A,true,true);c.restoreHeaders(A);t(A);c.bindEvents(A,B.$headers,true);r(A);p(A,C,E)}).bind("update"+B.namespace+" updateRows"+B.namespace,function(D,C,E){D.stopPropagation();A.isUpdating=true;l(A);p(A,C,E)}).bind("updateCell"+B.namespace,function(E,J,F,K){E.stopPropagation();A.isUpdating=true;z.find(B.selectorRemove).remove();var I,M,O,H,C=z.find("tbody"),G=b(J),N=C.index(b.fn.closest?G.closest("tbody"):G.parents("tbody").filter(":first")),D=b.fn.closest?G.closest("tr"):G.parents("tr").filter(":first");J=G[0];if(C.length&&N>=0){O=C.eq(N).find("tr").index(D);H=G.index();B.cache[N].normalized[O][B.columns].$row=D;if(typeof B.extractors[H].id==="undefined"){M=e(A,J,H)}else{M=B.extractors[H].format(e(A,J,H),A,J,H)}I=B.parsers[H].id==="no-parser"?"":B.parsers[H].format(M,A,J,H);B.cache[N].normalized[O][H]=B.ignoreCase&&typeof I==="string"?I.toLowerCase():I;if((B.parsers[H].type||"").toLowerCase()==="numeric"){B.cache[N].colMax[H]=Math.max(Math.abs(I)||0,B.cache[N].colMax[H]||0)}x(z,F,K)}}).bind("addRows"+B.namespace,function(G,I,H,K){G.stopPropagation();A.isUpdating=true;if(q(B.cache)){l(A);p(A,H,K)}else{I=b(I).attr("role","row");var F,E,D,N,J,C,M,P=I.filter("tr").length,O=z.find("tbody").index(I.parents("tbody").filter(":first"));if(!(B.parsers&&B.parsers.length)){k(A)}for(F=0;F<P;F++){D=I[F].cells.length;M=[];C={child:[],$row:I.eq(F),order:B.cache[O].normalized.length};for(E=0;E<D;E++){if(typeof B.extractors[E].id==="undefined"){N=e(A,I[F].cells[E],E)}else{N=B.extractors[E].format(e(A,I[F].cells[E],E),A,I[F].cells[E],E)}J=B.parsers[E].id==="no-parser"?"":B.parsers[E].format(N,A,I[F].cells[E],E);M[E]=B.ignoreCase&&typeof J==="string"?J.toLowerCase():J;if((B.parsers[E].type||"").toLowerCase()==="numeric"){B.cache[O].colMax[E]=Math.max(Math.abs(M[E])||0,B.cache[O].colMax[E]||0)}}M.push(C);B.cache[O].normalized.push(M)}x(z,H,K)}}).bind("updateComplete"+B.namespace,function(){A.isUpdating=false}).bind("sorton"+B.namespace,function(D,C,G,E){var F=A.config;D.stopPropagation();z.trigger("sortStart",this);u(A,C);d(A);if(F.delayInit&&q(F.cache)){y(A)}z.trigger("sortBegin",this);s(A);w(A,E);z.trigger("sortEnd",this);c.applyWidget(A);if(b.isFunction(G)){G(A)}}).bind("appendCache"+B.namespace,function(C,E,D){C.stopPropagation();w(A,D);if(b.isFunction(E)){E(A)}}).bind("updateCache"+B.namespace,function(C,D){if(!(B.parsers&&B.parsers.length)){k(A)}y(A);if(b.isFunction(D)){D(A)}}).bind("applyWidgetId"+B.namespace,function(C,D){C.stopPropagation();c.getWidgetById(D).format(A,B,B.widgetOptions)}).bind("applyWidgets"+B.namespace,function(C,D){C.stopPropagation();c.applyWidget(A,D)}).bind("refreshWidgets"+B.namespace,function(E,D,C){E.stopPropagation();c.refreshWidgets(A,D,C)}).bind("destroy"+B.namespace,function(D,E,C){D.stopPropagation();c.destroy(A,E,C)}).bind("resetToLoadState"+B.namespace,function(){c.refreshWidgets(A,true,true);B=b.extend(true,c.defaults,B.originalSettings);A.hasInitialized=false;c.setup(A,B)})}c.construct=function(z){return this.each(function(){var A=this,B=b.extend(true,{},c.defaults,z);B.originalSettings=z;if(!A.hasInitialized&&c.buildTable&&this.tagName!=="TABLE"){c.buildTable(A,B)}else{c.setup(A,B)}})};c.setup=function(C,D){if(!C||!C.tHead||C.tBodies.length===0||C.hasInitialized===true){return D.debug?o("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):""}var A="",B=b(C),z=b.metadata;C.hasInitialized=false;C.isProcessing=true;C.config=D;b.data(C,"tablesorter",D);if(D.debug){b.data(C,"startoveralltimer",new Date())}D.supportsDataObject=(function(E){E[0]=parseInt(E[0],10);return(E[0]>1)||(E[0]===1&&parseInt(E[1],10)>=4)})(b.fn.jquery.split("."));D.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:true,bottom:false};D.emptyTo=D.emptyTo.toLowerCase();D.stringTo=D.stringTo.toLowerCase();if(!/tablesorter\-/.test(B.attr("class"))){A=(D.theme!==""?" tablesorter-"+D.theme:"")}D.table=C;D.$table=B.addClass(c.css.table+" "+D.tableClass+A).attr("role","grid");D.$headers=B.find(D.selectorHeaders);if(!D.namespace){D.namespace=".tablesorter"+Math.random().toString(16).slice(2)}else{D.namespace="."+D.namespace.replace(/\W/g,"")}D.$table.children().children("tr").attr("role","row");D.$tbodies=B.children("tbody:not(."+D.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"});if(D.$table.children("caption").length){A=D.$table.children("caption")[0];if(!A.id){A.id=D.namespace.slice(1)+"caption"}D.$table.attr("aria-labelledby",A.id)}D.widgetInit={};D.textExtraction=D.$table.attr("data-text-extraction")||D.textExtraction||"basic";t(C);n(C);k(C);D.totalRows=0;if(!D.delayInit){y(C)}c.bindEvents(C,D.$headers,true);r(C);if(D.supportsDataObject&&typeof B.data().sortlist!=="undefined"){D.sortList=B.data().sortlist}else{if(z&&(B.metadata()&&B.metadata().sortlist)){D.sortList=B.metadata().sortlist}}c.applyWidget(C,true);if(D.sortList.length>0){B.trigger("sorton",[D.sortList,{},!D.initWidgets,true])}else{d(C);if(D.initWidgets){c.applyWidget(C,false)}}if(D.showProcessing){B.unbind("sortBegin"+D.namespace+" sortEnd"+D.namespace).bind("sortBegin"+D.namespace+" sortEnd"+D.namespace,function(E){clearTimeout(D.processTimer);c.isProcessing(C);if(E.type==="sortBegin"){D.processTimer=setTimeout(function(){c.isProcessing(C,true)},500)}})}C.hasInitialized=true;C.isProcessing=false;if(D.debug){c.benchmark("Overall initialization time",b.data(C,"startoveralltimer"))}B.trigger("tablesorter-initialized",C);if(typeof D.initialized==="function"){D.initialized(C)}};c.getColumnData=function(G,A,B,F,D){if(typeof A==="undefined"||A===null){return}G=b(G)[0];var H,z,C=G.config,E=(D||C.$headers);if(A[B]){return F?A[B]:A[E.index(E.filter('[data-column="'+B+'"]:last'))]}for(z in A){if(typeof z==="string"){H=E.filter('[data-column="'+B+'"]:last').filter(z).add(E.filter('[data-column="'+B+'"]:last').find(z));if(H.length){return A[z]}}}return};c.computeColumnIndex=function(H){var O=[],B={},N=0,F,E,D,C,M,P,Q,K,z,J,G,I,A;for(F=0;F<H.length;F++){Q=H[F].cells;for(E=0;E<Q.length;E++){P=Q[E];M=b(P);K=P.parentNode.rowIndex;z=K+"-"+M.index();J=P.rowSpan||1;G=P.colSpan||1;if(typeof(O[K])==="undefined"){O[K]=[]}for(D=0;D<O[K].length+1;D++){if(typeof(O[K][D])==="undefined"){I=D;break}}B[z]=I;N=Math.max(I,N);M.attr({"data-column":I});for(D=K;D<K+J;D++){if(typeof(O[D])==="undefined"){O[D]=[]}A=O[D];for(C=I;C<I+G;C++){A[C]="x"}}}}return N+1};c.isProcessing=function(C,A,B){C=b(C);var D=C[0].config,z=B||C.find("."+c.css.header);if(A){if(typeof B!=="undefined"&&D.sortList.length>0){z=z.filter(function(){return this.sortDisabled?false:c.isValueInArray(parseFloat(b(this).attr("data-column")),D.sortList)>=0})}C.add(z).addClass(c.css.processing+" "+D.cssProcessing)}else{C.add(z).removeClass(c.css.processing+" "+D.cssProcessing)}};c.processTbody=function(B,z,A){B=b(B)[0];var C;if(A){B.isProcessing=true;z.before('<span class="tablesorter-savemyplace"/>');C=(b.fn.detach)?z.detach():z.remove();return C}C=b(B).find("span.tablesorter-savemyplace");z.insertAfter(C);C.remove();B.isProcessing=false};c.clearTableBody=function(z){b(z)[0].config.$tbodies.children().detach()};c.bindEvents=function(B,A,z){B=b(B)[0];var D,C=B.config;if(z!==true){C.$extraHeaders=C.$extraHeaders?C.$extraHeaders.add(A):A}A.find(C.selectorSort).add(A.filter(C.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(C.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(C.namespace+" "),function(G,H){var E,F=G.type;if(((G.which||G.button)!==1&&!/sort|keyup/.test(F))||(F==="keyup"&&G.which!==13)){return}if(F==="mouseup"&&H!==true&&(new Date().getTime()-D>250)){return}if(F==="mousedown"){D=new Date().getTime();return/(input|select|button|textarea)/i.test(G.target.tagName)||b(G.target).closest("td,th").hasClass(C.cssAllowClicks)?"":!C.cancelSelection}if(C.delayInit&&q(C.cache)){y(B)}E=b.fn.closest?b(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:b(this).parents("th, td")[0];E=C.$headers[A.index(E)];if(!E.sortDisabled){v(B,E,G)}});if(C.cancelSelection){A.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}};c.restoreHeaders=function(z){var A=b(z)[0].config;A.$table.find(A.selectorHeaders).each(function(B){if(b(this).find("."+c.css.headerIn).length){b(this).html(A.headerContent[B])}})};c.destroy=function(D,A,G){D=b(D)[0];if(!D.hasInitialized){return}c.refreshWidgets(D,true,true);var F=b(D),E=D.config,z=F.find("thead:first"),B=z.find("tr."+c.css.headerRow).removeClass(c.css.headerRow+" "+E.cssHeaderRow),C=F.find("tfoot:first > tr").children("th, td");if(A===false&&b.inArray("uitheme",E.widgets)>=0){F.trigger("applyWidgetId",["uitheme"]);F.trigger("applyWidgetId",["zebra"])}z.find("tr").not(B).remove();F.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(E.namespace+" "));E.$headers.add(C).removeClass([c.css.header,E.cssHeader,E.cssAsc,E.cssDesc,c.css.sortAsc,c.css.sortDesc,c.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true");B.find(E.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(E.namespace+" "));c.restoreHeaders(D);F.toggleClass(c.css.table+" "+E.tableClass+" tablesorter-"+E.theme,A===false);D.hasInitialized=false;delete D.config.cache;if(typeof G==="function"){G(D)}};c.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i};c.sortNatural=function(F,E){if(F===E){return 0}var H,B,D,J,A,I,C,G,z=c.regex;if(z.hex.test(E)){B=parseInt(F.match(z.hex),16);J=parseInt(E.match(z.hex),16);if(B<J){return -1}if(B>J){return 1}}H=F.replace(z.chunk,"\\0$1\\0").replace(z.chunks,"").split("\\0");D=E.replace(z.chunk,"\\0$1\\0").replace(z.chunks,"").split("\\0");G=Math.max(H.length,D.length);for(C=0;C<G;C++){A=isNaN(H[C])?H[C]||0:parseFloat(H[C])||0;I=isNaN(D[C])?D[C]||0:parseFloat(D[C])||0;if(isNaN(A)!==isNaN(I)){return(isNaN(A))?1:-1}if(typeof A!==typeof I){A+="";I+=""}if(A<I){return -1}if(A>I){return 1}}return 0};c.sortNaturalAsc=function(A,z,B,C,E){if(A===z){return 0}var D=E.string[(E.empties[B]||E.emptyTo)];if(A===""&&D!==0){return typeof D==="boolean"?(D?-1:1):-D||-1}if(z===""&&D!==0){return typeof D==="boolean"?(D?1:-1):D||1}return c.sortNatural(A,z)};c.sortNaturalDesc=function(A,z,B,C,E){if(A===z){return 0}var D=E.string[(E.empties[B]||E.emptyTo)];if(A===""&&D!==0){return typeof D==="boolean"?(D?-1:1):D||1}if(z===""&&D!==0){return typeof D==="boolean"?(D?1:-1):-D||-1}return c.sortNatural(z,A)};c.sortText=function(A,z){return A>z?1:(A<z?-1:0)};c.getTextValue=function(A,B,D){if(D){var C,z=A?A.length:0,E=D+B;for(C=0;C<z;C++){E+=A.charCodeAt(C)}return B*E}return 0};c.sortNumericAsc=function(A,z,C,F,B,D){if(A===z){return 0}var G=D.config,E=G.string[(G.empties[B]||G.emptyTo)];if(A===""&&E!==0){return typeof E==="boolean"?(E?-1:1):-E||-1}if(z===""&&E!==0){return typeof E==="boolean"?(E?1:-1):E||1}if(isNaN(A)){A=c.getTextValue(A,C,F)}if(isNaN(z)){z=c.getTextValue(z,C,F)}return A-z};c.sortNumericDesc=function(A,z,C,F,B,D){if(A===z){return 0}var G=D.config,E=G.string[(G.empties[B]||G.emptyTo)];if(A===""&&E!==0){return typeof E==="boolean"?(E?-1:1):E||1}if(z===""&&E!==0){return typeof E==="boolean"?(E?1:-1):-E||-1}if(isNaN(A)){A=c.getTextValue(A,C,F)}if(isNaN(z)){z=c.getTextValue(z,C,F)}return z-A};c.sortNumeric=function(A,z){return A-z};c.characterEquivalents={a:"\u00e1\u00e0\u00e2\u00e3\u00e4\u0105\u00e5",A:"\u00c1\u00c0\u00c2\u00c3\u00c4\u0104\u00c5",c:"\u00e7\u0107\u010d",C:"\u00c7\u0106\u010c",e:"\u00e9\u00e8\u00ea\u00eb\u011b\u0119",E:"\u00c9\u00c8\u00ca\u00cb\u011a\u0118",i:"\u00ed\u00ec\u0130\u00ee\u00ef\u0131",I:"\u00cd\u00cc\u0130\u00ce\u00cf",o:"\u00f3\u00f2\u00f4\u00f5\u00f6",O:"\u00d3\u00d2\u00d4\u00d5\u00d6",ss:"\u00df",SS:"\u1e9e",u:"\u00fa\u00f9\u00fb\u00fc\u016f",U:"\u00da\u00d9\u00db\u00dc\u016e"};c.replaceAccents=function(B){var A,C="[",z=c.characterEquivalents;if(!c.characterRegex){c.characterRegexArray={};for(A in z){if(typeof A==="string"){C+=z[A];c.characterRegexArray[A]=new RegExp("["+z[A]+"]","g")}}c.characterRegex=new RegExp(C+"]")}if(c.characterRegex.test(B)){for(A in z){if(typeof A==="string"){B=B.replace(c.characterRegexArray[A],A)}}}return B};c.isValueInArray=function(A,C){var B,z=C.length;for(B=0;B<z;B++){if(C[B][0]===A){return B}}return -1};c.addParser=function(C){var B,A=c.parsers.length,z=true;for(B=0;B<A;B++){if(c.parsers[B].id.toLowerCase()===C.id.toLowerCase()){z=false}}if(z){c.parsers.push(C)}};c.getParserById=function(A){if(A=="false"){return false}var B,z=c.parsers.length;for(B=0;B<z;B++){if(c.parsers[B].id.toLowerCase()===(A.toString()).toLowerCase()){return c.parsers[B]}}return false};c.addWidget=function(z){c.widgets.push(z)};c.hasWidget=function(A,z){A=b(A);return A.length&&A[0].config&&A[0].config.widgetInit[z]||false};c.getWidgetById=function(B){var C,A,z=c.widgets.length;for(C=0;C<z;C++){A=c.widgets[C];if(A&&A.hasOwnProperty("id")&&A.id.toLowerCase()===B.toLowerCase()){return A}}};c.applyWidget=function(I,H){I=b(I)[0];var B=I.config,D=B.widgetOptions,C=" "+B.table.className+" ",E=[],A,G,F,z;if(H!==false&&I.hasInitialized&&(I.isApplyingWidgets||I.isUpdating)){return}if(B.debug){A=new Date()}z=new RegExp("\\s"+B.widgetClass.replace(/\{name\}/i,"([\\w-]+)")+"\\s","g");if(C.match(z)){F=C.match(z);if(F){b.each(F,function(J,K){B.widgets.push(K.replace(z,"$1"))})}}if(B.widgets.length){I.isApplyingWidgets=true;B.widgets=b.grep(B.widgets,function(K,J){return b.inArray(K,B.widgets)===J});b.each(B.widgets||[],function(J,K){z=c.getWidgetById(K);if(z&&z.id){if(!z.priority){z.priority=10}E[J]=z}});E.sort(function(K,J){return K.priority<J.priority?-1:K.priority===J.priority?0:1});b.each(E,function(K,J){if(J){if(H||!(B.widgetInit[J.id])){B.widgetInit[J.id]=true;if(J.hasOwnProperty("options")){D=I.config.widgetOptions=b.extend(true,{},J.options,D)}if(J.hasOwnProperty("init")){if(B.debug){G=new Date()}J.init(I,J,B,D);if(B.debug){c.benchmark("Initializing "+J.id+" widget",G)}}}if(!H&&J.hasOwnProperty("format")){if(B.debug){G=new Date()}J.format(I,B,D,false);if(B.debug){c.benchmark((H?"Initializing ":"Applying ")+J.id+" widget",G)}}}})}setTimeout(function(){I.isApplyingWidgets=false;b.data(I,"lastWidgetApplication",new Date())},0);if(B.debug){F=B.widgets.length;h("Completed "+(H===true?"initializing ":"applying ")+F+" widget"+(F!==1?"s":""),A)}};c.refreshWidgets=function(F,E,z){F=b(F)[0];var D,G=F.config,C=G.widgets,B=c.widgets,A=B.length;for(D=0;D<A;D++){if(B[D]&&B[D].id&&(E||b.inArray(B[D].id,C)<0)){if(G.debug){o('Refeshing widgets: Removing "'+B[D].id+'"')}if(B[D].hasOwnProperty("remove")&&G.widgetInit[B[D].id]){B[D].remove(F,G,G.widgetOptions);G.widgetInit[B[D].id]=false}}}if(z!==true){c.applyWidget(F,E)}};c.getData=function(E,D,C){var F="",A=b(E),z,B;if(!A.length){return""}z=b.metadata?A.metadata():false;B=" "+(A.attr("class")||"");if(typeof A.data(C)!=="undefined"||typeof A.data(C.toLowerCase())!=="undefined"){F+=A.data(C)||A.data(C.toLowerCase())}else{if(z&&typeof z[C]!=="undefined"){F+=z[C]}else{if(D&&typeof D[C]!=="undefined"){F+=D[C]}else{if(B!==" "&&B.match(" "+C+"-")){F=B.match(new RegExp("\\s"+C+"-([\\w-]+)"))[1]||""}}}}return b.trim(F)};c.formatFloat=function(B,C){if(typeof B!=="string"||B===""){return B}var A,z=C&&C.config?C.config.usNumberFormat!==false:typeof C!=="undefined"?C:true;if(z){B=B.replace(/,/g,"")}else{B=B.replace(/[\s|\.]/g,"").replace(/,/g,".")}if(/^\s*\([.\d]+\)/.test(B)){B=B.replace(/^\s*\(([.\d]+)\)/,"-$1")}A=parseFloat(B);return isNaN(A)?b.trim(B):A};c.isDigit=function(z){return isNaN(z)?(/^[\-+(]?\d+[)]?$/).test(z.toString().replace(/[,.'"\s]/g,"")):true}}()});var a=b.tablesorter;b.fn.extend({tablesorter:a.construct});a.addParser({id:"no-parser",is:function(){return false},format:function(){return""},type:"text"});a.addParser({id:"text",is:function(){return true},format:function(d,e){var f=e.config;if(d){d=b.trim(f.ignoreCase?d.toLocaleLowerCase():d);d=f.sortLocaleCompare?a.replaceAccents(d):d}return d},type:"text"});a.addParser({id:"digit",is:function(c){return a.isDigit(c)},format:function(c,d){var e=a.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&typeof e==="number"?e:c?b.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"});a.addParser({id:"currency",is:function(c){return(/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/).test((c||"").replace(/[+\-,. ]/g,""))},format:function(c,d){var e=a.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&typeof e==="number"?e:c?b.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"});a.addParser({id:"url",is:function(c){return(/^(https?|ftp|file):\/\//).test(c)},format:function(c){return c?b.trim(c.replace(/(https?|ftp|file):\/\//,"")):c},parsed:true,type:"text"});a.addParser({id:"isoDate",is:function(c){return(/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/).test(c)},format:function(d,e){var c=d?new Date(d.replace(/-/g,"/")):d;return c instanceof Date&&isFinite(c)?c.getTime():d},type:"numeric"});a.addParser({id:"percent",is:function(c){return(/(\d\s*?%|%\s*?\d)/).test(c)&&c.length<15},format:function(c,d){return c?a.formatFloat(c.replace(/%/g,""),d):c},type:"numeric"});a.addParser({id:"image",is:function(d,f,e,c){return c.find("img").length>0},format:function(d,e,c){return b(c).find("img").attr(e.config.imgAttr||"alt")||d},parsed:true,type:"text"});a.addParser({id:"usLongDate",is:function(c){return(/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i).test(c)||(/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i).test(c)},format:function(d,e){var c=d?new Date(d.replace(/(\S)([AP]M)$/i,"$1 $2")):d;return c instanceof Date&&isFinite(c)?c.getTime():d},type:"numeric"});a.addParser({id:"shortDate",is:function(c){return(/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/).test((c||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(m,l,k,h){if(m){var e,f,g=l.config,n=g.$headers.filter("[data-column="+h+"]:last"),j=n.length&&n[0].dateFormat||a.getData(n,a.getColumnData(l,g.headers,h),"dateFormat")||g.dateFormat;f=m.replace(/\s+/g," ").replace(/[\-.,]/g,"/");if(j==="mmddyyyy"){f=f.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2")}else{if(j==="ddmmyyyy"){f=f.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1")}else{if(j==="yyyymmdd"){f=f.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")}}}e=new Date(f);return e instanceof Date&&isFinite(e)?e.getTime():m}return m},type:"numeric"});a.addParser({id:"time",is:function(c){return(/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i).test(c)},format:function(d,e){var c=d?new Date("2000/01/01 "+d.replace(/(\S)([AP]M)$/i,"$1 $2")):d;return c instanceof Date&&isFinite(c)?c.getTime():d},type:"numeric"});a.addParser({id:"metadata",is:function(){return false},format:function(e,f,d){var h=f.config,g=(!h.parserMetadataName)?"sortValue":h.parserMetadataName;return b(d).metadata()[g]},type:"numeric"});a.addWidget({id:"zebra",priority:90,format:function(p,m,o){var e,h,l,q,j,f,g,d=new RegExp(m.cssChildRow,"i"),n=m.$tbodies;if(m.debug){f=new Date()}for(g=0;g<n.length;g++){q=0;e=n.eq(g);h=e.children("tr:visible").not(m.selectorRemove);h.each(function(){l=b(this);if(!d.test(this.className)){q++}j=(q%2===0);l.removeClass(o.zebra[j?1:0]).addClass(o.zebra[j?0:1])})}},remove:function(j,l,g){var f,e,d=l.$tbodies,h=(g.zebra||["even","odd"]).join(" ");for(f=0;f<d.length;f++){e=a.processTbody(j,d.eq(f),true);e.children().removeClass(h);a.processTbody(j,e,false)}}});return a}));
/*!
 * tablesorter (FORK) pager plugin
 * updated 12/22/2014 (v2.18.4)
 */
;(function(b){var a=b.tablesorter;b.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(B,A){return A},ajaxObject:{dataType:"json"},processAjaxOnInit:true,ajaxProcessing:function(A){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:true,page:0,pageReset:0,size:10,maxOptionSize:20,savePages:true,storageKey:"tablesorter-pager",fixedHeight:false,countChildRows:false,removeRows:false,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var p=this,y=function(B,D){var H="addClass",A="removeClass",F=B.cssDisabled,C=!!D,E=(C||B.page===0),G=Math.min(B.totalPages,B.filteredPages),I=(C||(B.page===G-1)||G===0);if(B.updateArrows){B.$container.find(B.cssFirst+","+B.cssPrev)[E?H:A](F).attr("aria-disabled",E);B.$container.find(B.cssNext+","+B.cssLast)[I?H:A](F).attr("aria-disabled",I)}},j=function(B,C){var D=B.config,A=D.$table.hasClass("hasFilters");if(A&&!C.ajaxUrl){if(b.isEmptyObject(D.cache)){C.filteredRows=C.totalRows=D.$tbodies.eq(0).children("tr").not(C.countChildRows?"":"."+D.cssChildRow).length}else{C.filteredRows=0;b.each(D.cache[0].normalized,function(E,F){C.filteredRows+=C.regexRows.test(F[D.columns].$row[0].className)?0:1})}}else{if(!A){C.filteredRows=C.totalRows}}},u=function(E,G,D){if(G.initializing){return}var C,A,B,H=E.config,F=G.size||10;if(G.countChildRows){A.push(H.cssChildRow)}G.totalPages=Math.ceil(G.totalRows/F);H.totalRows=G.totalRows;j(E,G);H.filteredRows=G.filteredRows;G.filteredPages=Math.ceil(G.filteredRows/F)||0;if(Math.min(G.totalPages,G.filteredPages)>=0){A=(G.size*G.page>G.filteredRows)&&D;G.startRow=(A)?1:(G.filteredRows===0?0:G.size*G.page+1);G.page=(A)?0:G.page;G.endRow=Math.min(G.filteredRows,G.totalRows,G.size*(G.page+1));B=G.$container.find(G.cssPageDisplay);C=(G.ajaxData&&G.ajaxData.output?G.ajaxData.output||G.output:G.output).replace(/\{page([\-+]\d+)?\}/gi,function(I,J){return G.totalPages?G.page+(J?parseInt(J,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(K){var J,M,O=K.replace(/[{}\s]/g,""),I=O.split(":"),N=G.ajaxData,P=/(rows?|pages?)$/i.test(O)?0:"";if(/(startRow|page)/.test(I[0])&&I[1]==="input"){J=(""+(I[0]==="page"?G.totalPages:G.totalRows)).length;M=I[0]==="page"?G.page+1:G.startRow;return'<input type="text" class="ts-'+I[0]+'" style="max-width:'+J+'em" value="'+M+'"/>'}return I.length>1&&N&&N[I[0]]?N[I[0]][I[1]]:G[O]||(N?N[O]:P)||P});if(B.length){B[(B[0].tagName==="INPUT")?"val":"html"](C);if(G.$goto.length){A="";b.each(o(G),function(J,I){A+='<option value="'+I+'">'+I+"</option>"});G.$goto.html(A).val(G.page+1)}B.find(".ts-startRow, .ts-page").unbind("change").bind("change",function(){var I=b(this).val(),J=b(this).hasClass("ts-startRow")?Math.floor(I/G.size)+1:I;H.$table.trigger("pageSet.pager",[J])})}}y(G);x(E,G);if(G.initialized&&D!==false){H.$table.trigger("pagerComplete",G);if(G.savePages&&a.storage){a.storage(E,G.storageKey,{page:G.page,size:G.size})}}},o=function(C){var G,N,F,E,B,I,J=Math.min(C.totalPages,C.filteredPages)||1,M=Math.ceil((J/C.maxOptionSize)/5)*5,O=J>C.maxOptionSize,K=C.page+1,P=M,H=J-M,A=[1],D=(O)?M:1;for(G=D;G<=J;){A.push(G);G=G+(O?M:1)}A.push(J);if(O){F=[];N=Math.max(Math.floor(C.maxOptionSize/M)-1,5);P=K-N;if(P<1){P=1}H=K+N;if(H>J){H=J}for(G=P;G<=H;G++){F.push(G)}A=b.grep(A,function(R,Q){return b.inArray(R,A)===Q});B=A.length;I=F.length;if(B-I>M/2&&B+I>C.maxOptionSize){E=Math.floor(B/2)-Math.floor(I/2);Array.prototype.splice.apply(A,[E,I])}A=A.concat(F)}A=b.grep(A,function(R,Q){return b.inArray(R,A)===Q}).sort(function(R,Q){return R-Q});return A},x=function(C,D){var E,A,F=C.config,B=F.$tbodies.eq(0);B.find("tr.pagerSavedHeightSpacer").remove();if(D.fixedHeight&&!D.isDisabled){A=b.data(C,"pagerSavedHeight");if(A){E=A-B.height();if(E>5&&b.data(C,"pagerLastSize")===D.size&&B.children("tr:visible").length<D.size){B.append('<tr class="pagerSavedHeightSpacer '+F.selectorRemove.slice(1)+'" style="height:'+E+'px;"></tr>')}}}},h=function(C,D){var A,E=C.config,B=E.$tbodies.eq(0);B.find("tr.pagerSavedHeightSpacer").remove();if(!B.children("tr:visible").length){B.append('<tr class="pagerSavedHeightSpacer '+E.selectorRemove.slice(1)+'"><td>&nbsp</td></tr>')}A=B.children("tr").eq(0).height()*D.size;b.data(C,"pagerSavedHeight",A);x(C,D);b.data(C,"pagerLastSize",D.size)},q=function(I,A){if(!A.ajaxUrl){var D,E=0,H=I.config,J=H.$tbodies.eq(0).children("tr"),B=J.length,K=(A.page*A.size),G=K+A.size,F=H.widgetOptions&&H.widgetOptions.filter_filteredRow||"filtered",C=0;for(D=0;D<B;D++){if(!J[D].className.match(F)){if(C===K&&J[D].className.match(H.cssChildRow)){J[D].style.display="none"}else{J[D].style.display=(C>=K&&C<G)?"":"none";C+=J[D].className.match(H.cssChildRow+"|"+H.selectorRemove.slice(1))&&!A.countChildRows?0:1;if(C===G&&J[D].style.display!=="none"&&J[D].className.match(a.css.cssHasChild)){E=D}}}}if(E>0&&J[E].className.match(a.css.cssHasChild)){while(++E<B&&J[E].className.match(H.cssChildRow)){J[E].style.display=""}}}},w=function(A,B){B.size=parseInt(B.$size.val(),10)||B.size;b.data(A,"pagerLastSize",B.size);y(B);if(!B.removeRows){q(A,B);b(A).bind("sortEnd.pager filterEnd.pager",function(){q(A,B)})}},l=function(T,P,I,D,E){if(typeof(I.ajaxProcessing)==="function"){var N,K,G,A,Q,H,C,R,J,U,S=P.config,O=S.$table,M="",F=I.ajaxProcessing(T,P,D)||[0,[]],B=O.find("thead th").length;a.showError(P);if(E){if(S.debug){a.log("Ajax Error",D,E)}a.showError(P,D.status===0?"Not connected, verify Network":D.status===404?"Requested page not found [404]":D.status===500?"Internal Server Error [500]":E==="parsererror"?"Requested JSON parse failed":E==="timeout"?"Time out error":E==="abort"?"Ajax Request aborted":"Uncaught error: "+D.statusText+" ["+D.status+"]");S.$tbodies.eq(0).children("tr").detach();I.totalRows=0}else{if(!b.isArray(F)){I.ajaxData=F;S.totalRows=I.totalRows=F.total;S.filteredRows=I.filteredRows=typeof F.filteredRows!=="undefined"?F.filteredRows:F.total;C=F.headers;R=F.rows}else{H=isNaN(F[0])&&!isNaN(F[1]);U=F[H?1:0];I.totalRows=isNaN(U)?I.totalRows||0:U;S.totalRows=S.filteredRows=I.filteredRows=I.totalRows;R=I.totalRows===0?[""]:F[H?0:1]||[];C=F[2]}J=R&&R.length;if(R instanceof jQuery){if(I.processAjaxOnInit){S.$tbodies.eq(0).children("tr").detach();S.$tbodies.eq(0).append(R)}}else{if(J){for(N=0;N<J;N++){M+="<tr>";for(K=0;K<R[N].length;K++){M+=/^\s*<td/.test(R[N][K])?b.trim(R[N][K]):"<td>"+R[N][K]+"</td>"}M+="</tr>"}if(I.processAjaxOnInit){S.$tbodies.eq(0).html(M)}}}I.processAjaxOnInit=true;if(C&&C.length===B){G=O.hasClass("hasStickyHeaders");Q=G?S.widgetOptions.$sticky.children("thead:first").children("tr").children():"";A=O.find("tfoot tr:first").children();S.$headers.filter("th").each(function(V){var X=b(this),W;if(X.find("."+a.css.icon).length){W=X.find("."+a.css.icon).clone(true);X.find(".tablesorter-header-inner").html(C[V]).append(W);if(G&&Q.length){W=Q.eq(V).find("."+a.css.icon).clone(true);Q.eq(V).find(".tablesorter-header-inner").html(C[V]).append(W)}}else{X.find(".tablesorter-header-inner").html(C[V]);if(G&&Q.length){Q.eq(V).find(".tablesorter-header-inner").html(C[V])}}A.eq(V).html(C[V])})}}if(S.showProcessing){a.isProcessing(P)}I.totalPages=Math.ceil(I.totalRows/(I.size||10));I.last.totalRows=I.totalRows;I.last.currentFilters=I.currentFilters;I.last.sortList=(S.sortList||[]).join(",");u(P,I,true);O.trigger("updateCache",[function(){if(I.initialized){setTimeout(function(){O.trigger("applyWidgets").trigger("pagerChange",I)},0)}}])}if(!I.initialized){I.initialized=true;I.initializing=false;b(P).trigger("applyWidgets").trigger("pagerInitialized",I);u(P,I)}},f=function(C,D){var B=v(C,D),F=b(document),A,E=C.config;if(B!==""){if(E.showProcessing){a.isProcessing(C,true)}F.bind("ajaxError.pager",function(I,J,H,G){l(null,C,D,J,G);F.unbind("ajaxError.pager")});A=++D.ajaxCounter;D.last.ajaxUrl=B;D.ajaxObject.url=B;D.ajaxObject.success=function(H,G,I){if(A<D.ajaxCounter){return}l(H,C,D,I);F.unbind("ajaxError.pager");if(typeof D.oldAjaxSuccess==="function"){D.oldAjaxSuccess(H)}};if(E.debug){a.log("ajax initialized",D.ajaxObject)}b.ajax(D.ajaxObject)}},v=function(I,B){var G=I.config,A=(B.ajaxUrl)?B.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(J,K){return B.page+(K?parseInt(K,10):0)}).replace(/\{size\}/g,B.size):"",D=G.sortList,H=B.currentFilters||b(I).data("lastSearch")||[],F=A.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),C=A.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),E=[];if(F){F=F[1];b.each(D,function(K,J){E.push(F+"["+J[0]+"]="+J[1])});A=A.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,E.length?E.join("&"):F);E=[]}if(C){C=C[1];b.each(H,function(K,J){if(J){E.push(C+"["+K+"]="+encodeURIComponent(J))}});A=A.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,E.length?E.join("&"):C);B.currentFilters=H}if(typeof(B.customAjaxUrl)==="function"){A=B.customAjaxUrl(I,A)}if(G.debug){a.log("Pager ajax url: "+A)}return A},t=function(K,N,A){var B,G,F,J,D=b(K),I=K.config,E=I.$table.hasClass("hasFilters"),C=N&&N.length||0,M=(A.page*A.size),H=A.size;if(C<1){if(I.debug){a.log("Pager: no rows for pager to render")}return}if(A.page>=A.totalPages){m(K,A)}A.isDisabled=false;if(A.initialized){D.trigger("pagerChange",A)}if(!A.removeRows){q(K,A)}else{a.clearTableBody(K);B=a.processTbody(K,I.$tbodies.eq(0),true);G=E?0:M;F=E?0:M;J=0;while(J<H&&G<N.length){if(!E||!/filtered/.test(N[G][0].className)){F++;if(F>M&&J<=H){J++;B.append(N[G])}}G++}a.processTbody(K,B,false)}u(K,A);if(K.isUpdating){D.trigger("updateComplete",[K,true])}},n=function(A,B){if(B.ajax){y(B,true)}else{B.isDisabled=true;b.data(A,"pagerLastPage",B.page);b.data(A,"pagerLastSize",B.size);B.page=0;B.size=B.totalRows;B.totalPages=1;b(A).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove();t(A,A.config.rowsCopy,B);b(A).trigger("applyWidgets");if(A.config.debug){a.log("pager disabled")}}B.$size.add(B.$goto).add(B.$container.find(".ts-startRow, .ts-page")).each(function(){b(this).attr("aria-disabled","true").addClass(B.cssDisabled)[0].disabled=true})},r=function(A){var C=A.config,B=C.pager;C.$table.trigger("updateCache",[function(){var D,E=[],F=A.config.cache[0].normalized;B.totalRows=F.length;for(D=0;D<B.totalRows;D++){E.push(F[D][C.columns].$row)}C.rowsCopy=E;d(A,B,true)}])},d=function(C,D,B){if(D.isDisabled){return}var G,F=C.config,E=b(C),A=D.last;if(B!==false&&D.initialized&&b.isEmptyObject(F.cache)){return r(C)}if(D.ajax&&a.hasWidget(C,"filter")&&!F.widgetOptions.filter_initialized){return}j(C,D);G=Math.min(D.totalPages,D.filteredPages);if(D.page<0){D.page=0}if(D.page>(G-1)&&G!==0){D.page=G-1}A.currentFilters=(A.currentFilters||[]).join("")===""?[]:A.currentFilters;D.currentFilters=(D.currentFilters||[]).join("")===""?[]:D.currentFilters;if(A.page===D.page&&A.size===D.size&&A.totalRows===D.totalRows&&(A.currentFilters||[]).join(",")===(D.currentFilters||[]).join(",")&&(A.ajaxUrl||"")===(D.ajaxObject.url||"")&&(A.optAjaxUrl||"")===(D.ajaxUrl||"")&&A.sortList===(F.sortList||[]).join(",")){return}if(F.debug){a.log("Pager changing to page "+D.page)}D.last={page:D.page,size:D.size,sortList:(F.sortList||[]).join(","),totalRows:D.totalRows,currentFilters:D.currentFilters||[],ajaxUrl:D.ajaxObject.url||"",optAjaxUrl:D.ajaxUrl||""};if(D.ajax){f(C,D)}else{if(!D.ajax){t(C,F.rowsCopy,D)}}b.data(C,"pagerLastPage",D.page);if(D.initialized&&B!==false){E.trigger("pageMoved",D).trigger("applyWidgets");if(C.isUpdating){E.trigger("updateComplete",[C,true])}}},e=function(B,A,C){C.size=A||C.size||10;C.$size.val(C.size);b.data(B,"pagerLastPage",C.page);b.data(B,"pagerLastSize",C.size);C.totalPages=Math.ceil(C.totalRows/C.size);C.filteredPages=Math.ceil(C.filteredRows/C.size);d(B,C)},g=function(A,B){B.page=0;d(A,B)},m=function(A,B){B.page=(Math.min(B.totalPages,B.filteredPages)-1);d(A,B)},s=function(A,B){B.page++;if(B.page>=(Math.min(B.totalPages,B.filteredPages)-1)){B.page=(Math.min(B.totalPages,B.filteredPages)-1)}d(A,B)},c=function(A,B){B.page--;if(B.page<=0){B.page=0}d(A,B)},z=function(A,B){n(A,B);B.$container.hide();A.config.appender=null;B.initialized=false;delete A.config.rowsCopy;b(A).unbind("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet ".split(" ").join(".pager "));if(a.storage){a.storage(A,B.storageKey,"")}},k=function(B,D,A){var C,E=B.config;D.$size.add(D.$goto).add(D.$container.find(".ts-startRow, .ts-page")).removeClass(D.cssDisabled).removeAttr("disabled").attr("aria-disabled","false");D.isDisabled=false;D.page=b.data(B,"pagerLastPage")||D.page||0;D.size=b.data(B,"pagerLastSize")||parseInt(D.$size.find("option[selected]").val(),10)||D.size||10;D.$size.val(D.size);D.totalPages=Math.ceil(Math.min(D.totalRows,D.filteredRows)/D.size);if(B.id){C=B.id+"_pager_info";D.$container.find(D.cssPageDisplay).attr("id",C);E.$table.attr("aria-describedby",C)}h(B,D);if(A){E.$table.trigger("updateRows");e(B,D.size,D);w(B,D);if(E.debug){a.log("pager enabled")}}};p.appender=function(A,B){var D=A.config,C=D.pager;if(!C.ajax){D.rowsCopy=B;C.totalRows=C.countChildRows?D.$tbodies.eq(0).children("tr").length:B.length;C.size=b.data(A,"pagerLastSize")||C.size||10;C.totalPages=Math.ceil(C.totalRows/C.size);t(A,B,C);u(A,C,false)}};p.construct=function(A){return this.each(function(){if(!(this.config&&this.hasInitialized)){return}var J,D,F,I=this,G=I.config,H=G.widgetOptions,B=G.pager=b.extend(true,{},b.tablesorterPager.defaults,A),E=G.$table,C=B.$container=b(B.container).addClass("tablesorter-pager").show();if(G.debug){a.log("Pager initializing")}B.oldAjaxSuccess=B.oldAjaxSuccess||B.ajaxObject.success;G.appender=p.appender;B.initializing=true;if(B.savePages&&a.storage){J=a.storage(I,B.storageKey)||{};B.page=isNaN(J.page)?B.page:J.page;B.size=(isNaN(J.size)?B.size:J.size)||10;b.data(I,"pagerLastSize",B.size)}B.regexRows=new RegExp("("+(H.filter_filteredRow||"filtered")+"|"+G.selectorRemove.slice(1)+"|"+G.cssChildRow+")");E.unbind("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet ".split(" ").join(".pager ")).bind("filterInit.pager filterStart.pager",function(K){B.currentFilters=G.$table.data("lastSearch");if(K.type==="filterStart"&&B.pageReset!==false&&(G.lastCombinedFilter||"")!==(B.currentFilters||[]).join("")){B.page=B.pageReset}}).bind("filterEnd.pager sortEnd.pager",function(){B.currentFilters=G.$table.data("lastSearch");if(B.initialized||B.initializing){if(G.delayInit&&G.rowsCopy&&G.rowsCopy.length===0){r(I)}u(I,B,false);d(I,B,false);G.$table.trigger("applyWidgets")}}).bind("disable.pager",function(K){K.stopPropagation();n(I,B)}).bind("enable.pager",function(K){K.stopPropagation();k(I,B,true)}).bind("destroy.pager",function(K){K.stopPropagation();z(I,B)}).bind("updateComplete.pager",function(O,N,K){O.stopPropagation();if(!N||K){return}var M=G.$tbodies.eq(0).children("tr").not(G.selectorRemove);B.totalRows=M.length-(B.countChildRows?0:M.filter("."+G.cssChildRow).length);B.totalPages=Math.ceil(B.totalRows/B.size);if(M.length&&G.rowsCopy&&G.rowsCopy.length===0){r(N)}if(B.page>=B.totalPages){m(N,B)}q(N,B);h(N,B);u(N,B,true)}).bind("pageSize.pager",function(M,K){M.stopPropagation();e(I,parseInt(K,10)||10,B);q(I,B);u(I,B,false);if(B.$size.length){B.$size.val(B.size)}}).bind("pageSet.pager",function(M,K){M.stopPropagation();B.page=(parseInt(K,10)||1)-1;if(B.$goto.length){B.$goto.val(B.size)}d(I,B,true);u(I,B,false)});D=[B.cssFirst,B.cssPrev,B.cssNext,B.cssLast];F=[g,c,s,m];C.find(D.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(N){N.stopPropagation();var M,O=b(this),K=D.length;if(!O.hasClass(B.cssDisabled)){for(M=0;M<K;M++){if(O.is(D[M])){F[M](I,B);break}}}});B.$goto=C.find(B.cssGoto);if(B.$goto.length){B.$goto.unbind("change").bind("change",function(){B.page=b(this).val()-1;d(I,B,true);u(I,B,false)})}B.$size=C.find(B.cssPageSize);if(B.$size.length){B.$size.find("option").removeAttr("selected");B.$size.unbind("change.pager").bind("change.pager",function(){B.$size.val(b(this).val());if(!b(this).hasClass(B.cssDisabled)){e(I,parseInt(b(this).val(),10),B);h(I,B)}return false})}B.initialized=false;E.trigger("pagerBeforeInitialized",B);k(I,B,false);if(typeof(B.ajaxUrl)==="string"){B.ajax=true;G.widgetOptions.filter_serversideFiltering=true;G.serverSideSorting=true;d(I,B)}else{B.ajax=false;b(this).trigger("appendCache",true);w(I,B)}if(!B.ajax&&!B.initialized){B.initializing=false;B.initialized=true;d(I,B);b(I).trigger("pagerInitialized",B);if(!(G.widgetOptions.filter_initialized&&a.hasWidget(I,"filter"))){u(I,B,false)}}})}}()});a.showError=function(d,c){b(d).each(function(){var e,g=this.config,f=g.pager&&g.pager.cssErrorRow||g.widgetOptions.pager_css&&g.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";if(g){if(typeof c==="undefined"){g.$table.find("thead").find(g.selectorRemove).remove()}else{e=(/tr\>/.test(c)?b(c):b('<tr><td colspan="'+g.columns+'">'+c+"</td></tr>")).click(function(){b(this).remove()}).appendTo(g.$table.find("thead:first")).addClass(f+" "+g.selectorRemove.slice(1)).attr({role:"alert","aria-live":"assertive"})}}})};b.fn.extend({tablesorterPager:b.tablesorterPager.construct})})(jQuery);!function(b){var a=function(d,c){this.init("tooltip",d,c)};a.prototype={constructor:a,init:function(f,e,d){var g,c;this.type=f;this.$element=b(e);this.options=this.getOptions(d);this.enabled=true;if(this.options.trigger!="manual"){g=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(g,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){return c.show()}clearTimeout(this.timeout);c.hoverState="in";this.timeout=setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)},leave:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!c.options.delay||!c.options.delay.hide){return c.hide()}c.hoverState="out";this.timeout=setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)},show:function(){var g,c,j,e,h,d,f;if(this.hasContent()&&this.enabled){g=this.tip();this.setContent();if(this.options.animation){g.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,g[0],this.$element[0]):this.options.placement;c=/in/.test(d);g.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);j=this.getPosition(c);e=g[0].offsetWidth;h=g[0].offsetHeight;switch(c?d.split(" ")[1]:d){case"bottom":f={top:j.top+j.height,left:j.left+j.width/2-e/2};break;case"top":f={top:j.top-h,left:j.left+j.width/2-e/2};break;case"left":f={top:j.top+j.height/2-h/2,left:j.left-e};break;case"right":f={top:j.top+j.height/2-h/2,left:j.left+j.width};break}g.css(f).addClass(d).addClass("in")}},isHTML:function(c){return typeof c!="string"||(c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(c)},setContent:function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.isHTML(c)?"html":"text"](c);d.removeClass("fade in top bottom left right")},hide:function(){var c=this,d=this.tip();d.removeClass("in");function e(){var f=setTimeout(function(){d.off(b.support.transition.end).remove()},500);d.one(b.support.transition.end,function(){clearTimeout(f);d.remove()})}b.support.transition&&this.$tip.hasClass("fade")?e():d.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,c=this.$element,d=this.options;e=c.attr("data-original-title")||(typeof d.title=="function"?d.title.call(c[0]):d.title);return e},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var f=b(this),e=f.data("tooltip"),d=typeof c=="object"&&c;if(!e){f.data("tooltip",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);var qq=function(b){return{hide:function(){b.style.display="none";return this},attach:function(a,d){b.addEventListener?b.addEventListener(a,d,!1):b.attachEvent&&b.attachEvent("on"+a,d);return function(){qq(b).detach(a,d)}},detach:function(a,d){b.removeEventListener?b.removeEventListener(a,d,!1):b.attachEvent&&b.detachEvent("on"+a,d);return this},contains:function(a){return b===a?!0:b.contains?b.contains(a):!!(a.compareDocumentPosition(b)&8)},insertBefore:function(a){a.parentNode.insertBefore(b,a);return this},remove:function(){b.parentNode.removeChild(b);return this},css:function(a){null!==a.opacity&&("string"!==typeof b.style.opacity&&"undefined"!==typeof b.filters)&&(a.filter="alpha(opacity="+Math.round(100*a.opacity)+")");qq.extend(b.style,a);return this},hasClass:function(a){return RegExp("(^| )"+a+"( |$)").test(b.className)},addClass:function(a){qq(b).hasClass(a)||(b.className+=" "+a);return this},removeClass:function(a){b.className=b.className.replace(RegExp("(^| )"+a+"( |$)")," ").replace(/^\s+|\s+$/g,"");return this},getByClass:function(a){var f,e=[];if(b.querySelectorAll){return b.querySelectorAll("."+a)}f=b.getElementsByTagName("*");qq.each(f,function(d,g){qq(g).hasClass(a)&&e.push(g)});return e},children:function(){for(var a=[],d=b.firstChild;d;){1===d.nodeType&&a.push(d),d=d.nextSibling}return a},setText:function(a){b.innerText=a;b.textContent=a;return this},clearText:function(){return qq(b).setText("")}}};qq.log=function(d,c){if(window.console){if(!c||"info"===c){window.console.log(d)}else{if(window.console[c]){window.console[c](d)}else{window.console.log("<"+c+"> "+d)}}}};qq.isObject=function(b){return null!==b&&b&&"object"===typeof b&&b.constructor===Object};qq.isFunction=function(b){return"function"===typeof b};qq.isString=function(b){return"[object String]"===Object.prototype.toString.call(b)};qq.trimStr=function(b){return String.prototype.trim?b.trim():b.replace(/^\s+|\s+$/g,"")};qq.isFileOrInput=function(b){if(window.File&&b instanceof File){return !0}if(window.HTMLInputElement){if(b instanceof HTMLInputElement&&b.type&&"file"===b.type.toLowerCase()){return !0}}else{if(b.tagName&&"input"===b.tagName.toLowerCase()&&b.type&&"file"===b.type.toLowerCase()){return !0}}return !1};qq.isBlob=function(b){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(b)};qq.isXhrUploadSupported=function(){var b=document.createElement("input");b.type="file";return void 0!==b.multiple&&"undefined"!==typeof File&&"undefined"!==typeof FormData&&"undefined"!==typeof(new XMLHttpRequest).upload};qq.isFolderDropSupported=function(b){return b.items&&b.items[0].webkitGetAsEntry};qq.isFileChunkingSupported=function(){return !qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)};qq.extend=function(e,d,f){qq.each(d,function(a,c){f&&qq.isObject(c)?(void 0===e[a]&&(e[a]={}),qq.extend(e[a],c,!0)):e[a]=c})};qq.indexOf=function(f,e,h){if(f.indexOf){return f.indexOf(e,h)}var h=h||0,g=f.length;for(0>h&&(h+=g);h<g;h+=1){if(f.hasOwnProperty(h)&&f[h]===e){return h}}return -1};qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var c=16*Math.random()|0;return("x"==d?c:c&3|8).toString(16)})};qq.ie=function(){return -1!==navigator.userAgent.indexOf("MSIE")};qq.ie10=function(){return -1!==navigator.userAgent.indexOf("MSIE 10")};qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")};qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")};qq.firefox=function(){return -1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor};qq.windows=function(){return"Win32"===navigator.platform};qq.android=function(){return -1!==navigator.userAgent.toLowerCase().indexOf("android")};qq.preventDefault=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1};qq.toElement=function(){var b=document.createElement("div");return function(a){b.innerHTML=a;a=b.firstChild;b.removeChild(a);return a}}();qq.each=function(f,e){var h,g;if(f){for(h in f){if(Object.prototype.hasOwnProperty.call(f,h)&&(g=e(h,f[h]),!1===g)){break}}}};qq.obj2url=function(h,g,n){var m,l=[],k="&",j=function(b,f){var e=g?/\[\]$/.test(g)?g:g+"["+f+"]":f;"undefined"!==e&&"undefined"!==f&&l.push("object"===typeof b?qq.obj2url(b,e,!0):"[object Function]"===Object.prototype.toString.call(b)?encodeURIComponent(e)+"="+encodeURIComponent(b()):encodeURIComponent(e)+"="+encodeURIComponent(b))};if(!n&&g){k=/\?/.test(g)?/\?$/.test(g)?"":"&":"?",l.push(g),l.push(qq.obj2url(h))}else{if("[object Array]"===Object.prototype.toString.call(h)&&"undefined"!==typeof h){m=-1;for(n=h.length;m<n;m+=1){j(h[m],m)}}else{if("undefined"!==typeof h&&null!==h&&"object"===typeof h){for(m in h){h.hasOwnProperty(m)&&j(h[m],m)}}else{l.push(encodeURIComponent(g)+"="+encodeURIComponent(h))}}}return g?l.join(k):l.join(k).replace(/^&/,"").replace(/%20/g,"+")};qq.obj2FormData=function(e,d,f){d||(d=new FormData);qq.each(e,function(b,c){b=f?f+"["+b+"]":b;qq.isObject(c)?qq.obj2FormData(c,d,b):qq.isFunction(c)?d.append(b,c()):d.append(b,c)});return d};qq.obj2Inputs=function(e,d){var f;d||(d=document.createElement("form"));qq.obj2FormData(e,{append:function(b,c){f=document.createElement("input");f.setAttribute("name",b);f.setAttribute("value",c);d.appendChild(f)}});return d};qq.setCookie=function(g,f,k){var j=new Date,h="";k&&(j.setTime(j.getTime()+86400000*k),h="; expires="+j.toGMTString());document.cookie=g+"="+f+h+"; path=/"};qq.getCookie=function(f){for(var f=f+"=",e=document.cookie.split(";"),h,g=0;g<e.length;g++){for(h=e[g];" "==h.charAt(0);){h=h.substring(1,h.length)}if(0===h.indexOf(f)){return h.substring(f.length,h.length)}}};qq.getCookieNames=function(e){var d=document.cookie.split(";"),f=[];qq.each(d,function(a,g){var g=qq.trimStr(g),c=g.indexOf("=");g.match(e)&&f.push(g.substr(0,c))});return f};qq.deleteCookie=function(b){qq.setCookie(b,"",-1)};qq.areCookiesEnabled=function(){var b="qqCookieTest:"+100000*Math.random();qq.setCookie(b,1);return qq.getCookie(b)?(qq.deleteCookie(b),!0):!1};qq.parseJson=function(a){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(a):eval("("+a+")")};qq.DisposeSupport=function(){var b=[];return{dispose:function(){var a;do{(a=b.shift())&&a()}while(a)},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(a){b.push(a)}}};qq.supportedFeatures=function(){var h,g,n,m,l,k;h=!0;try{g=document.createElement("input"),g.type="file",qq(g).hide(),g.disabled&&(h=!1)}catch(j){h=!1}n=(g=h&&qq.isXhrUploadSupported())&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);m=g&&qq.isFileChunkingSupported();l=g&&m&&qq.areCookiesEnabled();k=g&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);return{uploading:h,ajaxUploading:g,fileDrop:g,folderDrop:n,chunking:m,resume:l,uploadCustomHeaders:g,uploadNonMultipart:g,itemSizeValidation:g,uploadViaPaste:k,progressBar:g,uploadCors:h&&(void 0!==window.postMessage||g),deleteFileCors:g}}();qq.Promise=function(){var h,g,m,l,k,j=0;return{then:function(b,a){0===j?(m=b,l=a):-1===j&&a?a(g):b&&b(h);return this},done:function(b){0===j?k=b:b();return this},success:function(a){j=1;h=a;m&&m(a);k&&k();return this},failure:function(b){j=-1;g=b;l&&l(b);k&&k();return this}}};qq.UploadButton=function(g){function f(){var b=document.createElement("input");h.multiple&&b.setAttribute("multiple","multiple");h.acceptFiles&&b.setAttribute("accept",h.acceptFiles);b.setAttribute("type","file");b.setAttribute("name",h.name);qq(b).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});h.element.appendChild(b);j.attach(b,"change",function(){h.onChange(b)});j.attach(b,"mouseover",function(){qq(h.element).addClass(h.hoverClass)});j.attach(b,"mouseout",function(){qq(h.element).removeClass(h.hoverClass)});j.attach(b,"focus",function(){qq(h.element).addClass(h.focusClass)});j.attach(b,"blur",function(){qq(h.element).removeClass(h.focusClass)});window.attachEvent&&b.setAttribute("tabIndex","-1");return b}var k,j=new qq.DisposeSupport,h={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(h,g);qq(h.element).css({position:"relative",overflow:"hidden",direction:"ltr"});k=f();return{getInput:function(){return k},reset:function(){k.parentNode&&qq(k).remove();qq(h.element).removeClass(h.focusClass);k=f()}}};qq.PasteSupport=function(d){var c;c={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}};qq.extend(c,d);(function(){qq(c.targetElement).attach("paste",function(b){(b=b.clipboardData)&&qq.each(b.items,function(e,h){if(h.type&&0===h.type.indexOf("image/")){var g=h.getAsFile();c.callbacks.pasteReceived(g)}})})})();return{reset:function(){}}};qq.FineUploaderBasic=function(b){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(c){33<c.length&&(c=c.slice(0,19)+"..."+c.slice(-14));return c},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:"kB MB GB TB PB EB".split(" ")},deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}};qq.extend(this._options,b,!0);this._wrapCallbacks();this._disposeSupport=new qq.DisposeSupport;this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._netUploaded=this._netUploadedOrQueued=0;this._paramsStore=this._createParamsStore("request");this._deleteFileParamsStore=this._createParamsStore("deleteFile");this._endpointStore=this._createEndpointStore("request");this._deleteFileEndpointStore=this._createEndpointStore("deleteFile");this._handler=this._createUploadHandler();this._deleteHandler=this._createDeleteHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler());this._preventLeaveInProgress()};qq.FineUploaderBasic.prototype={log:function(d,c){this._options.debug&&(!c||"info"===c)?qq.log("[FineUploader] "+d):c&&"info"!==c&&qq.log("[FineUploader] "+d,c)},setParams:function(d,c){null==c?this._options.request.params=d:this._paramsStore.setParams(d,c)},setDeleteFileParams:function(d,c){null==c?this._options.deleteFile.params=d:this._deleteFileParamsStore.setParams(d,c)},setEndpoint:function(d,c){null==c?this._options.request.endpoint=d:this._endpointStore.setEndpoint(d,c)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){for(var b;this._storedIds.length;){b=this._storedIds.shift(),this._filesInProgress.push(b),this._handler.upload(b)}},clearStoredFiles:function(){this._storedIds=[]},retry:function(b){return this._onBeforeManualRetry(b)?(this._netUploadedOrQueued++,this._handler.retry(b),!0):!1},cancel:function(b){this._handler.cancel(b)},cancelAll:function(){var d=[],c=this;qq.extend(d,this._storedIds);qq.each(d,function(b,e){c.cancel(e)});this._handler.cancelAll()},reset:function(){this.log("Resetting uploader...");this._handler.reset();this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._button.reset();this._paramsStore.reset();this._endpointStore.reset();this._netUploaded=this._netUploadedOrQueued=0;this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(h,g,m){var l=[],k,j;if(h){if(!window.FileList||!(h instanceof FileList)){h=[].concat(h)}for(k=0;k<h.length;k+=1){j=h[k],qq.isFileOrInput(j)?l.push(j):this.log(j+" is not a File or INPUT element!  Ignoring!","warn")}this.log("Processing "+l.length+" files or inputs...");this._uploadFileOrBlobDataList(l,g,m)}},addBlobs:function(g,f,k){if(g){var g=[].concat(g),j=[],h=this;qq.each(g,function(d,c){qq.isBlob(c)&&!qq.isFileOrInput(c)?j.push({blob:c,name:h._options.blobs.defaultName}):qq.isObject(c)&&c.blob&&c.name?j.push(c):h.log("addBlobs: entry at index "+d+" is not a Blob or a BlobData object","error")});this._uploadFileOrBlobDataList(j,f,k)}else{this.log("undefined or non-array parameter passed into addBlobs","error")}},getUuid:function(b){return this._handler.getUuid(b)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(b){return this._handler.getSize(b)},getName:function(b){return this._handler.getName(b)},getFile:function(b){return this._handler.getFile(b)},deleteFile:function(b){this._onSubmitDelete(b)},setDeleteFileEndpoint:function(d,c){null==c?this._options.deleteFile.endpoint=d:this._deleteFileEndpointStore.setEndpoint(d,c)},_createUploadButton:function(e){var d=this,f=new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.supportedFeatures.ajaxUploading,acceptFiles:this._options.validation.acceptFiles,onChange:function(b){d._onInputChange(b)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});this._disposeSupport.addDisposer(function(){f.dispose()});return f},_createUploadHandler:function(){var b=this;return new qq.UploadHandler({debug:this._options.debug,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(a,d){b.log(a,d)},onProgress:function(a,h,g,f){b._onProgress(a,h,g,f);b._options.callbacks.onProgress(a,h,g,f)},onComplete:function(a,h,g,f){b._onComplete(a,h,g,f);b._options.callbacks.onComplete(a,h,g,f)},onCancel:function(a,d){b._onCancel(a,d);b._options.callbacks.onCancel(a,d)},onUpload:function(a,d){b._onUpload(a,d);b._options.callbacks.onUpload(a,d)},onUploadChunk:function(a,f,e){b._options.callbacks.onUploadChunk(a,f,e)},onResume:function(a,f,e){return b._options.callbacks.onResume(a,f,e)},onAutoRetry:function(a,h,g,f){b._preventRetries[a]=g[b._options.retry.preventRetryResponseProperty];return b._shouldAutoRetry(a,h,g)?(b._maybeParseAndSendUploadError(a,h,g,f),b._options.callbacks.onAutoRetry(a,h,b._autoRetries[a]+1),b._onBeforeAutoRetry(a,h),b._retryTimeouts[a]=setTimeout(function(){b._onAutoRetry(a,h,g)},1000*b._options.retry.autoAttemptDelay),!0):!1}})},_createDeleteHandler:function(){var b=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(a,d){b.log(a,d)},onDelete:function(a){b._onDelete(a);b._options.callbacks.onDelete(a)},onDeleteComplete:function(a,f,e){b._onDeleteComplete(a,f,e);b._options.callbacks.onDeleteComplete(a,f,e)}})},_createPasteHandler:function(){var b=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(a,d){b.log(a,d)},pasteReceived:function(a){var d=b._options.callbacks.onPasteReceived;(d=d(a))&&d.then?d.then(function(e){b._handlePasteSuccess(a,e)},function(c){b.log("Ignoring pasted image per paste received callback.  Reason = '"+c+"'")}):b._handlePasteSuccess(a)}}})},_handlePasteSuccess:function(f,e){var h=f.type.split("/")[1],g=e;null==g&&(g=this._options.paste.defaultName);this.addBlobs({name:g+("."+h),blob:f})},_preventLeaveInProgress:function(){var b=this;this._disposeSupport.attach(window,"beforeunload",function(a){if(b._filesInProgress.length){return a=a||window.event,a.returnValue=b._options.messages.onLeave}})},_onSubmit:function(b){this._netUploadedOrQueued++;this._options.autoUpload&&this._filesInProgress.push(b)},_onProgress:function(){},_onComplete:function(f,e,h,g){h.success?this._netUploaded++:this._netUploadedOrQueued--;this._removeFromFilesInProgress(f);this._maybeParseAndSendUploadError(f,e,h,g)},_onCancel:function(b){this._netUploadedOrQueued--;this._removeFromFilesInProgress(b);clearTimeout(this._retryTimeouts[b]);b=qq.indexOf(this._storedIds,b);!this._options.autoUpload&&0<=b&&this._storedIds.splice(b,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||qq.supportedFeatures.deleteFileCors)},_onSubmitDelete:function(b){if(this._isDeletePossible()){!1!==this._options.callbacks.onSubmitDelete(b)&&this._deleteHandler.sendDelete(b,this.getUuid(b))}else{return this.log("Delete request ignored for ID "+b+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1}},_onDelete:function(){},_onDeleteComplete:function(f,e,h){var g=this._handler.getName(f);h?(this.log("Delete request for '"+g+"' has failed.","error"),this._options.callbacks.onError(f,g,"Delete request failed with response code "+e.status,e)):(this._netUploadedOrQueued--,this._netUploaded--,this.log("Delete request for '"+g+"' has succeeded."))},_removeFromFilesInProgress:function(b){b=qq.indexOf(this._filesInProgress,b);0<=b&&this._filesInProgress.splice(b,1)},_onUpload:function(){},_onInputChange:function(b){qq.supportedFeatures.ajaxUploading?this.addFiles(b.files):this.addFiles(b);this._button.reset()},_onBeforeAutoRetry:function(d,c){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+c+"...")},_onAutoRetry:function(d,c){this.log("Retrying "+c+"...");this._autoRetries[d]++;this._handler.retry(d)},_shouldAutoRetry:function(b){return !this._preventRetries[b]&&this._options.retry.enableAuto?(void 0===this._autoRetries[b]&&(this._autoRetries[b]=0),this._autoRetries[b]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(e){var d=this._options.validation.itemLimit;if(this._preventRetries[e]){return this.log("Retries are forbidden for id "+e,"warn"),!1}if(this._handler.isValid(e)){var f=this._handler.getName(e);if(!1===this._options.callbacks.onManualRetry(e,f)){return !1}if(0<d&&this._netUploadedOrQueued+1>d){return this._itemError("retryFailTooManyItems",""),!1}this.log("Retrying upload for '"+f+"' (id: "+e+")...");this._filesInProgress.push(e);return !0}this.log("'"+e+"' is not a valid file ID","error");return !1},_maybeParseAndSendUploadError:function(f,e,h,g){if(!h.success){if(g&&200!==g.status&&!h.error){this._options.callbacks.onError(f,e,"XHR returned response code "+g.status,g)}else{this._options.callbacks.onError(f,e,h.error?h.error:this._options.text.defaultResponseError,g)}}},_uploadFileOrBlobDataList:function(f,e,h){var g;if(this._isBatchValid(this._getValidationDescriptors(f))){if(0<f.length){for(g=0;g<f.length;g++){if(this._validateFileOrBlobData(f[g])){this._upload(f[g],e,h)}else{if(this._options.validation.stopOnFirstInvalidFile){break}}}}else{this._itemError("noFilesError","")}}},_upload:function(f,e,h){var f=this._handler.add(f),g=this._handler.getName(f);e&&this.setParams(e,f);h&&this.setEndpoint(h,f);!1!==this._options.callbacks.onSubmit(f,g)&&(this._onSubmit(f,g),this._options.callbacks.onSubmitted(f,g),this._options.autoUpload?this._handler.upload(f):this._storeForLater(f))},_storeForLater:function(b){this._storedIds.push(b)},_isBatchValid:function(e){var d;d=this._options.validation.itemLimit;var f=this._netUploadedOrQueued+e.length;if(e=!1!==this._options.callbacks.onValidateBatch(e)){0===d||f<=d?e=!0:(e=!1,d=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,f).replace(/\{itemLimit\}/g,d),this._batchError(d))}return e},_validateFileOrBlobData:function(f){var e,h,g;e=this._getValidationDescriptor(f);h=e.name;g=e.size;return !1===this._options.callbacks.onValidate(e)?!1:qq.isFileOrInput(f)&&!this._isAllowedExtension(h)?(this._itemError("typeError",h),!1):0===g?(this._itemError("emptyError",h),!1):g&&this._options.validation.sizeLimit&&g>this._options.validation.sizeLimit?(this._itemError("sizeError",h),!1):g&&g<this._options.validation.minSizeLimit?(this._itemError("minSizeError",h),!1):!0},_itemError:function(h,g){function p(d,c){o=o.replace(d,c)}var o=this._options.messages[h],n=[],m=[].concat(g),l=m[0],j;qq.each(this._options.validation.allowedExtensions,function(d,c){qq.isString(c)&&n.push(c)});j=n.join(", ").toLowerCase();p("{file}",this._options.formatFileName(l));p("{extensions}",j);p("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit));p("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit));j=o.match(/(\{\w+\})/g);null!==j&&qq.each(j,function(d,c){p(c,m[d])});this._options.callbacks.onError(null,l,o);return o},_batchError:function(b){this._options.callbacks.onError(null,null,b)},_isAllowedExtension:function(e){var d=this._options.validation.allowedExtensions,f=!1;if(!d.length){return !0}qq.each(d,function(a,c){if(qq.isString(c)&&null!=e.match(RegExp("\\."+c+"$","i"))){return f=!0,!1}});return f},_formatSize:function(d){var c=-1;do{d/=1024,c++}while(99<d);return Math.max(d,0.1).toFixed(1)+this._options.text.sizeSymbols[c]},_wrapCallbacks:function(){var e,d;e=this;d=function(a,j,h){try{return j.apply(e,h)}catch(g){e.log("Caught exception in '"+a+"' callback - "+g.message,"error")}};for(var f in this._options.callbacks){(function(){var b,a;b=f;a=e._options.callbacks[b];e._options.callbacks[b]=function(){return d(b,a,arguments)}})()}},_parseFileOrBlobDataName:function(b){return qq.isFileOrInput(b)?b.value?b.value.replace(/.*(\/|\\)/,""):null!==b.fileName&&void 0!==b.fileName?b.fileName:b.name:b.name},_parseFileOrBlobDataSize:function(d){var c;qq.isFileOrInput(d)?d.value||(c=null!==d.fileSize&&void 0!==d.fileSize?d.fileSize:d.size):c=d.blob.size;return c},_getValidationDescriptor:function(e){var d,f;f={};d=this._parseFileOrBlobDataName(e);e=this._parseFileOrBlobDataSize(e);f.name=d;void 0!==e&&(f.size=e);return f},_getValidationDescriptors:function(e){var d=this,f=[];qq.each(e,function(b,c){f.push(d._getValidationDescriptor(c))});return f},_createParamsStore:function(e){var d={},f=this;return{setParams:function(b,h){var g={};qq.extend(g,b);d[h]=g},getParams:function(b){var a={};null!=b&&d[b]?qq.extend(a,d[b]):qq.extend(a,f._options[e].params);return a},remove:function(b){return delete d[b]},reset:function(){d={}}}},_createEndpointStore:function(e){var d={},f=this;return{setEndpoint:function(b,g){d[g]=b},getEndpoint:function(a){return null!=a&&d[a]?d[a]:f._options[e].endpoint},remove:function(b){return delete d[b]},reset:function(){d={}}}}};qq.DragAndDrop=function(r){function q(b){var k,g,f=new qq.Promise;b.isFile?b.file(function(c){h.push(c);f.success()},function(a){m.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");f.failure()}):b.isDirectory&&(k=b.createReader(),k.readEntries(function(d){var e=d.length;for(g=0;g<d.length;g+=1){q(d[g]).done(function(){e=e-1;e===0&&f.success()})}d.length||f.success()},function(a){m.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");f.failure()}));return f}function p(b){var t,s,k=[],f=new qq.Promise;m.callbacks.processingDroppedFiles();j.dropDisabled(!0);if(1<b.files.length&&!m.allowMultipleItems){m.callbacks.processingDroppedFilesComplete([]),m.callbacks.dropError("tooManyFilesError",""),j.dropDisabled(!1),f.failure()}else{h=[];if(qq.isFolderDropSupported(b)){t=b.items;for(b=0;b<t.length;b+=1){(s=t[b].webkitGetAsEntry())&&(s.isFile?h.push(t[b].getAsFile()):k.push(q(s).done(function(){k.pop();k.length===0&&f.success()})))}}else{h=b.files}0===k.length&&f.success()}return f}function o(b){j=new qq.UploadDropZone({element:b,onEnter:function(a){qq(b).addClass(m.classes.dropActive);a.stopPropagation()},onLeaveNotDescendants:function(){qq(b).removeClass(m.classes.dropActive)},onDrop:function(a){m.hideDropZonesBeforeEnter&&qq(b).hide();qq(b).removeClass(m.classes.dropActive);p(a.dataTransfer).done(function(){var c=h;m.callbacks.dropLog("Grabbed "+c.length+" dropped files.");j.dropDisabled(!1);m.callbacks.processingDroppedFilesComplete(c)})}});l.addDisposer(function(){j.dispose()});m.hideDropZonesBeforeEnter&&qq(b).hide()}function n(d){var c;qq.each(d.dataTransfer.types,function(b,e){if("Files"===e){return c=!0,!1}});return c}var m,j,h=[],l=new qq.DisposeSupport;m={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks};qq.extend(m,r,!0);(function(){var b=m.dropZoneElements;qq.each(b,function(d,c){o(c)});b.length&&(!qq.ie()||qq.ie10())&&l.attach(document,"dragenter",function(a){!j.dropDisabled()&&n(a)&&qq.each(b,function(d,c){qq(c).css({display:"block"})})});l.attach(document,"dragleave",function(a){m.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(a)&&qq.each(b,function(d,c){qq(c).hide()})});l.attach(document,"drop",function(a){m.hideDropZonesBeforeEnter&&qq.each(b,function(d,c){qq(c).hide()});a.preventDefault()})})();return{setupExtraDropzone:function(b){m.dropZoneElements.push(b);o(b)},removeDropzone:function(e){var d,f=m.dropZoneElements;for(d in f){if(f[d]===e){return f.splice(d,1)}}},dispose:function(){l.dispose();j.dispose()}}};qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(d,c){qq.log("Drag & drop error code '"+d+" with these specifics: '"+c+"'","error")},dropLog:function(d,c){qq.log(d,c)}}};qq.UploadDropZone=function(r){function q(){return qq.safari()||qq.firefox()&&qq.windows()}function p(e){if(qq.ie()&&!qq.ie10()){return !1}var d=e.dataTransfer,f=qq.safari(),e=qq.ie10()?!0:"none"!==d.effectAllowed;return d&&e&&(d.files||!f&&d.types.contains&&d.types.contains("Files"))}function o(b){void 0!==b&&(j=b);return j}var n,m,j,h,l=new qq.DisposeSupport;n={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}};qq.extend(n,r);m=n.element;(function(){h||(q?l.attach(document,"dragover",function(b){b.preventDefault()}):l.attach(document,"dragover",function(b){b.dataTransfer&&(b.dataTransfer.dropEffect="none",b.preventDefault())}),h=!0)})();(function(){l.attach(m,"dragover",function(d){if(p(d)){var c=qq.ie()?null:d.dataTransfer.effectAllowed;d.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";d.stopPropagation();d.preventDefault()}});l.attach(m,"dragenter",function(b){if(!o()&&p(b)){n.onEnter(b)}});l.attach(m,"dragleave",function(d){if(p(d)){n.onLeave(d);var c=document.elementFromPoint(d.clientX,d.clientY);if(!qq(this).contains(c)){n.onLeaveNotDescendants(d)}}});l.attach(m,"drop",function(b){!o()&&p(b)&&(b.preventDefault(),n.onDrop(b))})})();return{dropDisabled:function(b){return o(b)},dispose:function(){l.dispose()}}};qq.FineUploader=function(b){qq.FineUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(!this._options.dragAndDrop||!this._options.dragAndDrop.disableDefaultDropzone?'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>':"")+(!this._options.button?'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>':"")+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(!this._options.listElement?'<ul class="qq-upload-list"></ul>':"")+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(c){setTimeout(function(){window.alert(c)},0)},showConfirm:function(e,g,f){setTimeout(function(){window.confirm(e)?g():f&&f()},0)},showPrompt:function(f,j){var h=new qq.Promise,g=window.prompt(f,j);null!=g&&0<qq.trimStr(g).length?h.success(g):h.failure("Undefined or invalid user-supplied value.");return h}},!0);qq.extend(this._options,b,!0);!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt())};qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype);qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments);this._listElement.innerHTML=""},addExtraDropzone:function(b){this._dnd.setupExtraDropzone(b)},removeExtraDropzone:function(b){return this._dnd.removeDropzone(b)},getItemByFileId:function(d){for(var c=this._listElement.firstChild;c;){if(c.qqFileId==d){return c}c=c.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments);this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button")));this._bindCancelAndRetryEvents();this._dnd.dispose();this._dnd=this._setupDragAndDrop()},_removeFileItem:function(b){b=this.getItemByFileId(b);qq(b).remove()},_setupDragAndDrop:function(){var f=this,e=this._find(this._element,"dropProcessing"),h=this._options.dragAndDrop.extraDropzones,g;g=function(b){b.preventDefault()};this._options.dragAndDrop.disableDefaultDropzone||h.push(this._find(this._options.element,"drop"));return new qq.DragAndDrop({dropZoneElements:h,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){var a=f._button.getInput();qq(e).css({display:"block"});qq(a).attach("click",g)},processingDroppedFilesComplete:function(b){var a=f._button.getInput();qq(e).hide();qq(a).detach("click",g);b&&f.addFiles(b)},dropError:function(a,d){f._itemError(a,d)},dropLog:function(a,d){f.log(a,d)}}})},_leaving_document_out:function(b){return(qq.chrome()||qq.safari()&&qq.windows())&&0==b.clientX&&0==b.clientY||qq.firefox()&&!b.relatedTarget},_storeForLater:function(d){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var c=this.getItemByFileId(d);qq(this._find(c,"spinner")).hide()},_find:function(e,d){var f=qq(e).getByClass(this._options.classes[d])[0];if(!f){throw Error("element not found "+d)}return f},_onSubmit:function(d,c){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(d,c)},_onProgress:function(h,g,p,o){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var n,m,l,j;n=this.getItemByFileId(h);m=this._find(n,"progressBar");l=Math.round(100*(p/o));p===o?(j=this._find(n,"cancel"),qq(j).hide(),qq(m).hide(),qq(this._find(n,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(h)):(this._displayFileSize(h,p,o),qq(m).css({display:"block"}));qq(m).css({width:l+"%"})},_onComplete:function(g,f,k,j){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var h=this.getItemByFileId(g);qq(this._find(h,"statusText")).clearText();qq(h).removeClass(this._classes.retrying);qq(this._find(h,"progressBar")).hide();(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&qq(this._find(h,"cancel")).hide();qq(this._find(h,"spinner")).hide();k.success?(this._isDeletePossible()&&this._showDeleteLink(g),qq(h).addClass(this._classes.success),this._classes.successIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.successIcon))):(qq(h).addClass(this._classes.fail),this._classes.failIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[g]&&qq(h).addClass(this._classes.retryable),this._controlFailureTextDisplay(h,k))},_onUpload:function(d,c){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments);this._showSpinner(d)},_onCancel:function(d,c){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments);this._removeFileItem(d)},_onBeforeAutoRetry:function(h){var g,m,l,k,j;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments);g=this.getItemByFileId(h);m=this._find(g,"progressBar");this._showCancelLink(g);m.style.width=0;qq(m).hide();this._options.retry.showAutoRetryNote&&(m=this._find(g,"statusText"),l=this._autoRetries[h]+1,k=this._options.retry.maxAutoAttempts,j=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,l),j=j.replace(/\{maxAuto\}/g,k),qq(m).setText(j),1===l&&qq(g).addClass(this._classes.retrying))},_onBeforeManualRetry:function(d){var c=this.getItemByFileId(d);if(qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)){return this._find(c,"progressBar").style.width=0,qq(c).removeClass(this._classes.fail),qq(this._find(c,"statusText")).clearText(),this._showSpinner(d),this._showCancelLink(c),!0}qq(c).addClass(this._classes.retryable);return !1},_onSubmitDelete:function(b){if(this._isDeletePossible()){!1!==this._options.callbacks.onSubmitDelete(b)&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(b):this._sendDeleteRequest(b))}else{return this.log("Delete request ignored for file ID "+b+", delete feature is disabled.","warn"),!1}},_onDeleteComplete:function(g,f,k){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var j=this.getItemByFileId(g),h=this._find(j,"spinner"),j=this._find(j,"statusText");qq(h).hide();k?(qq(j).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(g)):this._removeFileItem(g)},_sendDeleteRequest:function(e){var d=this.getItemByFileId(e),f=this._find(d,"deleteButton"),d=this._find(d,"statusText");qq(f).hide();this._showSpinner(e);qq(d).setText(this._options.deleteFile.deletingStatusText);this._deleteHandler.sendDelete(e,this.getUuid(e))},_showDeleteConfirm:function(e){var d=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,this._handler.getName(e));this.getUuid(e);var f=this;this._options.showConfirm(d,function(){f._sendDeleteRequest(e)})},_addToList:function(f,e){var h=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var g=this._find(h,"cancel");qq(g).remove()}h.qqFileId=f;g=this._find(h,"file");qq(g).setText(this._options.formatFileName(e));qq(this._find(h,"size")).hide();this._options.multiple||(this._handler.cancelAll(),this._clearList());this._listElement.appendChild(h);this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(f)},_clearList:function(){this._listElement.innerHTML="";this.clearStoredFiles()},_displayFileSize:function(f,e,h){var g=this.getItemByFileId(f),f=this._formatSize(this.getSize(f)),g=this._find(g,"size");void 0!==e&&void 0!==h&&(f=this._formatProgress(e,h));qq(g).css({display:"inline"});qq(g).setText(f)},_bindCancelAndRetryEvents:function(){var b=this;this._disposeSupport.attach(this._listElement,"click",function(a){var a=a||window.event,d=a.target||a.srcElement;if(qq(d).hasClass(b._classes.cancel)||qq(d).hasClass(b._classes.retry)||qq(d).hasClass(b._classes.deleteButton)){qq.preventDefault(a);for(a=d.parentNode;void 0===a.qqFileId;){a=a.parentNode}qq(d).hasClass(b._classes.deleteButton)?b.deleteFile(a.qqFileId):qq(d).hasClass(b._classes.cancel)?b.cancel(a.qqFileId):(qq(a).removeClass(b._classes.retryable),b.retry(a.qqFileId))}})},_formatProgress:function(f,e){var h=this._options.text.formatProgress,g=Math.round(100*(f/e)),h=h.replace("{percent}",g),g=this._formatSize(e);return h=h.replace("{total_size}",g)},_controlFailureTextDisplay:function(h,g){var m,l,k,j;m=this._options.failedUploadTextDisplay.mode;l=this._options.failedUploadTextDisplay.maxChars;k=this._options.failedUploadTextDisplay.responseProperty;"custom"===m?((m=g[k])?m.length>l&&(j=m.substring(0,l)+"..."):(m=this._options.text.failUpload,this.log("'"+k+"' is not a valid property on the server response.","warn")),qq(this._find(h,"statusText")).setText(j||m),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(h,m)):"default"===m?qq(this._find(h,"statusText")).setText(this._options.text.failUpload):"none"!==m&&this.log("failedUploadTextDisplay.mode value of '"+m+"' is not valid","warn")},_showTooltip:function(d,c){d.title=c},_showSpinner:function(b){this._find(this.getItemByFileId(b),"spinner").style.display="inline-block"},_showCancelLink:function(b){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading){b=this._find(b,"cancel"),qq(b).css({display:"inline"})}},_showDeleteLink:function(b){b=this._find(this.getItemByFileId(b),"deleteButton");qq(b).css({display:"inline"})},_itemError:function(d,c){this._options.showMessage(qq.FineUploaderBasic.prototype._itemError.apply(this,arguments))},_batchError:function(b){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments);this._options.showMessage(b)},_setupPastePrompt:function(){var b=this;this._options.callbacks.onPasteReceived=function(){return b._options.showPrompt(b._options.paste.namePromptMessage,b._options.paste.defaultName)}}});qq.AjaxRequestor=function(v){function u(e){var c=qq.indexOf(p,e),f=j.maxConnections;delete h[e];p.splice(c,1);p.length>=f&&c<f&&(e=p[f-1],t(e))}function t(e){var d=new XMLHttpRequest,w=q(),k={},l;j.onSend(e);j.paramsStore.getParams&&(k=j.paramsStore.getParams(e));l=k;var f=j.endpointStore.getEndpoint(e),m=h[e].addToPath;void 0!==m&&(f+="/"+m);l=n&&l?qq.obj2url(l,f):f;h[e].xhr=d;d.onreadystatechange=s(e);d.open(w,l,!0);j.cors.expected&&j.cors.sendCredentials&&(d.withCredentials=!0);r(e);o("Sending "+w+" request for "+e);!n&&k?d.send(qq.obj2url(k,"")):d.send()}function s(b){var d=h[b].xhr;return function(){if(4===d.readyState){var f=h[b].xhr,c=q(),a=!1;u(b);0<=qq.indexOf(j.successfulResponseCodes,f.status)||(a=!0,o(c+" request for "+b+" has failed - response code "+f.status,"error"));j.onComplete(b,f,a)}}}function r(d){var c=h[d].xhr,d=j.customHeaders;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.setRequestHeader("Cache-Control","no-cache");qq.each(d,function(b,e){c.setRequestHeader(b,e)})}function q(){return j.demoMode?"GET":j.method}var o,n,p=[],h=[],j={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};qq.extend(j,v);o=j.log;n="GET"===q()||"DELETE"===q();return{send:function(d,c){h[d]={addToPath:c};p.push(d)<=j.maxConnections&&t(d)},cancel:function(b){var f=h[b].xhr,e=q();f?(f.onreadystatechange=null,f.abort(),u(b),o("Cancelled "+e+" for "+b),j.onCancel(b),b=!0):b=!1;return b}}};qq.DeleteFileAjaxRequestor=function(e){var d,f={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};qq.extend(f,e);d=new qq.AjaxRequestor({method:"DELETE",endpointStore:f.endpointStore,paramsStore:f.paramsStore,maxConnections:f.maxConnections,customHeaders:f.customHeaders,successfulResponseCodes:[200,202,204],demoMode:f.demoMode,log:f.log,onSend:f.onDelete,onComplete:f.onDeleteComplete});return{sendDelete:function(b,c){d.send(b,c);f.log("Submitted delete file request for "+b)}}};qq.WindowReceiveMessage=function(d){var c={};qq.extend({log:function(){}},d);return{receiveMessage:function(b,g){var f=function(e){g(e.data)};window.postMessage?c[b]=qq(window).attach("message",f):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(b){window.postMessage&&(b=c[b])&&b()}}};qq.UploadHandler=function(h){var g=[],m,l,k,j;m={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){}};qq.extend(m,h);l=m.log;k=function(b){var b=qq.indexOf(g,b),c=m.maxConnections;0<=b&&(g.splice(b,1),g.length>=c&&b<c&&(b=g[c-1],j.upload(b)))};j=qq.supportedFeatures.ajaxUploading?new qq.UploadHandlerXhr(m,k,l):new qq.UploadHandlerForm(m,k,l);return{add:function(b){return j.add(b)},upload:function(b){if(g.push(b)<=m.maxConnections){return j.upload(b)}},retry:function(b){return 0<=qq.indexOf(g,b)?j.upload(b,!0):this.upload(b)},cancel:function(b){l("Cancelling "+b);m.paramsStore.remove(b);j.cancel(b);k(b)},cancelAll:function(){var b=this,d=[];qq.extend(d,g);qq.each(d,function(a,e){b.cancel(e)});g=[]},getName:function(b){return j.getName(b)},getSize:function(b){if(j.getSize){return j.getSize(b)}},getFile:function(b){if(j.getFile){return j.getFile(b)}},getQueue:function(){return g},reset:function(){l("Resetting upload handler");g=[];j.reset()},getUuid:function(b){return j.getUuid(b)},isValid:function(b){return j.isValid(b)},getResumableFilesData:function(){return j.getResumableFilesData?j.getResumableFilesData():[]}}};qq.UploadHandlerForm=function(F,D,C){function B(b){void 0!==H[b]&&(H[b](),delete H[b])}function A(e,d){var f=e.id;j[t[f]]=d;H[f]=qq(e).attach("load",function(){p[f]&&(n("Received iframe load event for CORS upload request (file id "+f+")"),G[f]=setTimeout(function(){var b="No valid message received from loaded iframe for file id "+f;n(b,"error");d({error:b})},1000))});E.receiveMessage(f,function(g){n("Received the following window message: '"+g+"'");var c=qq.parseJson(g),k=c.uuid;k&&j[k]?(clearTimeout(G[f]),delete G[f],B(f),g=j[k],delete j[k],E.stopReceivingMessages(f),g(c)):k||n("'"+g+"' does not contain a UUID - ignoring.")})}function z(d,c){y.cors.expected?A(d,c):H[d.id]=qq(d).attach("load",function(){n("Received response for "+d.id);if(d.parentNode){try{if(d.contentDocument&&d.contentDocument.body&&"false"==d.contentDocument.body.innerHTML){return}}catch(a){n("Error when attempting to access iframe during handling of upload response ("+a+")","error")}c()}})}function w(d){var c=qq.toElement('<iframe src="javascript:false;" name="'+d+'" />');c.setAttribute("id",d);c.style.display="none";document.body.appendChild(c);return c}function v(k,g){var q=y.paramsStore.getParams(k),o=qq.toElement('<form method="'+(y.demoMode?"GET":"POST")+'" enctype="multipart/form-data"></form>'),m=y.endpointStore.getEndpoint(k),l=m;q[y.uuidParamName]=t[k];y.paramsInBody?qq.obj2Inputs(q,o):l=qq.obj2url(q,m);o.setAttribute("action",l);o.setAttribute("target",g.name);o.style.display="none";document.body.appendChild(o);return o}var y=F,p=[],t=[],H={},G={},n=C,E=new qq.WindowReceiveMessage({log:n}),j={},h;return h={add:function(d){d.setAttribute("name",y.inputName);var c=p.push(d)-1;t[c]=qq.getUniqueId();d.parentNode&&qq(d).remove();return c},getName:function(b){if(h.isValid(b)){return p[b].value.replace(/.*(\/|\\)/,"")}n(b+" is not a valid item ID.","error")},isValid:function(b){return void 0!==p[b]},reset:function(){p=[];t=[];H={}},getUuid:function(b){return t[b]},cancel:function(b){y.onCancel(b,this.getName(b));delete p[b];delete t[b];delete H[b];y.cors.expected&&(clearTimeout(G[b]),delete G[b],E.stopReceivingMessages(b));if(b=document.getElementById(b)){b.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(b).remove()}},upload:function(d){var k=p[d],g=h.getName(d),b=w(d),f;if(!k){throw Error("file with passed id was not added, or already uploaded or cancelled")}y.onUpload(d,this.getName(d));f=v(d,b);f.appendChild(k);z(b,function(o){n("iframe loaded");if(!o){var m;try{var l=b.contentDocument||b.contentWindow.document,a=l.body.innerHTML;n("converting iframe's innerHTML to JSON");n("innerHTML = "+a);a&&a.match(/^<pre/i)&&(a=l.body.firstChild.firstChild.nodeValue);m=qq.parseJson(a)}catch(e){n("Error when attempting to parse form upload response ("+e+")","error"),m={success:!1}}o=m}B(d);y.cors.expected||qq(b).remove();if(o.success||!y.onAutoRetry(d,g,o)){y.onComplete(d,g,o),D(d)}});n("Sending upload request for "+d);f.submit();qq(f).remove();return d}}};qq.UploadHandlerXhr=function(ae,ad,ac){function ab(f,e,h){var g=R.getSize(f),f=R.getName(f);e[V.chunking.paramNames.partIndex]=h.part;e[V.chunking.paramNames.partByteOffset]=h.start;e[V.chunking.paramNames.chunkSize]=h.size;e[V.chunking.paramNames.totalParts]=h.count;e[V.totalFileSizeParamName]=g;F&&(e[V.chunking.paramNames.filename]=f)}function aa(h,f){var n=V.chunking.partSize,m=R.getSize(h),l=X[h].file||X[h].blobData.blob,k=n*f,n=k+n>=m?m:k+n,m=Z(h),j;l.slice?j=l.slice(k,n):l.mozSlice?j=l.mozSlice(k,n):l.webkitSlice&&(j=l.webkitSlice(k,n));return{part:f,start:k,end:n,count:m,blob:j,size:n-k}}function Z(b){b=R.getSize(b);return Math.ceil(b/V.chunking.partSize)}function W(d){var c=new XMLHttpRequest;return X[d].xhr=c}function U(v,u,t,s){var r=new FormData,q=V.demoMode?"GET":"POST",p=V.endpointStore.getEndpoint(s),o=p,j=R.getName(s),n=R.getSize(s),h=X[s].blobData;v[V.uuidParamName]=X[s].uuid;F&&(v[V.totalFileSizeParamName]=n,h&&(v[V.blobs.paramNames.name]=h.name));V.paramsInBody||(F||(v[V.inputName]=j),o=qq.obj2url(v,p));u.open(q,o,!0);V.cors.expected&&V.cors.sendCredentials&&(u.withCredentials=!0);return F?(V.paramsInBody&&qq.obj2FormData(v,r),r.append(V.inputName,t),r):t}function Y(f,e){var h=V.customHeaders,g=X[f].file||X[f].blobData.blob;e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.setRequestHeader("Cache-Control","no-cache");F||(e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("X-Mime-Type",g.type));qq.each(h,function(b,d){e.setRequestHeader(b,d)})}function S(g,f,k){var j=R.getName(g),h=R.getSize(g);X[g].attemptingResume=!1;V.onProgress(g,j,h,h);V.onComplete(g,j,f,k);delete X[g].xhr;M(g)}function T(h){var e=X[h].remainingChunkIdxs[0],n=aa(h,e),j=W(h),k=R.getSize(h),g=R.getName(h),d;void 0===X[h].loaded&&(X[h].loaded=0);G&&X[h].file&&E(h,n);j.onreadystatechange=Q(h,j);j.upload.onprogress=function(o){if(o.lengthComputable){var m=o.loaded+X[h].loaded,o=o.total,l=aa(h,e),o=o-l.size,b=R.getSize(h),l=l.count,a=o-X[h].initialRequestOverhead;X[h].lastRequestOverhead=o;if(e===0){X[h].lastChunkIdxProgress=0;X[h].initialRequestOverhead=o;X[h].estTotalRequestsSize=b+l*o}else{if(X[h].lastChunkIdxProgress!==e){X[h].lastChunkIdxProgress=e;X[h].estTotalRequestsSize=X[h].estTotalRequestsSize+a}}V.onProgress(h,g,m,X[h].estTotalRequestsSize)}};V.onUploadChunk(h,g,H(n));d=V.paramsStore.getParams(h);ab(h,d,n);X[h].attemptingResume&&(d[V.resume.paramNames.resuming]=!0);d=U(d,j,n.blob,h);Y(h,j);I("Sending chunked upload request for item "+h+": bytes "+(n.start+1)+"-"+n.end+" of "+k);j.send(d)}function J(b){I("Server has ordered chunking effort to be restarted on next attempt for item ID "+b,"error");G&&(N(b),X[b].attemptingResume=!1);X[b].remainingChunkIdxs=[];delete X[b].loaded;delete X[b].estTotalRequestsSize;delete X[b].initialRequestOverhead}function H(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}}function Q(d,c){return function(){if(4===c.readyState){var l;if(X[d]){I("xhr - server response received for "+d);I("responseText = "+c.responseText);try{l=qq.parseJson(c.responseText)}catch(j){I("Error when attempting to parse xhr response text ("+j+")","error"),l={}}if(200!==c.status||!l.success||l.reset){if(l.reset&&J(d),X[d].attemptingResume&&l.reset){X[d].attemptingResume=!1,I("Server has declared that it cannot handle resume for item ID "+d+" - starting from the first chunk","error"),J(d),R.upload(d,!0)}else{var h=R.getName(d);V.onAutoRetry(d,h,l,c)||S(d,l,c)}}else{if(O){var h=X[d].remainingChunkIdxs.shift(),e=aa(d,h);X[d].attemptingResume=!1;var h=X[d],b=h.loaded,e=e.size,a;a=F?X[d].lastRequestOverhead:0;h.loaded=b+(e+a);0<X[d].remainingChunkIdxs.length?T(d):(G&&N(d),S(d,l,c))}else{S(d,l,c)}}}}}}function E(j,h){var o=R.getUuid(j),n=X[j].loaded,m=X[j].initialRequestOverhead,l=X[j].estTotalRequestsSize,k=K(j);qq.setCookie(k,o+P+h.part+P+n+P+m+P+l,V.resume.cookiesExpireIn)}function N(b){X[b].file&&(b=K(b),qq.deleteCookie(b))}function K(e){var d=R.getName(e),e=R.getSize(e),f=V.chunking.partSize,d="qqfilechunk"+P+encodeURIComponent(d)+P+e+P+f;void 0!==D&&(d+=P+D);return d}function C(g){var f=X[g].file||X[g].blobData.blob,k=R.getName(g),j,h;X[g].loaded=0;j=W(g);j.upload.onprogress=function(a){a.lengthComputable&&(X[g].loaded=a.loaded,V.onProgress(g,k,a.loaded,a.total))};j.onreadystatechange=Q(g,j);h=V.paramsStore.getParams(g);f=U(h,j,f,g);Y(g,j);I("Sending upload request for "+g);j.send(f)}var V=ae,M=ad,I=ac,X=[],P="|",O=V.chunking.enabled&&qq.supportedFeatures.chunking,G=V.resume.enabled&&O&&qq.supportedFeatures.resume,D;D=null!==V.resume.id&&void 0!==V.resume.id&&!qq.isFunction(V.resume.id)&&!qq.isObject(V.resume.id)?V.resume.id:void 0;var F=V.forceMultipart||V.paramsInBody,R;return R={add:function(b){if(b instanceof File){b=X.push({file:b})-1}else{if(qq.isBlob(b.blob)){b=X.push({blobData:b})-1}else{throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)")}}X[b].uuid=qq.getUniqueId();return b},getName:function(d){if(R.isValid(d)){var c=X[d].file,d=X[d].blobData;return c?null!==c.fileName&&void 0!==c.fileName?c.fileName:c.name:d.name}I(d+" is not a valid item ID.","error")},getSize:function(b){b=X[b].file||X[b].blobData.blob;return qq.isFileOrInput(b)?null!=b.fileSize?b.fileSize:b.size:b.size},getFile:function(b){if(X[b]){return X[b].file||X[b].blobData.blob}},getLoaded:function(b){return X[b].loaded||0},isValid:function(b){return void 0!==X[b]},reset:function(){X=[]},getUuid:function(b){return X[b].uuid},upload:function(r,q){var p=this.getName(r);V.onUpload(r,p);if(O){var n=R.getName(r),p=0,l,j;if(!X[r].remainingChunkIdxs||0===X[r].remainingChunkIdxs.length){X[r].remainingChunkIdxs=[];if(G&&!q&&X[r].file){r:{l=qq.getCookie(K(r));j=R.getName(r);var h,f,e;if(l){l=l.split(P);if(5===l.length){j=l[0];h=parseInt(l[1],10);f=parseInt(l[2],10);e=parseInt(l[3],10);l=parseInt(l[4],10);l={uuid:j,part:h,lastByteSent:f,initialRequestOverhead:e,estTotalRequestsSize:l};break r}I("Ignoring previously stored resume/chunk cookie for "+j+" - old cookie format","warn")}l=void 0}l&&(j=aa(r,l.part),!1!==V.onResume(r,n,H(j))&&(p=l.part,X[r].uuid=l.uuid,X[r].loaded=l.lastByteSent,X[r].estTotalRequestsSize=l.estTotalRequestsSize,X[r].initialRequestOverhead=l.initialRequestOverhead,X[r].attemptingResume=!0,I("Resuming "+n+" at partition index "+p)))}for(n=Z(r)-1;n>=p;n-=1){X[r].remainingChunkIdxs.unshift(n)}}T(r)}else{C(r)}},cancel:function(d){var c=X[d].xhr;V.onCancel(d,this.getName(d));c&&(c.onreadystatechange=null,c.abort());G&&N(d);delete X[d]},getResumableFilesData:function(){var d=[],c=[];return O&&G?(d=void 0===D?qq.getCookieNames(RegExp("^qqfilechunk\\"+P+".+\\"+P+"\\d+\\"+P+V.chunking.partSize+"=")):qq.getCookieNames(RegExp("^qqfilechunk\\"+P+".+\\"+P+"\\d+\\"+P+V.chunking.partSize+"\\"+P+D+"=")),qq.each(d,function(b,h){var g=h.split(P),f=qq.getCookie(h).split(P);c.push({name:decodeURIComponent(g[1]),size:g[2],uuid:f[0],partIdx:f[1]})}),c):[]}}};(function(b){var a=function(){var c={},o={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},l={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},g={flat:false,starts:1,prev:"&laquo;",next:"&raquo;",lastSel:false,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return true},onShow:function(){return true},onBeforeShow:function(){return true},onHide:function(){return true},locale:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekMin:"kw"}},q=function(s){var v=b(s).data("datepicker");var z=b(s);var t=Math.floor(v.calendars/2),H,J,A,I,F=0,D,w,u,x,y,B;z.find("td>table tbody").remove();for(var G=0;G<v.calendars;G++){H=new Date(v.current);H.addMonths(-t+G);B=z.find("table").eq(G+1);switch(B[0].className){case"datepickerViewDays":A=r(H,"B, Y");break;case"datepickerViewMonths":A=H.getFullYear();break;case"datepickerViewYears":A=(H.getFullYear()-6)+" - "+(H.getFullYear()+5);break}B.find("thead tr:first th:eq(1) span").text(A);A=H.getFullYear()-6;J={data:[],className:"datepickerYears"};for(var E=0;E<12;E++){J.data.push(A+E)}y=tmpl(l.months.join(""),J);H.setDate(1);J={weeks:[],test:10};I=H.getMonth();var A=(H.getDay()-v.starts)%7;H.addDays(-(A+(A<0?7:0)));D=-1;F=0;while(F<42){u=parseInt(F/7,10);x=F%7;if(!J.weeks[u]){D=H.getWeekNumber();J.weeks[u]={week:D,days:[]}}J.weeks[u].days[x]={text:H.getDate(),classname:[]};if(I!=H.getMonth()){J.weeks[u].days[x].classname.push("datepickerNotInMonth")}if(H.getDay()==0){J.weeks[u].days[x].classname.push("datepickerSunday")}if(H.getDay()==6){J.weeks[u].days[x].classname.push("datepickerSaturday")}var C=v.onRender(H);var K=H.valueOf();if(C.selected||v.date==K||b.inArray(K,v.date)>-1||(v.mode=="range"&&K>=v.date[0]&&K<=v.date[1])){J.weeks[u].days[x].classname.push("datepickerSelected")}if(C.disabled){J.weeks[u].days[x].classname.push("datepickerDisabled")}if(C.className){J.weeks[u].days[x].classname.push(C.className)}J.weeks[u].days[x].classname=J.weeks[u].days[x].classname.join(" ");F++;H.addDays(1)}y=tmpl(l.days.join(""),J)+y;J={data:v.locale.monthsShort,className:"datepickerMonths"};y=tmpl(l.months.join(""),J)+y;B.append(y)}},e=function(t,D){if(t.constructor==Date){return new Date(t)}var x=t.split(/\W+/);var u=D.split(/\W+/),B,v,C,A,w,s=new Date();for(var z=0;z<x.length;z++){switch(u[z]){case"d":case"e":B=parseInt(x[z],10);break;case"m":v=parseInt(x[z],10)-1;break;case"Y":case"y":C=parseInt(x[z],10);C+=C>100?0:(C<29?2000:1900);break;case"H":case"I":case"k":case"l":A=parseInt(x[z],10);break;case"P":case"p":if(/pm/i.test(x[z])&&A<12){A+=12}else{if(/am/i.test(x[z])&&A>=12){A-=12}}break;case"M":w=parseInt(x[z],10);break}}return new Date(C===undefined?s.getFullYear():C,v===undefined?s.getMonth():v,B===undefined?s.getDate():B,A===undefined?s.getHours():A,w===undefined?s.getMinutes():w,0)},r=function(u,G){var v=u.getMonth();var E=u.getDate();var F=u.getFullYear();var H=u.getWeekNumber();var I=u.getDay();var M={};var J=u.getHours();var x=(J>=12);var C=(x)?(J-12):J;var K=u.getDayOfYear();if(C==0){C=12}var A=u.getMinutes();var D=u.getSeconds();var z=G.split(""),t;for(var B=0;B<z.length;B++){t=z[B];switch(z[B]){case"a":t=u.getDayName();break;case"A":t=u.getDayName(true);break;case"b":t=u.getMonthName();break;case"B":t=u.getMonthName(true);break;case"C":t=1+Math.floor(F/100);break;case"d":t=(E<10)?("0"+E):E;break;case"e":t=E;break;case"H":t=(J<10)?("0"+J):J;break;case"I":t=(C<10)?("0"+C):C;break;case"j":t=(K<100)?((K<10)?("00"+K):("0"+K)):K;break;case"k":t=J;break;case"l":t=C;break;case"m":t=(v<9)?("0"+(1+v)):(1+v);break;case"M":t=(A<10)?("0"+A):A;break;case"p":case"P":t=x?"PM":"AM";break;case"s":t=Math.floor(u.getTime()/1000);break;case"S":t=(D<10)?("0"+D):D;break;case"u":t=I+1;break;case"w":t=I;break;case"y":t=(""+F).substr(2,2);break;case"Y":t=F;break}z[B]=t}return z.join("")},f=function(s){if(Date.prototype.tempDate){return}Date.prototype.tempDate=null;Date.prototype.months=s.months;Date.prototype.monthsShort=s.monthsShort;Date.prototype.days=s.days;Date.prototype.daysShort=s.daysShort;Date.prototype.getMonthName=function(t){return this[t?"months":"monthsShort"][this.getMonth()]};Date.prototype.getDayName=function(t){return this[t?"days":"daysShort"][this.getDay()]};Date.prototype.addDays=function(t){this.setDate(this.getDate()+t);this.tempDate=this.getDate()};Date.prototype.addMonths=function(t){if(this.tempDate==null){this.tempDate=this.getDate()}this.setDate(1);this.setMonth(this.getMonth()+t);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.addYears=function(t){if(this.tempDate==null){this.tempDate=this.getDate()}this.setDate(1);this.setFullYear(this.getFullYear()+t);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.getMaxDays=function(){var u=new Date(Date.parse(this)),v=28,t;t=u.getMonth();v=28;while(u.getMonth()==t){v++;u.setDate(v)}return v-1};Date.prototype.getFirstDay=function(){var t=new Date(Date.parse(this));t.setDate(1);return t.getDay()};Date.prototype.getWeekNumber=function(){var t=new Date(this);t.setDate(t.getDate()-(t.getDay()+6)%7+3);var u=t.valueOf();t.setMonth(0);t.setDate(4);return Math.round((u-t.valueOf())/(604800000))+1};Date.prototype.getDayOfYear=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var v=new Date(this.getFullYear(),0,0,0,0,0);var u=t-v;return Math.floor(u/24*60*60*1000)}},j=function(w){var t=b(w).data("datepicker");var y=b("#"+t.id);if(!t.extraHeight){var v=b(w).find("div");t.extraHeight=v.get(0).offsetHeight+v.get(1).offsetHeight;t.extraWidth=v.get(2).offsetWidth+v.get(3).offsetWidth}var x=y.find("table:first").get(0);var u=x.offsetWidth;var s=x.offsetHeight;y.css({width:u+t.extraWidth+"px",height:s+t.extraHeight+"px"}).find("div.datepickerContainer").css({width:u+"px",height:s+"px"})},p=function(z){if(b(z.target).is("span")){z.target=z.target.parentNode}var u=b(z.target);if(u.is("a")){z.target.blur();if(u.hasClass("datepickerDisabled")){return false}var B=b(this).data("datepicker");var y=u.parent();var t=y.parent().parent().parent();var A=b("table",this).index(t.get(0))-1;var x=new Date(B.current);var w=false;var s=false;if(y.is("th")){if(y.hasClass("datepickerWeek")&&B.mode=="range"&&!y.next().hasClass("datepickerDisabled")){var v=parseInt(y.next().text(),10);x.addMonths(A-Math.floor(B.calendars/2));if(y.next().hasClass("datepickerNotInMonth")){x.addMonths(v>15?-1:1)}x.setDate(v);B.date[0]=(x.setHours(0,0,0,0)).valueOf();x.setHours(23,59,59,0);x.addDays(6);B.date[1]=x.valueOf();s=true;w=true;B.lastSel=false}else{if(y.hasClass("datepickerMonth")){x.addMonths(A-Math.floor(B.calendars/2));switch(t.get(0).className){case"datepickerViewDays":t.get(0).className="datepickerViewMonths";u.find("span").text(x.getFullYear());break;case"datepickerViewMonths":t.get(0).className="datepickerViewYears";u.find("span").text((x.getFullYear()-6)+" - "+(x.getFullYear()+5));break;case"datepickerViewYears":t.get(0).className="datepickerViewDays";u.find("span").text(r(x,"B, Y"));break}}else{if(y.parent().parent().is("thead")){switch(t.get(0).className){case"datepickerViewDays":B.current.addMonths(y.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":B.current.addYears(y.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":B.current.addYears(y.hasClass("datepickerGoPrev")?-12:12);break}s=true}}}}else{if(y.is("td")&&!y.hasClass("datepickerDisabled")){switch(t.get(0).className){case"datepickerViewMonths":B.current.setMonth(t.find("tbody.datepickerMonths td").index(y));B.current.setFullYear(parseInt(t.find("thead th.datepickerMonth span").text(),10));B.current.addMonths(Math.floor(B.calendars/2)-A);t.get(0).className="datepickerViewDays";break;case"datepickerViewYears":B.current.setFullYear(parseInt(u.text(),10));t.get(0).className="datepickerViewMonths";break;default:var v=parseInt(u.text(),10);x.addMonths(A-Math.floor(B.calendars/2));if(y.hasClass("datepickerNotInMonth")){x.addMonths(v>15?-1:1)}x.setDate(v);switch(B.mode){case"multiple":v=(x.setHours(0,0,0,0)).valueOf();if(b.inArray(v,B.date)>-1){b.each(B.date,function(C,D){if(D==v){B.date.splice(C,1);return false}})}else{B.date.push(v)}break;case"range":if(!B.lastSel){B.date[0]=(x.setHours(0,0,0,0)).valueOf()}v=(x.setHours(23,59,59,0)).valueOf();if(v<B.date[0]){B.date[1]=B.date[0]+86399000;B.date[0]=v-86399000}else{B.date[1]=v}B.lastSel=!B.lastSel;break;default:B.date=x.valueOf();break}w=true;break}s=true}}if(s){q(this)}if(w){B.onChange.apply(this,k(B))}}return false},k=function(s){var t;if(s.mode=="single"){t=new Date(s.date);return[r(t,s.format),t,s.el]}else{t=[[],[],s.el];b.each(s.date,function(v,w){var u=new Date(w);t[0].push(r(u,s.format));t[1].push(u)});return t}},d=function(){var s=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(s?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(s?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(s?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(s?document.documentElement.clientHeight:document.body.clientHeight)}},m=function(u,t,s){if(u==t){return true}if(u.contains){return u.contains(t)}if(u.compareDocumentPosition){return !!(u.compareDocumentPosition(t)&16)}var v=t.parentNode;while(v&&v!=s){if(v==u){return true}v=v.parentNode}return false},n=function(t){var x=b("#"+b(this).data("datepickerId"));if(!x.is(":visible")){var z=x.get(0);q(z);var s=x.data("datepicker");s.onBeforeShow.apply(this,[x.get(0)]);var y=b(this).offset();var w=d();var v=y.top;var u=y.left;x.css({visibility:"hidden",display:"block"});j(z);switch(s.position){case"top":v-=z.offsetHeight;break;case"left":u-=z.offsetWidth;break;case"right":u+=this.offsetWidth;break;case"bottom":v+=this.offsetHeight;break}if(v+z.offsetHeight>w.t+w.h){v=y.top-z.offsetHeight}if(v<w.t){v=y.top+this.offsetHeight+z.offsetHeight}if(u+z.offsetWidth>w.l+w.w){u=y.left-z.offsetWidth}if(u<w.l){u=y.left+this.offsetWidth}x.css({visibility:"visible",display:"block",top:v+"px",left:u+"px"});if(s.onShow.apply(this,[x.get(0)])!=false){x.show()}b(document).bind("mousedown",{cal:x,trigger:this},h)}return false},h=function(s){if(s.target!=s.data.trigger&&!m(s.data.cal.get(0),s.target,s.data.cal.get(0))){if(s.data.cal.data("datepicker").onHide.apply(this,[s.data.cal.get(0)])!=false){s.data.cal.hide()}b(document).unbind("mousedown",h)}};return{init:function(s){s=b.extend({},g,s||{});f(s.locale);s.calendars=Math.max(1,parseInt(s.calendars,10)||1);s.mode=/single|multiple|range/.test(s.mode)?s.mode:"single";return this.each(function(){if(!b(this).data("datepicker")){s.el=this;if(s.date.constructor==String){s.date=e(s.date,s.format);s.date.setHours(0,0,0,0)}if(s.mode!="single"){if(s.date.constructor!=Array){s.date=[s.date.valueOf()];if(s.mode=="range"){s.date.push(((new Date(s.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var v=0;v<s.date.length;v++){s.date[v]=(e(s.date[v],s.format).setHours(0,0,0,0)).valueOf()}if(s.mode=="range"){s.date[1]=((new Date(s.date[1])).setHours(23,59,59,0)).valueOf()}}}else{s.date=s.date.valueOf()}if(!s.current){s.current=new Date()}else{s.current=e(s.current,s.format)}s.current.setDate(1);s.current.setHours(0,0,0,0);var x="datepicker_"+parseInt(Math.random()*1000),u;s.id=x;b(this).data("datepickerId",s.id);var w=b(l.wrapper).attr("id",x).bind("click",p).data("datepicker",s);if(s.className){w.addClass(s.className)}var t="";for(var v=0;v<s.calendars;v++){u=s.starts;if(v>0){t+=l.space}t+=tmpl(l.head.join(""),{week:s.locale.weekMin,prev:s.prev,next:s.next,day1:s.locale.daysMin[(u++)%7],day2:s.locale.daysMin[(u++)%7],day3:s.locale.daysMin[(u++)%7],day4:s.locale.daysMin[(u++)%7],day5:s.locale.daysMin[(u++)%7],day6:s.locale.daysMin[(u++)%7],day7:s.locale.daysMin[(u++)%7]})}w.find("tr:first").append(t).find("table").addClass(o[s.view]);q(w.get(0));if(s.flat){w.appendTo(this).show().css("position","relative");j(w.get(0))}else{w.appendTo(document.body);b(this).bind(s.eventName,n)}}})},showPicker:function(){return this.each(function(){if(b(this).data("datepickerId")){n.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("datepickerId")){b("#"+b(this).data("datepickerId")).hide()}})},setDate:function(s,t){return this.each(function(){if(b(this).data("datepickerId")){var w=b("#"+b(this).data("datepickerId"));var u=w.data("datepicker");u.date=s;if(u.date.constructor==String){u.date=e(u.date,u.format);u.date.setHours(0,0,0,0)}if(u.mode!="single"){if(u.date.constructor!=Array){u.date=[u.date.valueOf()];if(u.mode=="range"){u.date.push(((new Date(u.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var v=0;v<u.date.length;v++){u.date[v]=(e(u.date[v],u.format).setHours(0,0,0,0)).valueOf()}if(u.mode=="range"){u.date[1]=((new Date(u.date[1])).setHours(23,59,59,0)).valueOf()}}}else{u.date=u.date.valueOf()}if(t){u.current=new Date(u.mode!="single"?u.date[0]:u.date)}q(w.get(0))}})},getDate:function(s){if(this.size()>0){return k(b("#"+b(this).data("datepickerId")).data("datepicker"))[s?0:1]}},clear:function(){return this.each(function(){if(b(this).data("datepickerId")){var t=b("#"+b(this).data("datepickerId"));var s=t.data("datepicker");if(s.mode!="single"){s.date=[];q(t.get(0))}}})},fixLayout:function(){return this.each(function(){if(b(this).data("datepickerId")){var t=b("#"+b(this).data("datepickerId"));var s=t.data("datepicker");if(s.flat){j(t.get(0))}}})}}}();b.fn.extend({DatePicker:a.init,DatePickerHide:a.hidePicker,DatePickerShow:a.showPicker,DatePickerSetDate:a.setDate,DatePickerGetDate:a.getDate,DatePickerClear:a.clear,DatePickerLayout:a.fixLayout})})(jQuery);(function(){var b={};this.tmpl=function a(e,d){var c=!/\W/.test(e)?b[e]=b[e]||a(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return d?c(d):c}})();(function(){var f,a,g,d,e,b={}.hasOwnProperty,c=function(l,j){for(var h in j){if(b.call(j,h)){l[h]=j[h]}}function k(){this.constructor=l}k.prototype=j.prototype;l.prototype=new k();l.__super__=j.prototype;return l};d=(function(){function h(){this.options_index=0;this.parsed=[]}h.prototype.add_node=function(j){if(j.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(j)}else{return this.add_option(j)}};h.prototype.add_group=function(p){var o,l,n,k,m,j;o=this.parsed.length;this.parsed.push({array_index:o,group:true,label:this.escapeExpression(p.label),title:p.title?p.title:void 0,children:0,disabled:p.disabled,classes:p.className});m=p.childNodes;j=[];for(n=0,k=m.length;n<k;n++){l=m[n];j.push(this.add_option(l,o,p.disabled))}return j};h.prototype.add_option=function(k,l,j){if(k.nodeName.toUpperCase()==="OPTION"){if(k.text!==""){if(l!=null){this.parsed[l].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:k.value,text:k.text,html:k.innerHTML,title:k.title?k.title:void 0,selected:k.selected,disabled:j===true?j:k.disabled,group_array_index:l,group_label:l!=null?this.parsed[l].label:null,classes:k.className,style:k.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};h.prototype.escapeExpression=function(l){var k,j;if((l==null)||l===false){return""}if(!/[\&\<\>\"\'\`]/.test(l)){return l}k={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};j=/&(?!\w+;)|[\<\>\"\'\`]/g;return l.replace(j,function(m){return k[m]||"&amp;"})};return h})();d.select_to_array=function(h){var n,m,l,j,k;m=new d();k=h.childNodes;for(l=0,j=k.length;l<j;l++){n=k[l];m.add_node(n)}return m.parsed};a=(function(){function h(j,k){this.form_field=j;this.options=k!=null?k:{};if(!h.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.on_ready()}h.prototype.set_default_values=function(){var j=this;this.click_test_action=function(k){return j.test_active_click(k)};this.activate_action=function(k){return j.activate_field(k)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true;this.include_group_label_in_selected=this.options.include_group_label_in_selected||false;this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY;this.create_option=this.options.create_option||false;this.persistent_create_option=this.options.persistent_create_option||false;return this.skip_no_results=this.options.skip_no_results||false};h.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||h.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||h.default_single_text}}this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||h.default_no_result_text;return this.create_option_text=this.form_field.getAttribute("data-create_option_text")||this.options.create_option_text||h.default_create_option_text};h.prototype.choice_label=function(j){if(this.include_group_label_in_selected&&(j.group_label!=null)){return"<b class='group-name'>"+j.group_label+"</b>"+j.html}else{return j.html}};h.prototype.mouse_enter=function(){return this.mouse_on_container=true};h.prototype.mouse_leave=function(){return this.mouse_on_container=false};h.prototype.input_focus=function(j){var k=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return k.container_mousedown()}),50)}}else{if(!this.active_field){return this.activate_field()}}};h.prototype.input_blur=function(j){var k=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return k.blur_test()}),100)}};h.prototype.results_option_build=function(k){var l,o,p,q,n,j,m;l="";q=0;m=this.results_data;for(n=0,j=m.length;n<j;n++){o=m[n];p="";if(o.group){p=this.result_add_group(o)}else{p=this.result_add_option(o)}if(p!==""){q++;l+=p}if(k!=null?k.first:void 0){if(o.selected&&this.is_multiple){this.choice_build(o)}else{if(o.selected&&!this.is_multiple){this.single_set_selected_text(this.choice_label(o))}}}if(q>=this.max_shown_results){break}}return l};h.prototype.result_add_option=function(l){var k,j;if(!l.search_match){return""}if(!this.include_option_in_results(l)){return""}k=[];if(!l.disabled&&!(l.selected&&this.is_multiple)){k.push("active-result")}if(l.disabled&&!(l.selected&&this.is_multiple)){k.push("disabled-result")}if(l.selected){k.push("result-selected")}if(l.group_array_index!=null){k.push("group-option")}if(l.classes!==""){k.push(l.classes)}j=document.createElement("li");j.className=k.join(" ");j.style.cssText=l.style;j.setAttribute("data-option-array-index",l.array_index);j.innerHTML=l.search_text;if(l.title){j.title=l.title}return this.outerHTML(j)};h.prototype.result_add_group=function(l){var k,j;if(!(l.search_match||l.group_match)){return""}if(!(l.active_options>0)){return""}k=[];k.push("group-result");if(l.classes){k.push(l.classes)}j=document.createElement("li");j.className=k.join(" ");j.innerHTML=l.search_text;if(l.title){j.title=l.title}return this.outerHTML(j)};h.prototype.append_option=function(j){return this.select_append_option(j)};h.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.results_build();if(this.results_showing){return this.winnow_results()}};h.prototype.reset_single_select_options=function(){var j,n,l,m,k;m=this.results_data;k=[];for(n=0,l=m.length;n<l;n++){j=m[n];if(j.selected){k.push(j.selected=false)}else{k.push(void 0)}}return k};h.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};h.prototype.results_search=function(j){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};h.prototype.winnow_results=function(){var s,w,n,p,t,o,j,v,q,u,k,l,r,m;this.no_results_clear();o=0;n=false;v=this.get_search_text();w=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");k=new RegExp(w,"i");t=this.get_search_regex(w);s=new RegExp("^"+w+"$","i");m=this.results_data;for(l=0,r=m.length;l<r;l++){p=m[l];p.search_match=false;j=null;if(this.include_option_in_results(p)){if(p.group){p.group_match=false;p.active_options=0}if((p.group_array_index!=null)&&this.results_data[p.group_array_index]){j=this.results_data[p.group_array_index];if(j.active_options===0&&j.search_match){o+=1}j.active_options+=1}p.search_text=p.group?p.label:p.html;if(!(p.group&&!this.group_search)){p.search_match=this.search_string_match(p.search_text,t);if(p.search_match&&!p.group){o+=1}n=n||s.test(p.html);if(p.search_match){if(v.length){q=p.search_text.search(k);u=p.search_text.substr(0,q+v.length)+"</em>"+p.search_text.substr(q+v.length);p.search_text=u.substr(0,q)+"<em>"+u.substr(q)}if(j!=null){j.group_match=true}}else{if((p.group_array_index!=null)&&this.results_data[p.group_array_index].search_match){p.search_match=true}}}}}this.result_clear_highlight();if(o<1&&v.length){this.update_results_content("");if(!(this.create_option&&this.skip_no_results)){this.no_results(v)}}else{this.update_results_content(this.results_option_build());this.winnow_results_set_highlight()}if(this.create_option&&(o<1||(!n&&this.persistent_create_option))&&v.length){return this.show_create_option(v)}};h.prototype.get_search_regex=function(k){var j;j=this.search_contains?"":"^";return new RegExp(j+k,"i")};h.prototype.search_string_match=function(o,l){var k,n,m,j;if(l.test(o)){return true}else{if(this.enable_split_word_search&&(o.indexOf(" ")>=0||o.indexOf("[")===0)){n=o.replace(/\[|\]/g,"").split(" ");if(n.length){for(m=0,j=n.length;m<j;m++){k=n[m];if(l.test(k)){return true}}}}}};h.prototype.choices_count=function(){var k,m,j,l;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;l=this.form_field.options;for(m=0,j=l.length;m<j;m++){k=l[m];if(k.selected){this.selected_option_count+=1}}return this.selected_option_count};h.prototype.choices_click=function(j){j.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};h.prototype.keyup_checker=function(j){var l,k;l=(k=j.which)!=null?k:j.keyCode;this.search_field_scale();switch(l){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:j.preventDefault();if(this.results_showing){return this.result_select(j)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};h.prototype.clipboard_event_checker=function(j){var k=this;return setTimeout((function(){return k.results_search()}),50)};h.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};h.prototype.include_option_in_results=function(j){if(this.is_multiple&&(!this.display_selected_options&&j.selected)){return false}if(!this.display_disabled_options&&j.disabled){return false}if(j.empty){return false}return true};h.prototype.search_results_touchstart=function(j){this.touch_started=true;return this.search_results_mouseover(j)};h.prototype.search_results_touchmove=function(j){this.touch_started=false;return this.search_results_mouseout(j)};h.prototype.search_results_touchend=function(j){if(this.touch_started){return this.search_results_mouseup(j)}};h.prototype.outerHTML=function(k){var j;if(k.outerHTML){return k.outerHTML}j=document.createElement("div");j.appendChild(k);return j.innerHTML};h.browser_is_supported=function(){if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}if(/IEMobile/i.test(window.navigator.userAgent)){return false}if(/Windows Phone/i.test(window.navigator.userAgent)){return false}if(/BlackBerry/i.test(window.navigator.userAgent)){return false}if(/BB10/i.test(window.navigator.userAgent)){return false}if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}return true};h.default_multiple_text="Select Some Options";h.default_single_text="Select an Option";h.default_no_result_text="No results match";h.default_create_option_text="Add Option";return h})();f=jQuery;f.fn.extend({chosen:function(h){if(!a.browser_is_supported()){return this}return this.each(function(k){var l,j;l=f(this);j=l.data("chosen");if(h==="destroy"&&j instanceof g){j.destroy()}else{if(!(j instanceof g)){l.data("chosen",new g(this,h))}}})}});g=(function(h){c(j,h);function j(){e=j.__super__.constructor.apply(this,arguments);return e}j.prototype.setup=function(){this.form_field_jq=f(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};j.prototype.set_up_html=function(){var k,l;k=["chosen-container"];k.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){k.push(this.form_field.className)}if(this.is_rtl){k.push("chosen-rtl")}l={"class":k.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};if(this.form_field.id.length){l.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=f("<div />",l);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();return this.set_label_behavior()};j.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})};j.prototype.register_observers=function(){var k=this;this.container.bind("touchstart.chosen",function(l){k.container_mousedown(l);return l.preventDefault()});this.container.bind("touchend.chosen",function(l){k.container_mouseup(l);return l.preventDefault()});this.container.bind("mousedown.chosen",function(l){k.container_mousedown(l)});this.container.bind("mouseup.chosen",function(l){k.container_mouseup(l)});this.container.bind("mouseenter.chosen",function(l){k.mouse_enter(l)});this.container.bind("mouseleave.chosen",function(l){k.mouse_leave(l)});this.search_results.bind("mouseup.chosen",function(l){k.search_results_mouseup(l)});this.search_results.bind("mouseover.chosen",function(l){k.search_results_mouseover(l)});this.search_results.bind("mouseout.chosen",function(l){k.search_results_mouseout(l)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(l){k.search_results_mousewheel(l)});this.search_results.bind("touchstart.chosen",function(l){k.search_results_touchstart(l)});this.search_results.bind("touchmove.chosen",function(l){k.search_results_touchmove(l)});this.search_results.bind("touchend.chosen",function(l){k.search_results_touchend(l)});this.form_field_jq.bind("chosen:updated.chosen",function(l){k.results_update_field(l)});this.form_field_jq.bind("chosen:activate.chosen",function(l){k.activate_field(l)});this.form_field_jq.bind("chosen:open.chosen",function(l){k.container_mousedown(l)});this.form_field_jq.bind("chosen:close.chosen",function(l){k.input_blur(l)});this.search_field.bind("blur.chosen",function(l){k.input_blur(l)});this.search_field.bind("keyup.chosen",function(l){k.keyup_checker(l)});this.search_field.bind("keydown.chosen",function(l){k.keydown_checker(l)});this.search_field.bind("focus.chosen",function(l){k.input_focus(l)});this.search_field.bind("cut.chosen",function(l){k.clipboard_event_checker(l)});this.search_field.bind("paste.chosen",function(l){k.clipboard_event_checker(l)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(l){k.choices_click(l)})}else{return this.container.bind("click.chosen",function(l){l.preventDefault()})}};j.prototype.destroy=function(){f(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};j.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};j.prototype.container_mousedown=function(k){if(!this.is_disabled){if(k&&k.type==="mousedown"&&!this.results_showing){k.preventDefault()}if(!((k!=null)&&(f(k.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}f(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action);this.results_show()}else{if(!this.is_multiple&&k&&((f(k.target)[0]===this.selected_item[0])||f(k.target).parents("a.chosen-single").length)){k.preventDefault();this.results_toggle()}}return this.activate_field()}}};j.prototype.container_mouseup=function(k){if(k.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(k)}};j.prototype.search_results_mousewheel=function(k){var l;if(k.originalEvent){l=k.originalEvent.deltaY||-k.originalEvent.wheelDelta||k.originalEvent.detail}if(l!=null){k.preventDefault();if(k.type==="DOMMouseScroll"){l=l*40}return this.search_results.scrollTop(l+this.search_results.scrollTop())}};j.prototype.blur_test=function(k){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};j.prototype.close_field=function(){f(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};j.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};j.prototype.test_active_click=function(k){var l;l=f(k.target).closest(".chosen-container");if(l.length&&this.container[0]===l[0]){return this.active_field=true}else{return this.close_field()}};j.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=d.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else{if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold&&!this.create_option){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};j.prototype.result_do_highlight=function(l){var p,o,m,n,k;if(l.length){this.result_clear_highlight();this.result_highlight=l;this.result_highlight.addClass("highlighted");m=parseInt(this.search_results.css("maxHeight"),10);k=this.search_results.scrollTop();n=m+k;o=this.result_highlight.position().top+this.search_results.scrollTop();p=o+this.result_highlight.outerHeight();if(p>=n){return this.search_results.scrollTop((p-m)>0?p-m:0)}else{if(o<k){return this.search_results.scrollTop(o)}}}};j.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};j.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};j.prototype.update_results_content=function(k){return this.search_results.html(k)};j.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};j.prototype.set_tab_index=function(l){var k;if(this.form_field.tabIndex){k=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=k}};j.prototype.set_label_behavior=function(){var k=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=f("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(l){if(k.is_multiple){return k.container_mousedown(l)}else{return k.activate_field()}})}};j.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};j.prototype.search_results_mouseup=function(k){var l;l=f(k.target).hasClass("active-result")?f(k.target):f(k.target).parents(".active-result").first();if(l.length){this.result_highlight=l;this.result_select(k);return this.search_field.focus()}};j.prototype.search_results_mouseover=function(k){var l;l=f(k.target).hasClass("active-result")?f(k.target):f(k.target).parents(".active-result").first();if(l){return this.result_do_highlight(l)}};j.prototype.search_results_mouseout=function(k){if(f(k.target).hasClass("active-result"||f(k.target).parents(".active-result").first())){return this.result_clear_highlight()}};j.prototype.choice_build=function(l){var k,m,n=this;k=f("<li />",{"class":"search-choice"}).html("<span>"+(this.choice_label(l))+"</span>");if(l.disabled){k.addClass("search-choice-disabled")}else{m=f("<a />",{"class":"search-choice-close","data-option-array-index":l.array_index});m.bind("click.chosen",function(o){return n.choice_destroy_link_click(o)});k.append(m)}return this.search_container.before(k)};j.prototype.choice_destroy_link_click=function(k){k.preventDefault();k.stopPropagation();if(!this.is_disabled){return this.choice_destroy(f(k.target))}};j.prototype.choice_destroy=function(k){if(this.result_deselect(k[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}k.parents("li").first().remove();return this.search_field_scale()}};j.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};j.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};j.prototype.result_select=function(k){var m,l;if(this.result_highlight){m=this.result_highlight;if(m.hasClass("create-option")){this.select_create_option(this.search_field.val());return this.results_hide()}this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){m.removeClass("active-result")}else{this.reset_single_select_options()}m.addClass("result-selected");l=this.results_data[m[0].getAttribute("data-option-array-index")];l.selected=true;this.form_field.options[l.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(l)}else{this.single_set_selected_text(this.choice_label(l))}if(!((k.metaKey||k.ctrlKey)&&this.is_multiple)){this.results_hide()}this.show_search_field_default();if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[l.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;k.preventDefault();return this.search_field_scale()}};j.prototype.single_set_selected_text=function(k){if(k==null){k=this.default_text}if(k===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").html(k)};j.prototype.result_deselect=function(l){var k;k=this.results_data[l];if(!this.form_field.options[k.options_index].disabled){k.selected=false;this.form_field.options[k.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[k.options_index].value});this.search_field_scale();return true}else{return false}};j.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};j.prototype.get_search_text=function(){return f("<div/>").text(f.trim(this.search_field.val())).html()};j.prototype.winnow_results_set_highlight=function(){var k,l;l=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];k=l.length?l.first():this.search_results.find(".active-result").first();if(k!=null){return this.result_do_highlight(k)}};j.prototype.no_results=function(k){var l;l=f('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');l.find("span").first().html(k);this.search_results.append(l);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};j.prototype.show_create_option=function(k){var l;l=f('<li class="create-option active-result"><a>'+this.create_option_text+'</a>: "'+k+'"</li>');return this.search_results.append(l)};j.prototype.create_option_clear=function(){return this.search_results.find(".create-option").remove()};j.prototype.select_create_option=function(k){if(f.isFunction(this.create_option)){return this.create_option.call(this,k)}else{return this.select_append_option({value:k,text:k})}};j.prototype.select_append_option=function(k){var l;l=f("<option />",k).attr("selected","selected");this.form_field_jq.append(l);this.form_field_jq.trigger("chosen:updated");this.form_field_jq.trigger("change");return this.search_field.trigger("focus")};j.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};j.prototype.keydown_arrow=function(){var k;if(this.results_showing&&this.result_highlight){k=this.result_highlight.nextAll("li.active-result").first();if(k){return this.result_do_highlight(k)}}else{if(this.results_showing&&this.create_option){return this.result_do_highlight(this.search_results.find(".create-option"))}else{return this.results_show()}}};j.prototype.keyup_arrow=function(){var k;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){k=this.result_highlight.prevAll("li.active-result");if(k.length){return this.result_do_highlight(k.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}}};j.prototype.keydown_backstroke=function(){var k;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{k=this.search_container.siblings("li.search-choice").last();if(k.length&&!k.hasClass("search-choice-disabled")){this.pending_backstroke=k;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};j.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};j.prototype.keydown_checker=function(l){var m,k;m=(k=l.which)!=null?k:l.keyCode;this.search_field_scale();if(m!==8&&this.pending_backstroke){this.clear_backstroke()}switch(m){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(l)}this.mouse_on_container=false;break;case 13:if(this.results_showing){l.preventDefault()}break;case 32:if(this.disable_search){l.preventDefault()}break;case 38:l.preventDefault();this.keyup_arrow();break;case 40:l.preventDefault();this.keydown_arrow();break}};j.prototype.search_field_scale=function(){var k,o,n,l,r,s,q,m,p;if(this.is_multiple){n=0;q=0;r="position:absolute; left: -1000px; top: -1000px; display:none;";s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(m=0,p=s.length;m<p;m++){l=s[m];r+=l+":"+this.search_field.css(l)+";"}k=f("<div />",{style:r});k.text(this.search_field.val());f("body").append(k);q=k.width()+25;k.remove();o=this.container.outerWidth();if(q>o-10){q=o-10}return this.search_field.css({width:q+"px"})}};return j})(a)}).call(this);var Runalyze=(function(e,o){var q={};var r={dontReloadForConfigFlag:"dont-reload-for-config",dontReloadForTrainingFlag:"dont-reload-for-training"};var c;var n=[];var k=[];var h=false;function a(s){r=e.extend({},r,s)}function j(){c=e("body")}function l(){e.ajaxSetup({error:function(s,t){if("status" in s){if(s.status==404){q.Log.add("ERROR","There was an error 404: The requested resource could not be found.")}else{if(s.status==500){q.Log.add("ERROR","There was an error 500: Internal Server Error.")}}}}})}function p(){e(window).resize(function(){if(typeof RunalyzePlot!="undefined"){RunalyzePlot.resizeTrainingCharts();RunalyzePlot.setFullscreenSize()}})}function m(){q.addLoadHook("create-flot",q.createFlot);q.addLoadHook("resize-trainings",RunalyzePlot.resizeTrainingCharts)}function g(){for(key in n){n[key]()}}function d(){for(key in k){k[key]()}}function f(){q.DataBrowser.reload();q.Statistics.reload();q.Panels.reloadAll(r.dontReloadForConfigFlag)}function b(){q.DataBrowser.reload();q.Statistics.reload();q.Panels.reloadAll(r.dontReloadForTrainingFlag)}q.addInitHook=function(s,t){n[s]=t};q.addLoadHook=function(s,t){k[s]=t};q.init=function(s){a(s);j();if(!h){l();p()}m();g();d();h=true};q.reinit=function(){d()};q.body=function(){return c};q.isReady=function(){return h};q.hasContainer=function(){return(e("#container, #data-browser, #statistics-inner").length>0)};q.createFlot=function(){e(document).trigger("createFlot")};q.flotChange=function(t,s){e(".flotChanger-"+t).addClass("unimportant");e(".flotChanger-id-"+s).removeClass("unimportant");e("#"+t+" .flot").addClass("flot-hide");e("#"+t+" #"+s).removeClass("flot-hide");q.createFlot();RunalyzePlot.resize(s)};q.toggleFieldset=function(s,w,v,u){s.blur();var t=e("#"+w);if(v===true){t.siblings().addClass("collapsed");t.removeClass("collapsed")}else{t.toggleClass("collapsed")}if(u.length>0){q.Config.setActivityFormLegend(u,!t.hasClass("collapsed"))}return false};q.goToNextMultiEditor=function(){var t=e("#ajax-navigation tr.highlight");if(t.next().length){t.next().click()}else{var s=t.siblings(":not(.edited):first");if(s.length){s.click()}else{t.click()}}};q.reloadPage=function(){location.reload()};q.reloadContent=function(){var u=e("#container").addClass(q.Options.loadingClass());var t="index.php?";var s=q.DataBrowser.currentTimes();if(q.Statistics.showsTraining()){t=t+"id="+q.Statistics.currentId()}else{t=t+"pluginid="+q.Statistics.currentId()}t=t+"&start="+s.start+"&end="+s.end+" #container > *";e.ajax({url:t}).done(function(w){var v=e("<div />").html(w).find("#container > *");e("#container").html(v);q.init();u.hide().removeClass(q.Options.loadingClass()).fadeIn()}).fail(function(v){e("#container").html('<p class="error">There was an error: '+v.status+" "+v.statusText+"</p>")})};q.reloadAllPlugins=function(s){if(typeof s=="undefined"||s==""){q.Statistics.reload();q.Panels.reloadAll()}else{q.reloadPlugin(s)}};q.reloadDataBrowserAndTraining=function(){q.DataBrowser.reload();q.Training.reload()};q.reloadPlugin=function(s){if(q.Statistics.shows(s)){q.Statistics.reload()}else{q.Panels.load(s)}};return q})(jQuery,undefined);(function(a,b){a.fn.extend({loadDiv:function(c,f,d){if(c=="#"){return this}var g=this;return g.addClass(b.Options.loadingClass()).load(c,f,function(h,e,j){if(e=="error"){g.html('<p class="error">There was an error: '+j.status+" "+j.statusText+"</p>")}if(g.attr("id")=="ajax"){b.reinit();b.Overlay.addCloseButton();g.removeClass(b.Options.loadingClass())}else{b.reinit();g.hide().removeClass(b.Options.loadingClass()).fadeIn()}if(d){if(d.success){d.success()}}})}})})(jQuery,Runalyze);var RunalyzePlot=(function(d,g){var l={};var m={};var e={};var n={};var f={options:{takeMaxWidth:true,minWidthForContainer:450,maxWidthForSmallSize:550,fixedWidth:false,defaultWidth:478,width:478}};var p={};var c={defaultPlotOptions:{showLegend:true,enableCrosshair:true,allowCrosshair:true,enableSelection:true,allowSelection:true,enablePanning:false,allowPanning:true},waitClass:"wait-img"};var q={colors:["#C61D17","#E68617","#8A1196","#E6BE17","#38219F"],legend:{backgroundColor:"#000",backgroundOpacity:0,margin:[0,-25],noColumns:99},series:{stack:null,points:{radius:1,lineWidth:3},lines:{lineWidth:1,steps:false},bars:{lineWidth:1,barWidth:0.6,align:"center",fill:0.9},curvedLines:{active:true,apply:false,fit:false,curvePointFactor:5}},yaxis:{color:"rgba(0,0,0,0.1)"},xaxis:{color:"rgba(0,0,0,0.1)",monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},grid:{color:"#000",backgroundColor:"rgba(255,255,255,0.5)",borderColor:{top:"transparent",right:"#999",bottom:"#999",left:"#999"},minBorderMargin:5,borderWidth:1,labelMargin:5,axisMargin:2,margin:{top:30,right:0,bottom:0,left:0}},canvas:true,font:"Verdana 9px"};function s(u){u.legend.show=true;u.legend.position="nw";u.legend.hideable=true;u.grid.hoverable=true;u.grid.autoHighlight=false;u.crosshair={mode:"x"};if(!u.series.bars.show){u.crosshair={color:"rgba(0, 0, 0, 0.80)",lineWidth:1,mode:"x"};u.selection=d.extend({},u.selection,{mode:"x",color:"rgba(170, 0, 0, 0.5)"})}else{u.series.curvedLines.apply=false}if(u.hooks&&u.hooks.draw){u.hooks.draw.push(h)}else{u.hooks={draw:[h]}}return u}function h(x,u){var v=x.getPlaceholder().attr("id");if(typeof m[v]!=="undefined"){k(v);if(!m[v].showLegend){d("#"+v+" .legend").hide()}}else{var w=d("#"+v+" .legend");if(w.find(".legendLabel").length==1){w.hide()}}}function j(){d(".training-row-plot .flot").each(function(){if(d(this).width()!=f.options.width){d(this).width(f.options.width);r(d(this).attr("id"))}})}function o(u){m[u].setupGrid();m[u].draw()}function r(u){if(u in m&&d("#"+u).is(":visible")){m[u].resize();m[u].setupGrid();m[u].draw();n[u]=d("#"+u).width()}}function a(u){if(m.hasOwnProperty(u)){var v=l.getPlot(u).annotations;for(i in v){if(v[i].x!=null&&v[i].y!=null){v[i].id="annotation-"+u+v[i].x.toString().replace(".","")+v[i].y.toString().replace(".","");d("#"+u).append('<div id="'+v[i].id+'" class="annotation">'+v[i].text+"</div>");b(u,v[i])}}}}function b(v,w){var u=d("#"+w.id),x=l.getPlot(v).pointOffset({x:w.x,y:w.y});u.css({left:(x.left+w.toX)+"px",top:(x.top+w.toY)+"px"});if(x.top+w.toY<0){u.hide()}}function t(){for(key in m){k(key)}}function k(u){for(i in m[u].annotations){b(u,m[u].annotations[i])}}l.setOptions=function(u){c=d.extend({},c,u);return l};l.resize=function(u){r(u)};l.resizeAll=function(){for(key in m){r(key)}return l};l.clear=function(){for(key in m){l.remove(key)}return l};l.resizeTrainingCharts=function(){if(d(".training-row-plot:first").length==0){return}f.options.width=d(".training-row-plot:visible:first").width()-24;j()};l.addInitHook=function(u,v){p[u]=v};l.preparePlot=function(x,v,u,w){if(e.hasOwnProperty(x)){delete e[x]}if(m.hasOwnProperty(x)){m[x].annotations=[]}d(document).off("createFlot."+x).on("createFlot."+x,function(){var y=d("#"+x);if(!e.hasOwnProperty(x)&&y.width()>0&&y.is(":visible")&&!y.hasClass("flot-hide")){e[x]=true;y.width(v).height(u);w();a(x);y.removeClass(c.waitClass);d(document).off("createFlot."+x)}})};l.addPlot=function(z,x,w,u,y){var v=d("#"+z);if(z in m&&v.length==0){l.remove(z)}if(d(".training-row-plot").has(v).length){v.width(f.options.width)}w=d.extend(true,{},q,w);w=s(w);n[z]=v.width();m[z]=d.plot(v,x,w);m[z].options=d.extend(true,{},c.defaultPlotOptions,u);m[z].showLegend=(v.find(".legendLabel").length>1);if(typeof y!="undefined"){m[z].annotations=y}else{m[z].annotations=[]}for(key in p){p[key](z)}return l};l.getPlot=function(u){return m[u]};l.remove=function(u){if(u in m){m[u].shutdown();delete m[u]}return l};l.toggleLegend=function(u){d("#"+u+" .legend").toggle();m[u].showLegend=!m[u].showLegend};l.toggleSelection=function(u){l.enableSelection(u,(l.getPlot(u).getOptions().selection.mode!="x"))};l.enableSelection=function(v,u){l.getPlot(v).getOptions().selection.mode=!u?null:"x";if(!u){this.getPlot(v).clearSelection();d("#"+v+" .map-tooltip").hide()}};l.toggleCrosshair=function(u){l.enableCrosshair(u,(l.getPlot(u).getOptions().crosshair.mode=="x"))};l.enableCrosshair=function(v,u){l.getPlot(v).getOptions().crosshair.mode=!u?null:"x";if(!u){d("#"+v+" .map-tooltip").hide()}};l.togglePanning=function(u){};l.enablePanning=function(v,u){};l.toggleFullscreen=function(v){var u=d("#"+v);u.toggleClass("fullscreen");d("#"+v+" .flot-settings-fullscreen, #"+v+" .flot-settings-fullscreen-hide").toggleClass("hide");if(u.hasClass("fullscreen")){u.attr("data-width",u.width());u.attr("data-height",u.height());l.setFullscreenSize()}else{u.css({width:u.attr("data-width"),height:u.attr("data-height")})}r(v)};l.setFullscreenSize=function(){var u=d(".flot.fullscreen");if(u.length){u.css({width:d(window).width()-(u.outerWidth(true)-u.width()),height:d(window).height()-(u.outerHeight(true)-u.height())});r(u.attr("id"))}};l.flotHookColorPoints=function(v,u,w){return function(I,O){var E=I.getData();var K=I.getAxes();var C=I.getPlotOffset();var G=I.getOptions().series.points.lineWidth;var H=G;for(var F=0;F<E.length;F++){var D=E[F];for(var B=0;B<D.data.length;B++){var J=(D.data[B]);var N=C.left+K.xaxis.p2c(J[0]);var M=C.top+K.yaxis.p2c(J[1]);var A=w;for(var z=0;z<v.length;z++){if(J[1]>v[z]){A=u[z];break}}O.lineWidth=G;O.beginPath();O.arc(N,M,H,0,Math.PI*2,true);O.closePath();O.fillStyle=A;O.fill()}}}};return l})(jQuery,undefined);RunalyzePlot.Options=(function(f,l){var o={};var p={cssClass:"flot-options",cssClassOption:"flot-option"};function a(q){return f("#"+q+" ."+p.cssClass)}function k(q){f("#"+q).append('<div class="'+p.cssClass+'"/>');n(q);b(q);h(q);m(q);e(q);d(q)}function j(t,r,u,v,q){var s=f('<div class="'+p.cssClassOption+'"><i class="'+r+'" title="'+u+'"/></div>').appendTo(a(t)).click(function(){v(this)});if(q){q(s,t)}}function n(q){j(q,"fa fa-fw fa-expand","Fullscreen mode",function(){l.toggleFullscreen(q)})}function b(q){j(q,"fa fa-fw fa-floppy-o","Save plot",function(){l.Saver.save(q)})}function h(q){j(q,"fa fa-fw fa-list-ul","Toggle legend",function(r){l.toggleLegend(q);f(r).toggleClass("option-toggled")},function(r){var s=f("#"+q+" .legend");if(!s.length){r.remove()}else{if(!s.is(":visible")){r.addClass("option-toggled")}}})}function m(q){j(q,"fa fa-fw fa-tag","Toggle annotations",function(r){f(r).toggleClass("option-toggled");f("#"+q+" .annotation").toggle()},function(r){if(!l.getPlot(q).annotations.length){r.remove()}})}function e(q){j(q,"fa fa-fw fa-crosshairs","Toggle crosshair",function(r){f(r).toggleClass("option-toggled");l.toggleCrosshair(q)},function(r){if(l.getPlot(q).getOptions().series.bars.show){r.remove()}else{if(!l.getPlot(q).options.allowCrosshair){l.enableCrosshair(q,false);r.remove()}else{if(!l.getPlot(q).options.enableCrosshair){l.enableCrosshair(q,false);r.addClass("option-toggled")}}}})}function d(q){j(q,"fa fa-fw fa-crop","Toggle selection",function(r){f(r).toggleClass("option-toggled");l.toggleSelection(q)},function(r){if(l.getPlot(q).getOptions().series.bars.show){r.remove()}else{if(!l.getPlot(q).options.allowSelection){l.enableSelection(q,false);r.remove()}else{if(!l.getPlot(q).options.enableSelection){l.enableSelection(q,false);r.addClass("option-toggled")}}}})}function c(q){j(q,"fa fa-fw fa-arrows","Toggle panning",function(r){f("#"+q+" .zooming-link").parent().toggle();f(r).toggleClass("option-toggled");l.togglePanning(q)},function(r){if(!l.getPlot(q).options.allowPanning){l.enablePanning(q,false);r.remove()}else{if(!l.getPlot(q).options.enablePanning){l.enablePanning(q,false);r.addClass("option-toggled")}}})}function g(q){j(q,"fa fa-fw fa-search-plus zooming-link","Zoom in",function(r){l.getPlot(q).zoom()},function(r){if(!l.getPlot(q).options.enablePanning){r.hide()}});j(q,"fa fa-fw fa-search-minus zooming-link","Zoom out",function(r){l.getPlot(q).zoomOut()},function(r){if(!l.getPlot(q).options.enablePanning){r.hide()}})}o.init=function(q){k(q);return o};l.addInitHook("init-options",o.init);return o})(jQuery,RunalyzePlot);RunalyzePlot.Saver=(function(e,c){var a={};var d=false,b={bgColor:"#ffffff",annotationBgColor:"#000000",annotationTextColor:"#ffffff",filename:"Plot.png",callback:"call/savePng.php",errorMessage:"Sorry, your browser is not able to save images from canvas."};function f(){if(!d){e("body").append('<form style="display:none;" action="'+b.callback+'" method="post" target="save-png-frame" id="save-png-form"><input type="hidden" name="filename" value="'+b.filename+'"><input type="hidden" name="image" id="save-png-input" value=""></form><iframe style="display:none;" name="save-png-frame" src="" width="1" height="1"></iframe>');d=true}}function g(j,h){j.getOptions().grid.canvasText.show=h;j.setupGrid();j.draw()}a.save=function(m){var p=c.getPlot(m),o=e("#"+m+" canvas.flot-base")[0],l=document.createElement("canvas");f();if(o.getContext){g(p,true);var k=l.getContext("2d"),n=o.height,j=o.width;l.height=n;l.width=j;k.height=n;k.width=j;k.fillStyle=b.bgColor;k.fillRect(0,0,j,n);k.drawImage(o,0,0);e("#"+m+" .annotation").each(function(){var s=e(this).position(),q=e(this).width(),h=e(this).height(),r=e(this).text();k.fillStyle=b.annotationBgColor;k.fillRect(s.left+2,s.top+2,q,h);k.fillStyle=b.annotationTextColor;k.textAlign="left";k.fillText(r,s.left+2,s.top+h-1)});e("#save-png-input").val(l.toDataURL("image/png"));e("#save-png-form").submit();g(p,false)}else{window.alert(b.errorMessage)}};return a})(jQuery,RunalyzePlot);RunalyzePlot.Events=(function(d,j){var l={};var n={atString:"at",completeString:"Total",tooltipClass:"tooltip",tooltipInnerClass:"tooltip-inner"};function m(p){return d("#"+p+" ."+n.tooltipClass)}function k(p){d("#"+p).append('<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>')}function o(p,q){return p+": <span>"+q+"</span><br>"}function h(p){d("#"+p).bind("plothover",g(p));d("#"+p).bind("mouseleave",b)}function c(p){var q=j.getPlot(p);q.selection=false;d("#"+p).bind("plotselected",a(p)).bind("plotunselected",function(r){q.selection=false;m(p).removeClass("in").removeClass("right")})}function g(p){return function(I,J,N){var H=j.getPlot(p),r=H.getOptions(),K=H.getAxes(),v={},E="",u="",A,z,G;if(r.crosshair.mode!="x"||H.selection){return}if(r.series.points.show){if(N){v.x=N.pageX;v.y=N.pageY;u="top";A=N.datapoint[0];z=N.datapoint[1];G=K.xaxis.max-K.xaxis.min;if(K.xaxis.options.ticks!=null&&K.xaxis.options.ticks.length>=A+1){A=K.xaxis.options.ticks[A][1]}else{if(K.xaxis.options.mode=="time"&&G/1000>86400*2){A=(new Date(A)).toLocaleDateString()}else{if(K.xaxis.tickFormatter){A=K.xaxis.tickFormatter(Math.round(A*100)/100,K.xaxis)}}}E=E+o(n.atString,A)+o(N.series.label,N.series.yaxis.tickFormatter(Math.round(z*100)/100,N.series.yaxis))}}else{if(r.series.bars.show){if(N){if(r.series.stack){v.x=J.pageX+15;v.y=J.pageY+10;u="right";var C=H.getData(),t=0,w=0;for(var M=0;M<C.length;++M){var B=C[M];if(B.data.length==0||!B.bars.show){continue}for(var F=0;F<B.data.length;++F){if(B.data[F][0]>J.x){break}}var s=B.data[F-1],q=B.data[F];if(s==null){z=q[1]}else{if(q==null||Math.abs(q[0]-J.x)>Math.abs(J.x-s[0])){z=s[1]}else{z=q[1]}}w=w+1;t=t+parseFloat(z);E=E+o(B.label,B.yaxis.tickFormatter(Math.round(z*100)/100,B.yaxis))}if(w>1){E=o(n.completeString,B.yaxis.tickFormatter(Math.round(t*100)/100,B.yaxis))+E}}else{v.x=N.pageX;v.y=N.pageY;u="top";z=N.datapoint[1]-N.datapoint[2];if(H.getData().length>0){E=N.series.label+": "}E=E+"<span>"+N.series.yaxis.tickFormatter(Math.round(z*100)/100,N.series.yaxis)+"</span>"}}}else{if(J.x>=K.xaxis.min&&J.x<=K.xaxis.max&&J.y>=K.yaxis.min&&J.y<=K.yaxis.max){v.x=J.pageX+15;v.y=J.pageY+10;u="right";G=K.xaxis.max-K.xaxis.min;if(K.xaxis.options.mode=="time"&&G/1000>86400*2){A=(new Date(J.x)).toLocaleDateString()}else{if(K.xaxis.tickFormatter){A=K.xaxis.tickFormatter(Math.round(J.x*100)/100,K.xaxis)}}if(A){E=E+o(n.atString,A)}var C=H.getData();for(var M=0;M<C.length;++M){var B=C[M];var O=B.yaxis.tickFormatter||B.yaxis.options.tickFormatter;if(B.data.length==0){continue}for(var F=0;F<B.data.length;++F){if(B.data[F][0]>J.x){break}}var s=B.data[F-1],q=B.data[F];if(s==null){z=q[1]}else{if(q==null||Math.abs(q[0]-J.x)>Math.abs(J.x-s[0])){z=s[1]}else{z=q[1]}}E=E+o(B.label,O(Math.round(z*100)/100,B.yaxis))}}}}if(RunalyzeLeaflet&&RunalyzeLeaflet.Routes&&RunalyzeLeaflet.Routes.routeid){if(d(".training-row-plot").has(d("#"+p)).length&&!r.series.bars.show){if(H.getOptions().xaxis.mode!="time"){e(J.x)}else{var C=H.getData();var D=C[C.length-1];for(F=0;F<D.data.length-1;++F){if(D.data[F][0]>J.x){break}}e(D.data[F][1])}}}f(p,v,E,u)}}function e(p){if(RunalyzeLeaflet&&RunalyzeLeaflet.Routes){RunalyzeLeaflet.Routes.movePosMarker(p)}}function b(){if(RunalyzeLeaflet&&RunalyzeLeaflet.Routes){RunalyzeLeaflet.Routes.unsetPosMarker()}}function a(p){return function(F,t,I){var D=j.getPlot(p),A=true;A=(D.getOptions().xaxis.mode!="time");D.selection=true;var G=D.getAxes(),C="",B=parseFloat(t.xaxis.from.toFixed(1)),r=parseFloat(t.xaxis.to.toFixed(1));if(G.xaxis.tickFormatter){if(A){C=C+o(G.xaxis.tickFormatter(B,G.xaxis)+" - "+G.xaxis.tickFormatter(r,G.xaxis),G.xaxis.tickFormatter(Math.round((r-B)*10)/10,G.xaxis))}else{C=C+"<span>"+G.xaxis.tickFormatter(B,G.xaxis)+" - "+G.xaxis.tickFormatter(r,G.xaxis)+"</span><br>"}}var H,E,y,x=D.getData();for(H=0;H<x.length;++H){var w=x[H],v=0,s=0;var J=w.yaxis.tickFormatter||w.yaxis.options.tickFormatter;for(E=0;E<w.data.length;++E){if(w.data[E][0]>=B&&w.data[E][0]<=r){s=s+w.data[E][1];v=v+1;y=E}}C=C+o(w.label,"&oslash; "+J(Math.round(s*100/v)/100,w.yaxis))}var q=m(p);var u={y:0,x:0};if(q.is(":visible")){var K=d("#"+p).offset();u.y=q.offset().top-K.top;u.x=q.offset().left-K.left}else{var z=D.pointOffset({x:r,y:x[0].data[y][1]});u.y=z.top;u.x=z.left}f(p,u,C,"right",true)}}function f(q,w,t,u,s){if(w.hasOwnProperty("x")&&w.hasOwnProperty("y")){var r=m(q);r.children("."+n.tooltipInnerClass).html(t);if(u=="top"){w.x=w.x-r.width()/2;w.y=w.y-r.height()-10}var p={};if(s===true){var v=d("#"+q).offset();p.top=w.y;p.left=w.x;p.position="absolute"}else{p.top=w.y-d(document).scrollTop();p.left=w.x-d(document).scrollLeft();p.position="fixed"}r.css(p).children("."+n.tooltipInnerClass).html(t).parent().addClass(u+" in")}else{m(q).removeClass("in "+u)}}l.init=function(p){k(p);h(p);c(p);return l};j.addInitHook("init-events",l.init);return l})(jQuery,RunalyzePlot);Runalyze.Tablesorter=(function(d,b){var a={};var c=[];a.update=function(){for(var e=0;e<c.length;e++){if(d("#"+c[e]).length==0){delete c[e]}}return a};a.has=function(e){return(d.inArray(e,c)!=-1)};a.add=function(e){c.push(e)};b.addLoadHook("update-tablesorter",a.update);return a})(jQuery,Runalyze);(function(d,b,c){var a=function(e){return d.trim(d(e).text()).replace(/[\/km]/,"")};d.fn.extend({tablesorterAutosort:function(e){var f=this.attr("id");if(typeof e=="undefined"){if(c.has(f)){this.trigger("update");return this}c.add(f)}return this.addClass("sortable").tablesorter({textExtraction:a})},tablesorterWithPager:function(e){var f=this.attr("id");if(typeof e=="undefined"){if(c.has(f)){this.trigger("update");return this}c.add(f)}return this.addClass("sortable").tablesorter({textExtraction:a}).tablesorterPager({container:d("#pager"),output:"{page} / {totalPages}",positionFixed:false,size:20})}});b.addParser({id:"germandate",is:function(e){return false},format:function(f){var e=f.split(".");if(e.length<2){return 0}e[1]=e[1].replace(/^[0]+/g,"");return new Date(e.reverse().join("/")).getTime()},type:"numeric"});b.addParser({id:"distance",is:function(e){return false},format:function(e){if(e.indexOf("km")!==-1){return parseFloat(e.replace(/[ km]/g,"").replace(/[.]/g,"").replace(/[,]/g,"."))}if(e.indexOf("m")!==-1){return parseFloat(e.replace(/[m]/g,"").replace(/[.]/g,""))/1000}return parseFloat(e)},type:"numeric"});b.addParser({id:"temperature",is:function(e){return false},format:function(e){if(isNaN(parseFloat(e))||isFinite(e)){return -99}return e.replace(/[ C]/g,"")},type:"numeric"});b.addParser({id:"resulttime",is:function(e){return false},format:function(k){var l,j,e;var f=k.split(",");var g=f[0].split(":");f=(f.length>1)?f[1].replace(/[s]/g,""):0;if(g.length==3){l=g[0].split("d ");if(l.length==2){j=24*parseInt(l[0])+parseInt(l[1])}else{j=l[0]}e=g[1];k=g[2]}else{if(g.length==2){j=0;e=g[0];k=g[1]}else{j=0;e=0;k=g[0]}}return j*60*60+e*60+k+f/100},type:"numeric"});b.addParser({id:"x",is:function(e){return false},format:function(e){return e.replace(/[x]/g,"")},type:"numeric"});b.addParser({id:"order",is:function(e){return false},format:function(e){return e.replace(/[(]/g,"99999").replace(/[.)]/g,"")},type:"numeric"})})(jQuery,jQuery.tablesorter,Runalyze.Tablesorter);Runalyze.Log=(function(c,a){var k={};var b="error-toolbar";var e=0;var h=null;var j=null;function d(l){return"log-"+l}function f(l){return'<span onclick="Runalyze.Log.remove('+l+');" class="link"><i class="fa fa-fw fa-times fa-grey"></i></span>'}function g(){if(h.children("tr").length==0){j.hide()}else{j.show()}}k.init=function(){if(j){return}c("body").append('<div id="'+b+'" class="toolbar at-top"></div>');j=c("#"+b);var l='<span onclick="Runalyze.Log.clear();" class="link"><i class="fa fa-fw fa-times"></i></span>',m='<i class="fa fa-fw fa-minus-circle link margin-5" id="log-filter-ERROR" onclick="Runalyze.Log.filter(\'ERROR\');" />',o='<i class="fa fa-fw fa-warning link margin-5" id="log-filter-WARNING" onclick="Runalyze.Log.filter(\'WARNING\');" />',q='<i class="fa fa-fw fa-info-circle link margin-5" id="log-filter-INFO" onclick="Runalyze.Log.filter(\'INFO\');" />',n=m+o+q,p='<table class="fullwidth nomargin"><thead><tr><th style="width:100px;">'+n+'</th><th>Errors</th><th style="width:70px;"></th><th style="width:3px;">'+l+'</th></thead><tbody id="errorTable"></tbody></table>';j.append('<div class="toolbar-content" style="max-height:200px;overflow-y:scroll;">'+p+"</div>");j.append('<div class="toolbar-nav"><div class="toolbar-opener"></div>');h=c("#errorTable");g()};k.remove=function(l){c("#"+d(l)).remove();g();return k};k.clear=function(l){h.empty();g();return k};k.filter=function(l){c("#log-filter-"+l).toggleClass("unimportant");h.children("."+l).toggleClass("hide");if(l=="INFO"){h.children(".TODO, .DEBUG, .NOTICE").toggleClass("hide")}};k.addArray=function(m){for(var l in m){k.add(m[l]["type"],m[l]["message"])}};k.add=function(l,m){e++;h.prepend('<tr id="'+d(e)+'" class="'+l+'"><td class="b errortype">'+l+"</td><td>"+m+'</td><td class="small">'+(new Date()).toTimeString().split(" ")[0]+"</td><td>"+f(e)+"</td></tr>");a.Feature.initToggle();g();return k};a.addInitHook("init-log",k.init);return k})(jQuery,Runalyze);Runalyze.Options=(function(d,c){var a={};var b={sharedView:false,fadeSpeed:200,loadingClass:"loading",nokiaAuth:{app:"YOUR-APP-ID",token:"YOUR-APP-TOKEN"}};a.setNokiaLayerAuth=function(f,e){b.nokiaAuth.app=f;b.nokiaAuth.token=e;return a};a.nokiaAuth=function(){return b.nokiaAuth};a.setSharedView=function(e){b.sharedView=e||true;return a};a.isSharedView=function(){return b.sharedView};a.fadeSpeed=function(){return b.fadeSpeed};a.loadingClass=function(){return b.loadingClass};return a})(jQuery,Runalyze);Runalyze.Config=(function(c,b){var a={};function d(e,f){if(!b.Options.isSharedView()){c.ajax("call/ajax.change.Config.php?key="+e+"&value="+f)}}a.ignoreActivityID=function(e){d("garmin-ignore",e)};a.setLeafletLayer=function(e){d("leaflet-layer",e)};a.setActivityFormLegend=function(f,e){d("show-"+f,e)};return a})(jQuery,Runalyze);Runalyze.Overlay=(function(c,a){var n={};var o={selectorContainer:"#ajax",selectorBackground:"#overlay",selectorAll:"#overlay, #ajax, #ajax-navigation",selectorOuter:"#ajax-outer",selectorNavigation:"#ajax-navigation",classBig:"big-window",classSmall:"small-window",classFullscreen:"fullscreen",classBody:"overlay"};var m;var e;var d;var l;function g(){m=c(o.selectorContainer);e=c(o.selectorBackground);d=c(o.selectorAll);l=c(o.selectorOuter)}function j(){a.body().addClass(o.classBody)}function f(){a.body().removeClass(o.classBody)}function k(){if(!c("#ajax-outer").length){c("body > :not(#flot-loader, #copy, #error-toolbar, script)").wrapAll('<div id="ajax-outer"><div id="ajax" class="panel"></div></div>');a.body().prepend('<div id="overlay"></div>');c("#ajax").css("margin-top","50px");c("#ajax, #overlay").show().fadeTo(a.Options.fadeSpeed(),1)}j()}function h(){a.body().prepend('<div id="overlay"></div><div id="ajax-outer"><div id="ajax" class="panel"></div></div>')}function b(){c(document).keyup(function(p){if(p.keyCode==27){n.close()}})}n.init=function(){if(!a.hasContainer()){k()}else{if(!a.isReady()){h()}}g();b();l.click(function(p){if(p.target==p.currentTarget){n.close()}});return n};n.bindLinks=function(){c("a.window").unbind("click").click(function(p){p.preventDefault();n.load(c(this).attr("href"),{size:c(this).attr("data-size")});return false})};n.container=function(){return m};n.load=function(p,q,r){j();if(!e.is(":visible")){m.removeClass(o.classSmall).removeClass(o.classBig)}if(q&&q.size){if(q.size=="small"){m.removeClass(o.classBig);m.addClass(o.classSmall)}else{if(q.size=="big"){m.removeClass(o.classSmall);m.addClass(o.classBig)}}}e.show().fadeTo(a.Options.fadeSpeed(),1);m.addClass(a.Options.loadingClass()).show().fadeTo(a.Options.fadeSpeed(),1);m.loadDiv(p,r,q)};n.addCloseButton=function(){if(c("#close").length==0){m.prepend('<div id="close" class="black-rounded-icon" onclick="Runalyze.Overlay.close()"><i class="fa fa-fw fa-times"></i></div>')}};n.close=function(){if(a.hasContainer()){d.fadeTo(a.Options.fadeSpeed(),0,function(){d.hide();n.removeClasses();f();c(o.selectorNavigation).remove()})}};n.toggleFullscreen=function(){m.toggleClass(o.classFullscreen)};n.removeClasses=function(){m.removeClass(o.classBig).removeClass(o.classSmall).removeClass(o.classFullscreen)};a.addInitHook("init-overlay",n.init);a.addLoadHook("init-overlay-links",n.bindLinks);return n})(jQuery,Runalyze);Runalyze.Panels=(function(e,c){var a={};var b={urlSingle:"call/call.Plugin.display.php?id=",urlReload:"call/call.ContentPanels.php",urlClap:"call/call.PluginPanel.clap.php",urlMove:"call/call.PluginPanel.move.php"};function f(){e("#panels .clap").unbind("click").click(function(){e(this).closest(".panel").find(".panel-content").toggle(c.Options.fadeSpeed(),function(){e(this).closest(".content").find(".flot").each(function(){RunalyzePlot.resize(e(this).attr("id"))})});e.get(b.urlClap,{id:e(this).attr("rel")})})}function d(){e("#panels .up, #panels .down").unbind("click").click(function(){if(e(this).hasClass("up")){e(this).closest(".panel").after(e(this).closest(".panel").prev(".panel"));e.get(b.urlMove,{mode:"up",id:e(this).attr("rel")})}else{e(this).closest(".panel").next(".panel").after(e(this).closest(".panel"));e.get(b.urlMove,{mode:"down",id:e(this).attr("rel")})}})}a.init=function(){f();d()};a.load=function(g){e("#panel-"+g).loadDiv(b.urlSingle+g)};a.reloadAll=function(g){if(typeof g=="undefined"){e("#panels").loadDiv(b.urlReload)}else{g=":not(."+g+")";e("#panels div.panel"+g).each(function(){a.load(e(this).attr("id").substring(6))})}};c.addLoadHook("init-panels",a.init);return a})(jQuery,Runalyze);Runalyze.DataBrowser=(function(d,c){var a={};var b={selectorContainer:"#statistics-nav",selectorReload:"#refreshDataBrowser"};var f;function e(){f=d(b.selectorContainer)}a.init=function(){e()};a.reload=function(){d(b.selectorReload).trigger("click")};a.currentTimes=function(){var h=d(b.selectorReload).attr("href");var l;var m;var g;h=h.substr(h.indexOf("?")+1);l=h.split("&");for(var j=0;j<l.length;j++){var k=l[j].split("=");if(k[0]=="start"){m=k[1]}else{if(k[0]=="end"){g=k[1]}}}return{start:m,end:g}};c.addInitHook("init-databrowser",a.init);return a})(jQuery,Runalyze);Runalyze.Statistics=(function(d,b){var j={};var k={selectorMenu:"#statistics-nav",selectorMenuItems:"#statistics-nav li",selectorContent:"#statistics-inner",activeClass:"active",urlStat:"call/call.Plugin.display.php?id="};var a;var f;var c;var h;function g(){a=d(k.selectorMenu);f=d(k.selectorMenuItems);c=d(k.selectorContent);if(!b.isReady()){j.resetUrl()}else{f.removeClass(k.activeClass);f.children("a[href='"+j.currentTabContentUrl+"']").parent().addClass("active")}}function e(){f.unbind("click").click(function(l){l.preventDefault();b.Training.removeHighlighting();f.removeClass(k.activeClass);d(this).addClass(k.activeClass);j.load(d(this).find("a").attr("href"));return false})}j.init=function(){g();e()};j.currentUrl=function(){return h};j.setUrl=function(l){h=l};j.resetUrl=function(){h=d(k.selectorMenuItems+":first a").attr("href")};j.showsTraining=function(){return b.Training.isUrl(h)};j.shows=function(l){return(h==k.urlStat+l.toString())||(h.lastIndexOf(k.urlStat+l.toString()+"&",0)===0)};j.currentId=function(){if(j.showsTraining()){return h.substr(b.Training.url("").length)}return h.substr(k.urlStat.length)};j.reload=function(){if(h!=""){var l=f.children("a[href='"+j.currentTabContentUrl+"']");if(l.length){b.Training.removeHighlighting();f.removeClass(k.activeClass);l.addClass(k.activeClass)}j.load(h)}};j.load=function(l){c.loadDiv(l);h=l};j.loadTraining=function(l){f.removeClass(k.activeClass);j.load(l)};b.addInitHook("init-statistics",j.init);return j})(jQuery,Runalyze);Runalyze.Training=(function(d,c){var a={};var b={url:"call/call.Training.display.php?id=",urlSaveTCX:"call/ajax.saveTcx.php",highlightClass:"highlight"};a.initLinks=function(){d("a.training").unbind("click").click(function(f){f.preventDefault();a.load(d(this).attr("rel"));return false})};a.load=function(f,e){c.Statistics.load(e||a.url(f));a.removeHighlighting();a.addHighlighting(f)};a.reload=function(){if(c.Statistics.showsTraining()){c.Statistics.reload()}};a.isUrl=function(e){return(e.lastIndexOf(b.url,0)===0)};a.url=function(e){return b.url+e.toString()};a.removeHighlighting=function(){d("#data-browser tr.training").removeClass(b.highlightClass)};a.addHighlighting=function(e){d("#training_"+e).addClass(b.highlightClass)};a.saveTcx=function(g,e,f,h,j){d.post(b.urlSaveTCX,{activityId:e,data:g},function(){if(f==h){a.loadSavedTcxs(j)}})};a.loadSavedTcxs=function(e){c.Overlay.container().loadDiv(d("form#training").attr("action"),{activityIds:e,data:"FINISHED"})};a.loadXML=function(e){c.Overlay.container().loadDiv(d("form#training").attr("action"),{data:e})};c.addLoadHook("init-training-links",a.initLinks);return a})(jQuery,Runalyze);Runalyze.Feature=(function(d,a){var n={};var o={};function c(){d("a.ajax").unbind("click").click(function(r){r.preventDefault();if(d(this).data("confirm")){if(!window.confirm(d(this).data("confirm"))){return false}}var p=d(this).attr("href");var q=d(this).attr("target");if(p!="#"){if(q=="statistics-inner"){a.Statistics.setUrl(p)}d("#"+q).loadDiv(p,d(this).attr("data-size"))}return false})}function l(){d("body > .tooltip").remove();d("[rel=tooltip].atLeft").tooltip({animation:true,placement:"left"});d("[rel=tooltip].atRight").tooltip({animation:true,placement:"right"});d("[rel=tooltip]:not(.atLeft):not(.atRight)").tooltip({animation:true});return this}function g(){d(".toggle").unbind("click").click(function(p){p.preventDefault();d("#"+d(this).attr("rel")).animate({opacity:"toggle"})})}function b(){d(".toolbar-opener").unbind("click").click(function(){d(this).parent().parent().toggleClass("open")})}function f(){d("a.change").each(function(){if(d("a.change[target="+d(this).attr("target")+"].triggered").length==0){d("a.change[target="+d(this).attr("target")+"]:first").addClass("triggered").parent().addClass("triggered")}else{d("a.change[target="+d(this).attr("target")+"].triggered").parent().addClass("triggered")}});d("a.change").unbind("click").click(function(s){s.preventDefault();d("a.change[target="+d(this).attr("target")+"]").removeClass("triggered").parent().removeClass("triggered");d(this).addClass("triggered").parent().addClass("triggered");var r="#"+d(this).attr("target");var p=d(r);if(r==d(this).attr("href")){$newDiv=d("#"+d(this).attr("href").split("#").pop()+" .change")}else{$newDiv=d("#"+d(this).attr("href").split("#").pop())}$oldDiv=d(r+" > .change:visible, "+r+" > .panel-content > .change:visible, "+r+" > .statistics-container > .change:visible").not($newDiv);p.addClass("loading");var q=function(){$newDiv.fadeTo(a.Options.fadeSpeed(),1,function(){p.hide().removeClass(a.Options.loadingClass()).fadeIn();a.createFlot();RunalyzePlot.resizeAll()})};if($oldDiv.length){$oldDiv.fadeOut(a.Options.fadeSpeed(),q)}else{q()}return false})}function m(){d("#calendar-link").unbind("click").bind("click",function(){var p=d("#data-browser-calendar");p.toggle();if(p.is(":visible")){h()}})}function h(){var p=d("#widget-calendar");if(p.text().trim().length>0){return this}p.DatePicker({flat:true,format:"d B Y",date:[new Date(parseInt(d("#calendar-start").val())),new Date(parseInt(d("#calendar-end").val()))],locale:JSON.parse(d("#calendar-locale").val()),calendars:3,mode:"range",starts:1});d("#calendar-submit").unbind("click").bind("click",function(){var r=p.DatePickerGetDate(),s=Math.round(r[0].getTime()/1000),q=Math.round(r[1].getTime()/1000);d("#data-browser-inner").loadDiv("call/call.DataBrowser.display.php?start="+s+"&end="+q)});return this}function j(){k();e()}function k(){var q={".chosen-select-create":{width:"auto",create_option:true,skip_no_results:true,create_option_text:"Add a tag"},".chosen-select":{width:"auto",no_results_text:"No results match"}};for(var p in q){d(p).chosen(q[p])}d(".chosen-select-all").unbind("click").bind("click",function(){var r=d(this).data("target");d("#"+r+" option").prop("selected",true);d("#"+r).trigger("chosen:updated")});d(".chosen-select-none").unbind("click").bind("click",function(){var r=d(this).data("target");d("#"+r+" option").prop("selected",false);d("#"+r).trigger("chosen:updated")});d(".fip-select").fontIconPicker({emptyIcon:false,hasSearch:false});d(".pick-a-date:not(.has-a-datepicker)").each(function(){var r=d(this);r.addClass("has-a-datepicker");r.DatePicker({format:"d.m.Y",date:r.val(),current:r.val(),calendars:1,starts:1,position:"bottom",mode:"single",locale:JSON.parse(d("#calendar-locale").val()),onBeforeShow:function(){if(r.val().trim()!=""){r.DatePickerSetDate(r.val(),true)}},onChange:function(t,s){r.val(t);r.trigger("change");r.DatePickerHide()}})})}function e(){d("#ajax form.ajax").unbind("submit").submit(function(u){u.preventDefault();if(d(this).children(":submit").hasClass("debug")){window.alert(d(this).serialize());return false}d("body > .datepicker").remove();var t=d(this).attr("id");var q=d(this).hasClass("no-automatic-reload");var s=d(this).serializeArray();var p=d(this).attr("action");var r=d("#ajax");s.push({name:"submit",value:"submit"});if(t=="search"&&d("form.ajax input[name=send_to_multiEditor]:checked").length==0){d("#searchResult").loadDiv(p+"?pager=true",s);return false}if(d("#ajax #pluginTool").length){r=d("#pluginTool")}r.loadDiv(p,s,{success:function(){d("#submit-info").fadeIn().delay(4000).fadeOut();if(t!="search"&&t!="tcxUpload"&&!q){a.reloadContent()}}});return false})}n.init=function(){c();l();g();b();f();m();j()};n.initToggle=function(){g()};a.addLoadHook("init-feature",n.init);return n})(jQuery,Runalyze);(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var d=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function b(l){var g,j,e;var k,h,f;e=l.length;j=0;g="";while(j<e){k=l.charCodeAt(j++)&255;if(j==e){g+=a.charAt(k>>2);g+=a.charAt((k&3)<<4);g+="==";break}h=l.charCodeAt(j++);if(j==e){g+=a.charAt(k>>2);g+=a.charAt(((k&3)<<4)|((h&240)>>4));g+=a.charAt((h&15)<<2);g+="=";break}f=l.charCodeAt(j++);g+=a.charAt(k>>2);g+=a.charAt(((k&3)<<4)|((h&240)>>4));g+=a.charAt(((h&15)<<2)|((f&192)>>6));g+=a.charAt(f&63)}return g}function c(m){var l,k,h,f;var j,e,g;e=m.length;j=0;g="";while(j<e){do{l=d[m.charCodeAt(j++)&255]}while(j<e&&l==-1);if(l==-1){break}do{k=d[m.charCodeAt(j++)&255]}while(j<e&&k==-1);if(k==-1){break}g+=String.fromCharCode((l<<2)|((k&48)>>4));do{h=m.charCodeAt(j++)&255;if(h==61){return g}h=d[h]}while(j<e&&h==-1);if(h==-1){break}g+=String.fromCharCode(((k&15)<<4)|((h&60)>>2));do{f=m.charCodeAt(j++)&255;if(f==61){return g}f=d[f]}while(j<e&&f==-1);if(f==-1){break}g+=String.fromCharCode(((h&3)<<6)|f)}return g}if(!window.btoa){window.btoa=b}if(!window.atob){window.atob=c}})();(function(b){b.color={};b.color.make=function(f,e,c,d){var h={};h.r=f||0;h.g=e||0;h.b=c||0;h.a=d!=null?d:1;h.add=function(k,j){for(var g=0;g<k.length;++g){h[k.charAt(g)]+=j}return h.normalize()};h.scale=function(k,j){for(var g=0;g<k.length;++g){h[k.charAt(g)]*=j}return h.normalize()};h.toString=function(){if(h.a>=1){return"rgb("+[h.r,h.g,h.b].join(",")+")"}else{return"rgba("+[h.r,h.g,h.b,h.a].join(",")+")"}};h.normalize=function(){function g(k,l,j){return l<k?k:l>j?j:l}h.r=g(0,parseInt(h.r),255);h.g=g(0,parseInt(h.g),255);h.b=g(0,parseInt(h.b),255);h.a=g(0,h.a,1);return h};h.clone=function(){return b.color.make(h.r,h.b,h.g,h.a)};return h.normalize()};b.color.extract=function(e,d){var f;do{f=e.css(d).toLowerCase();if(f!=""&&f!="transparent"){break}e=e.parent()}while(e.length&&!b.nodeName(e.get(0),"body"));if(f=="rgba(0, 0, 0, 0)"){f="transparent"}return b.color.parse(f)};b.color.parse=function(f){var e,c=b.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10))}if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]))}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55)}if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55,parseFloat(e[4]))}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return c(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16))}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return c(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16))}var d=b.trim(f).toLowerCase();if(d=="transparent"){return c(255,255,255,0)}else{e=a[d]||[0,0,0];return c(e[0],e[1],e[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){var d=Object.prototype.hasOwnProperty;if(!e.fn.detach){e.fn.detach=function(){return this.each(function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}function a(h,g){var k=g.children("."+h)[0];if(k==null){k=document.createElement("canvas");k.className=h;e(k).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(g);if(!k.getContext){if(window.G_vmlCanvasManager){k=window.G_vmlCanvasManager.initElement(k)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=k;var j=this.context=k.getContext("2d");var f=window.devicePixelRatio||1,l=j.webkitBackingStorePixelRatio||j.mozBackingStorePixelRatio||j.msBackingStorePixelRatio||j.oBackingStorePixelRatio||j.backingStorePixelRatio||1;this.pixelRatio=f/l;this.resize(g.width(),g.height());this.textContainer=null;this.text={};this._textCache={}}a.prototype.resize=function(j,f){if(j<=0||f<=0){throw new Error("Invalid dimensions for plot, width = "+j+", height = "+f)}var h=this.element,g=this.context,k=this.pixelRatio;if(this.width!=j){h.width=j*k;h.style.width=j+"px";this.width=j}if(this.height!=f){h.height=f*k;h.style.height=f+"px";this.height=f}g.restore();g.save();g.scale(k,k)};a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};a.prototype.render=function(){var f=this._textCache;for(var o in f){if(d.call(f,o)){var n=this.getTextLayer(o),g=f[o];n.hide();for(var m in g){if(d.call(g,m)){var h=g[m];for(var p in h){if(d.call(h,p)){var k=h[p].positions;for(var j=0,l;l=k[j];j++){if(l.active){if(!l.rendered){n.append(l.element);l.rendered=true}}else{k.splice(j--,1);if(l.rendered){l.element.detach()}}}if(k.length==0){delete h[p]}}}}}n.show()}}};a.prototype.getTextLayer=function(g){var f=this.text[g];if(f==null){if(this.textContainer==null){this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}f=this.text[g]=e("<div></div>").addClass(g).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return f};a.prototype.getTextInfo=function(n,p,k,l,g){var o,f,j,h;p=""+p;if(typeof k==="object"){o=k.style+" "+k.variant+" "+k.weight+" "+k.size+"px/"+k.lineHeight+"px "+k.family}else{o=k}f=this._textCache[n];if(f==null){f=this._textCache[n]={}}j=f[o];if(j==null){j=f[o]={}}h=j[p];if(h==null){var m=e("<div></div>").html(p).css({position:"absolute","max-width":g,top:-9999}).appendTo(this.getTextLayer(n));if(typeof k==="object"){m.css({font:o,color:k.color})}else{if(typeof k==="string"){m.addClass(k)}}h=j[p]={width:m.outerWidth(true),height:m.outerHeight(true),element:m,positions:[]};m.detach()}return h};a.prototype.addText=function(o,r,p,s,h,j,f,n,q){var g=this.getTextInfo(o,s,h,j,f),l=g.positions;if(n=="center"){r-=g.width/2}else{if(n=="right"){r-=g.width}}if(q=="middle"){p-=g.height/2}else{if(q=="bottom"){p-=g.height}}for(var k=0,m;m=l[k];k++){if(m.x==r&&m.y==p){m.active=true;return}}m={active:true,rendered:false,element:l.length?g.element.clone():g.element,x:r,y:p};l.push(m);m.element.css({top:Math.round(p),left:Math.round(r),"text-align":n})};a.prototype.removeText=function(o,q,p,s,h,j){if(s==null){var f=this._textCache[o];if(f!=null){for(var n in f){if(d.call(f,n)){var g=f[n];for(var r in g){if(d.call(g,r)){var l=g[r].positions;for(var k=0,m;m=l[k];k++){m.active=false}}}}}}}else{var l=this.getTextInfo(o,s,h,j).positions;for(var k=0,m;m=l[k];k++){if(m.x==q&&m.y==p){m.active=false}}}};function c(S,B,D,g){var u=[],N={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},ae=null,an=null,ao=null,E=null,ay=null,aq=[],Y=[],K={left:0,right:0,top:0,bottom:0},l=0,af=0,q={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},h=this;h.setData=M;h.setupGrid=Q;h.draw=aw;h.getPlaceholder=function(){return S};h.getCanvas=function(){return ae.element};h.getPlotOffset=function(){return K};h.width=function(){return l};h.height=function(){return af};h.offset=function(){var aA=ao.offset();aA.left+=K.left;aA.top+=K.top;return aA};h.getData=function(){return u};h.getAxes=function(){var aB={},aA;e.each(aq.concat(Y),function(aC,aD){if(aD){aB[aD.direction+(aD.n!=1?aD.n:"")+"axis"]=aD}});return aB};h.getXAxes=function(){return aq};h.getYAxes=function(){return Y};h.c2p=aa;h.p2c=T;h.getOptions=function(){return N};h.highlight=ap;h.unhighlight=aj;h.triggerRedrawOverlay=Z;h.pointOffset=function(aA){return{left:parseInt(aq[y(aA,"x")-1].p2c(+aA.x)+K.left,10),top:parseInt(Y[y(aA,"y")-1].p2c(+aA.y)+K.top,10)}};h.shutdown=p;h.destroy=function(){p();S.removeData("plot").empty();u=[];N=null;ae=null;an=null;ao=null;E=null;ay=null;aq=[];Y=[];q=null;ai=[];h=null};h.resize=function(){var aB=S.width(),aA=S.height();ae.resize(aB,aA);an.resize(aB,aA)};h.hooks=q;I(h);ac(D);az();M(B);Q();aw();au();function G(aC,aA){aA=[h].concat(aA);for(var aB=0;aB<aC.length;++aB){aC[aB].apply(this,aA)}}function I(){var aB={Canvas:a};for(var aA=0;aA<g.length;++aA){var aC=g[aA];aC.init(h,aB);if(aC.options){e.extend(true,N,aC.options)}}}function ac(aC){e.extend(true,N,aC);if(aC&&aC.colors){N.colors=aC.colors}if(N.xaxis.color==null){N.xaxis.color=e.color.parse(N.grid.color).scale("a",0.22).toString()}if(N.yaxis.color==null){N.yaxis.color=e.color.parse(N.grid.color).scale("a",0.22).toString()}if(N.xaxis.tickColor==null){N.xaxis.tickColor=N.grid.tickColor||N.xaxis.color}if(N.yaxis.tickColor==null){N.yaxis.tickColor=N.grid.tickColor||N.yaxis.color}if(N.grid.borderColor==null){N.grid.borderColor=N.grid.color}if(N.grid.tickColor==null){N.grid.tickColor=e.color.parse(N.grid.color).scale("a",0.22).toString()}var aA,aH,aF,aE=S.css("font-size"),aD=aE?+aE.replace("px",""):13,aB={style:S.css("font-style"),size:Math.round(0.8*aD),variant:S.css("font-variant"),weight:S.css("font-weight"),family:S.css("font-family")};aF=N.xaxes.length||1;for(aA=0;aA<aF;++aA){aH=N.xaxes[aA];if(aH&&!aH.tickColor){aH.tickColor=aH.color}aH=e.extend(true,{},N.xaxis,aH);N.xaxes[aA]=aH;if(aH.font){aH.font=e.extend({},aB,aH.font);if(!aH.font.color){aH.font.color=aH.color}if(!aH.font.lineHeight){aH.font.lineHeight=Math.round(aH.font.size*1.15)}}}aF=N.yaxes.length||1;for(aA=0;aA<aF;++aA){aH=N.yaxes[aA];if(aH&&!aH.tickColor){aH.tickColor=aH.color}aH=e.extend(true,{},N.yaxis,aH);N.yaxes[aA]=aH;if(aH.font){aH.font=e.extend({},aB,aH.font);if(!aH.font.color){aH.font.color=aH.color}if(!aH.font.lineHeight){aH.font.lineHeight=Math.round(aH.font.size*1.15)}}}if(N.xaxis.noTicks&&N.xaxis.ticks==null){N.xaxis.ticks=N.xaxis.noTicks}if(N.yaxis.noTicks&&N.yaxis.ticks==null){N.yaxis.ticks=N.yaxis.noTicks}if(N.x2axis){N.xaxes[1]=e.extend(true,{},N.xaxis,N.x2axis);N.xaxes[1].position="top";if(N.x2axis.min==null){N.xaxes[1].min=null}if(N.x2axis.max==null){N.xaxes[1].max=null}}if(N.y2axis){N.yaxes[1]=e.extend(true,{},N.yaxis,N.y2axis);N.yaxes[1].position="right";if(N.y2axis.min==null){N.yaxes[1].min=null}if(N.y2axis.max==null){N.yaxes[1].max=null}}if(N.grid.coloredAreas){N.grid.markings=N.grid.coloredAreas}if(N.grid.coloredAreasColor){N.grid.markingsColor=N.grid.coloredAreasColor}if(N.lines){e.extend(true,N.series.lines,N.lines)}if(N.points){e.extend(true,N.series.points,N.points)}if(N.bars){e.extend(true,N.series.bars,N.bars)}if(N.shadowSize!=null){N.series.shadowSize=N.shadowSize}if(N.highlightColor!=null){N.series.highlightColor=N.highlightColor}for(aA=0;aA<N.xaxes.length;++aA){O(aq,aA+1).options=N.xaxes[aA]}for(aA=0;aA<N.yaxes.length;++aA){O(Y,aA+1).options=N.yaxes[aA]}for(var aG in q){if(N.hooks[aG]&&N.hooks[aG].length){q[aG]=q[aG].concat(N.hooks[aG])}}G(q.processOptions,[N])}function M(aA){u=r(aA);z();U()}function r(aD){var aB=[];for(var aA=0;aA<aD.length;++aA){var aC=e.extend(true,{},N.series);if(aD[aA].data!=null){aC.data=aD[aA].data;delete aD[aA].data;e.extend(true,aC,aD[aA]);aD[aA].data=aC.data}else{aC.data=aD[aA]}aB.push(aC)}return aB}function y(aB,aC){var aA=aB[aC+"axis"];if(typeof aA=="object"){aA=aA.n}if(typeof aA!="number"){aA=1}return aA}function k(){return e.grep(aq.concat(Y),function(aA){return aA})}function aa(aD){var aB={},aA,aC;for(aA=0;aA<aq.length;++aA){aC=aq[aA];if(aC&&aC.used){aB["x"+aC.n]=aC.c2p(aD.left)}}for(aA=0;aA<Y.length;++aA){aC=Y[aA];if(aC&&aC.used){aB["y"+aC.n]=aC.c2p(aD.top)}}if(aB.x1!==undefined){aB.x=aB.x1}if(aB.y1!==undefined){aB.y=aB.y1}return aB}function T(aE){var aC={},aB,aD,aA;for(aB=0;aB<aq.length;++aB){aD=aq[aB];if(aD&&aD.used){aA="x"+aD.n;if(aE[aA]==null&&aD.n==1){aA="x"}if(aE[aA]!=null){aC.left=aD.p2c(aE[aA]);break}}}for(aB=0;aB<Y.length;++aB){aD=Y[aB];if(aD&&aD.used){aA="y"+aD.n;if(aE[aA]==null&&aD.n==1){aA="y"}if(aE[aA]!=null){aC.top=aD.p2c(aE[aA]);break}}}return aC}function O(aB,aA){if(!aB[aA-1]){aB[aA-1]={n:aA,direction:aB==aq?"x":"y",options:e.extend(true,{},aB==aq?N.xaxis:N.yaxis)}}return aB[aA-1]}function z(){var aL=u.length,aC=-1,aD;for(aD=0;aD<u.length;++aD){var aI=u[aD].color;if(aI!=null){aL--;if(typeof aI=="number"&&aI>aC){aC=aI}}}if(aL<=aC){aL=aC+1}var aH,aA=[],aG=N.colors,aF=aG.length,aB=0;for(aD=0;aD<aL;aD++){aH=e.color.parse(aG[aD%aF]||"#666");if(aD%aF==0&&aD){if(aB>=0){if(aB<0.5){aB=-aB-0.2}else{aB=0}}else{aB=-aB}}aA[aD]=aH.scale("rgb",1+aB)}var aE=0,aM;for(aD=0;aD<u.length;++aD){aM=u[aD];if(aM.color==null){aM.color=aA[aE].toString();++aE}else{if(typeof aM.color=="number"){aM.color=aA[aM.color].toString()}}if(aM.lines.show==null){var aK,aJ=true;for(aK in aM){if(aM[aK]&&aM[aK].show){aJ=false;break}}if(aJ){aM.lines.show=true}}if(aM.lines.zero==null){aM.lines.zero=!!aM.lines.fill}aM.xaxis=O(aq,y(aM,"x"));aM.yaxis=O(Y,y(aM,"y"))}}function U(){var aO=Number.POSITIVE_INFINITY,aI=Number.NEGATIVE_INFINITY,aA=Number.MAX_VALUE,aV,aT,aS,aN,aC,aJ,aU,aP,aH,aG,aB,a1,aY,aL,a0,aX;function aE(a4,a3,a2){if(a3<a4.datamin&&a3!=-aA){a4.datamin=a3}if(a2>a4.datamax&&a2!=aA){a4.datamax=a2}}e.each(k(),function(a2,a3){a3.datamin=aO;a3.datamax=aI;a3.used=false});for(aV=0;aV<u.length;++aV){aJ=u[aV];aJ.datapoints={points:[]};G(q.processRawData,[aJ,aJ.data,aJ.datapoints])}for(aV=0;aV<u.length;++aV){aJ=u[aV];a0=aJ.data;aX=aJ.datapoints.format;if(!aX){aX=[];aX.push({x:true,number:true,required:true});aX.push({y:true,number:true,required:true});if(aJ.bars.show||aJ.lines.show&&aJ.lines.fill){var aQ=!!(aJ.bars.show&&aJ.bars.zero||aJ.lines.show&&aJ.lines.zero);aX.push({y:true,number:true,required:false,defaultValue:0,autoscale:aQ});if(aJ.bars.horizontal){delete aX[aX.length-1].y;aX[aX.length-1].x=true}}aJ.datapoints.format=aX}if(aJ.datapoints.pointsize!=null){continue}aJ.datapoints.pointsize=aX.length;aP=aJ.datapoints.pointsize;aU=aJ.datapoints.points;var aF=aJ.lines.show&&aJ.lines.steps;aJ.xaxis.used=aJ.yaxis.used=true;for(aT=aS=0;aT<a0.length;++aT,aS+=aP){aL=a0[aT];var aD=aL==null;if(!aD){for(aN=0;aN<aP;++aN){a1=aL[aN];aY=aX[aN];if(aY){if(aY.number&&a1!=null){a1=+a1;if(isNaN(a1)){a1=null}else{if(a1==Infinity){a1=aA}else{if(a1==-Infinity){a1=-aA}}}}if(a1==null){if(aY.required){aD=true}if(aY.defaultValue!=null){a1=aY.defaultValue}}}aU[aS+aN]=a1}}if(aD){for(aN=0;aN<aP;++aN){a1=aU[aS+aN];if(a1!=null){aY=aX[aN];if(aY.autoscale!==false){if(aY.x){aE(aJ.xaxis,a1,a1)}if(aY.y){aE(aJ.yaxis,a1,a1)}}}aU[aS+aN]=null}}else{if(aF&&aS>0&&aU[aS-aP]!=null&&aU[aS-aP]!=aU[aS]&&aU[aS-aP+1]!=aU[aS+1]){for(aN=0;aN<aP;++aN){aU[aS+aP+aN]=aU[aS+aN]}aU[aS+1]=aU[aS-aP+1];aS+=aP}}}}for(aV=0;aV<u.length;++aV){aJ=u[aV];G(q.processDatapoints,[aJ,aJ.datapoints])}for(aV=0;aV<u.length;++aV){aJ=u[aV];aU=aJ.datapoints.points;aP=aJ.datapoints.pointsize;aX=aJ.datapoints.format;var aK=aO,aR=aO,aM=aI,aW=aI;for(aT=0;aT<aU.length;aT+=aP){if(aU[aT]==null){continue}for(aN=0;aN<aP;++aN){a1=aU[aT+aN];aY=aX[aN];if(!aY||aY.autoscale===false||a1==aA||a1==-aA){continue}if(aY.x){if(a1<aK){aK=a1}if(a1>aM){aM=a1}}if(aY.y){if(a1<aR){aR=a1}if(a1>aW){aW=a1}}}}if(aJ.bars.show){var aZ;switch(aJ.bars.align){case"left":aZ=0;break;case"right":aZ=-aJ.bars.barWidth;break;default:aZ=-aJ.bars.barWidth/2}if(aJ.bars.horizontal){aR+=aZ;aW+=aZ+aJ.bars.barWidth}else{aK+=aZ;aM+=aZ+aJ.bars.barWidth}}aE(aJ.xaxis,aK,aM);aE(aJ.yaxis,aR,aW)}e.each(k(),function(a2,a3){if(a3.datamin==aO){a3.datamin=null}if(a3.datamax==aI){a3.datamax=null}})}function az(){S.css("padding",0).children().filter(function(){return !e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove();if(S.css("position")=="static"){S.css("position","relative")}ae=new a("flot-base",S);an=new a("flot-overlay",S);E=ae.context;ay=an.context;ao=e(an.element).unbind();var aA=S.data("plot");if(aA){aA.shutdown();an.clear()}S.data("plot",h)}function au(){if(N.grid.hoverable){ao.mousemove(f);ao.bind("mouseleave",R)}if(N.grid.clickable){ao.click(J)}G(q.bindEvents,[ao])}function p(){if(m){clearTimeout(m)}ao.unbind("mousemove",f);ao.unbind("mouseleave",R);ao.unbind("click",J);G(q.shutdown,[ao])}function o(aF){function aB(aG){return aG}var aE,aA,aC=aF.options.transform||aB,aD=aF.options.inverseTransform;if(aF.direction=="x"){aE=aF.scale=l/Math.abs(aC(aF.max)-aC(aF.min));aA=Math.min(aC(aF.max),aC(aF.min))}else{aE=aF.scale=af/Math.abs(aC(aF.max)-aC(aF.min));aE=-aE;aA=Math.max(aC(aF.max),aC(aF.min))}if(aC==aB){aF.p2c=function(aG){return(aG-aA)*aE}}else{aF.p2c=function(aG){return(aC(aG)-aA)*aE}}if(!aD){aF.c2p=function(aG){return aA+aG/aE}}else{aF.c2p=function(aG){return aD(aA+aG/aE)}}}function ab(aD){var aA=aD.options,aJ=aD.ticks||[],aI=aA.labelWidth||0,aE=aA.labelHeight||0,aK=aI||(aD.direction=="x"?Math.floor(ae.width/(aJ.length||1)):null),aG=aD.direction+"Axis "+aD.direction+aD.n+"Axis",aH="flot-"+aD.direction+"-axis flot-"+aD.direction+aD.n+"-axis "+aG,aC=aA.font||"flot-tick-label tickLabel";for(var aF=0;aF<aJ.length;++aF){var aL=aJ[aF];if(!aL.label){continue}var aB=ae.getTextInfo(aH,aL.label,aC,null,aK);aI=Math.max(aI,aB.width);aE=Math.max(aE,aB.height)}aD.labelWidth=aA.labelWidth||aI;aD.labelHeight=aA.labelHeight||aE}function F(aC){var aB=aC.labelWidth,aJ=aC.labelHeight,aH=aC.options.position,aA=aC.direction==="x",aF=aC.options.tickLength,aG=N.grid.axisMargin,aI=N.grid.labelMargin,aL=true,aE=true,aD=true,aK=false;e.each(aA?aq:Y,function(aN,aM){if(aM&&(aM.show||aM.reserveSpace)){if(aM===aC){aK=true}else{if(aM.options.position===aH){if(aK){aE=false}else{aL=false}}}if(!aK){aD=false}}});if(aE){aG=0}if(aF==null){aF=aD?"full":5}if(!isNaN(+aF)){aI+=+aF}if(aA){aJ+=aI;if(aH=="bottom"){K.bottom+=aJ+aG;aC.box={top:ae.height-K.bottom,height:aJ}}else{aC.box={top:K.top+aG,height:aJ};K.top+=aJ+aG}}else{aB+=aI;if(aH=="left"){aC.box={left:K.left+aG,width:aB};K.left+=aB+aG}else{K.right+=aB+aG;aC.box={left:ae.width-K.right,width:aB}}}aC.position=aH;aC.tickLength=aF;aC.box.padding=aI;aC.innermost=aL}function ad(aA){if(aA.direction=="x"){aA.box.left=K.left-aA.labelWidth/2;aA.box.width=ae.width-K.left-K.right+aA.labelWidth}else{aA.box.top=K.top-aA.labelHeight/2;aA.box.height=ae.height-K.bottom-K.top+aA.labelHeight}}function C(){var aC=N.grid.minBorderMargin,aB,aA;if(aC==null){aC=0;for(aA=0;aA<u.length;++aA){aC=Math.max(aC,2*(u[aA].points.radius+u[aA].points.lineWidth/2))}}var aD={left:aC,right:aC,top:aC,bottom:aC};e.each(k(),function(aE,aF){if(aF.reserveSpace&&aF.ticks&&aF.ticks.length){if(aF.direction==="x"){aD.left=Math.max(aD.left,aF.labelWidth/2);aD.right=Math.max(aD.right,aF.labelWidth/2)}else{aD.bottom=Math.max(aD.bottom,aF.labelHeight/2);aD.top=Math.max(aD.top,aF.labelHeight/2)}}});K.left=Math.ceil(Math.max(aD.left,K.left));K.right=Math.ceil(Math.max(aD.right,K.right));K.top=Math.ceil(Math.max(aD.top,K.top));K.bottom=Math.ceil(Math.max(aD.bottom,K.bottom))}function Q(){var aC,aE=k(),aF=N.grid.show;for(var aB in K){var aD=N.grid.margin||0;K[aB]=typeof aD=="number"?aD:aD[aB]||0}G(q.processOffset,[K]);for(var aB in K){if(typeof N.grid.borderWidth=="object"){K[aB]+=aF?N.grid.borderWidth[aB]:0}else{K[aB]+=aF?N.grid.borderWidth:0}}e.each(aE,function(aH,aI){var aG=aI.options;aI.show=aG.show==null?aI.used:aG.show;aI.reserveSpace=aG.reserveSpace==null?aI.show:aG.reserveSpace;n(aI)});if(aF){var aA=e.grep(aE,function(aG){return aG.show||aG.reserveSpace});e.each(aA,function(aG,aH){at(aH);X(aH);v(aH,aH.ticks);ab(aH)});for(aC=aA.length-1;aC>=0;--aC){F(aA[aC])}C();e.each(aA,function(aG,aH){ad(aH)})}l=ae.width-K.left-K.right;af=ae.height-K.bottom-K.top;e.each(aE,function(aG,aH){o(aH)});if(aF){av()}ax()}function n(aD){var aE=aD.options,aC=+(aE.min!=null?aE.min:aD.datamin),aA=+(aE.max!=null?aE.max:aD.datamax),aG=aA-aC;if(aG==0){var aB=aA==0?1:0.01;if(aE.min==null){aC-=aB}if(aE.max==null||aE.min!=null){aA+=aB}}else{var aF=aE.autoscaleMargin;if(aF!=null){if(aE.min==null){aC-=aG*aF;if(aC<0&&aD.datamin!=null&&aD.datamin>=0){aC=0}}if(aE.max==null){aA+=aG*aF;if(aA>0&&aD.datamax!=null&&aD.datamax<=0){aA=0}}}}aD.min=aC;aD.max=aA}function at(aF){var aB=aF.options;var aE;if(typeof aB.ticks=="number"&&aB.ticks>0){aE=aB.ticks}else{aE=0.3*Math.sqrt(aF.direction=="x"?ae.width:ae.height)}var aK=(aF.max-aF.min)/aE,aG=-Math.floor(Math.log(aK)/Math.LN10),aD=aB.tickDecimals;if(aD!=null&&aG>aD){aG=aD}var aA=Math.pow(10,-aG),aC=aK/aA,aM;if(aC<1.5){aM=1}else{if(aC<3){aM=2;if(aC>2.25&&(aD==null||aG+1<=aD)){aM=2.5;++aG}}else{if(aC<7.5){aM=5}else{aM=10}}}aM*=aA;if(aB.minTickSize!=null&&aM<aB.minTickSize){aM=aB.minTickSize}aF.delta=aK;aF.tickDecimals=Math.max(0,aD!=null?aD:aG);aF.tickSize=aB.tickSize||aM;if(aB.mode=="time"&&!aF.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aF.tickGenerator){aF.tickGenerator=function(aP){var aR=[],aS=b(aP.min,aP.tickSize),aO=0,aN=Number.NaN,aQ;do{aQ=aN;aN=aS+aO*aP.tickSize;aR.push(aN);++aO}while(aN<aP.max&&aN!=aQ);return aR};aF.tickFormatter=function(aS,aQ){var aP=aQ.tickDecimals?Math.pow(10,aQ.tickDecimals):1;var aR=""+Math.round(aS*aP)/aP;if(aQ.tickDecimals!=null){var aO=aR.indexOf(".");var aN=aO==-1?0:aR.length-aO-1;if(aN<aQ.tickDecimals){return(aN?aR:aR+".")+(""+aP).substr(1,aQ.tickDecimals-aN)}}return aR}}if(e.isFunction(aB.tickFormatter)){aF.tickFormatter=function(aN,aO){return""+aB.tickFormatter(aN,aO)}}if(aB.alignTicksWithAxis!=null){var aH=(aF.direction=="x"?aq:Y)[aB.alignTicksWithAxis-1];if(aH&&aH.used&&aH!=aF){var aL=aF.tickGenerator(aF);if(aL.length>0){if(aB.min==null){aF.min=Math.min(aF.min,aL[0])}if(aB.max==null&&aL.length>1){aF.max=Math.max(aF.max,aL[aL.length-1])}}aF.tickGenerator=function(aP){var aQ=[],aN,aO;for(aO=0;aO<aH.ticks.length;++aO){aN=(aH.ticks[aO].v-aH.min)/(aH.max-aH.min);aN=aP.min+aN*(aP.max-aP.min);aQ.push(aN)}return aQ};if(!aF.mode&&aB.tickDecimals==null){var aJ=Math.max(0,-Math.floor(Math.log(aF.delta)/Math.LN10)+1),aI=aF.tickGenerator(aF);if(!(aI.length>1&&/\..*0$/.test((aI[1]-aI[0]).toFixed(aJ)))){aF.tickDecimals=aJ}}}}}function X(aE){var aG=aE.options.ticks,aF=[];if(aG==null||typeof aG=="number"&&aG>0){aF=aE.tickGenerator(aE)}else{if(aG){if(e.isFunction(aG)){aF=aG(aE)}else{aF=aG}}}var aD,aA;aE.ticks=[];for(aD=0;aD<aF.length;++aD){var aB=null;var aC=aF[aD];if(typeof aC=="object"){aA=+aC[0];if(aC.length>1){aB=aC[1]}}else{aA=+aC}if(aB==null){aB=aE.tickFormatter(aA,aE)}if(!isNaN(aA)){aE.ticks.push({v:aA,label:aB})}}}function v(aA,aB){if(aA.options.autoscaleMargin&&aB.length>0){if(aA.options.min==null){aA.min=Math.min(aA.min,aB[0].v)}if(aA.options.max==null&&aB.length>1){aA.max=Math.max(aA.max,aB[aB.length-1].v)}}}function aw(){ae.clear();G(q.drawBackground,[E]);var aB=N.grid;if(aB.show&&aB.backgroundColor){s()}if(aB.show&&!aB.aboveData){x()}for(var aA=0;aA<u.length;++aA){G(q.drawSeries,[E,u[aA]]);al(u[aA])}G(q.draw,[E]);if(aB.show&&aB.aboveData){x()}ae.render();Z()}function t(aA,aE){var aB,aG,aH,aI,aF=k();for(var aD=0;aD<aF.length;++aD){aB=aF[aD];if(aB.direction==aE){aI=aE+aB.n+"axis";if(!aA[aI]&&aB.n==1){aI=aE+"axis"}if(aA[aI]){aG=aA[aI].from;aH=aA[aI].to;break}}}if(!aA[aI]){aB=aE=="x"?aq[0]:Y[0];aG=aA[aE+"1"];aH=aA[aE+"2"]}if(aG!=null&&aH!=null&&aG>aH){var aC=aG;aG=aH;aH=aC}return{from:aG,to:aH,axis:aB}}function s(){E.save();E.translate(K.left,K.top);E.fillStyle=w(N.grid.backgroundColor,af,0,"rgba(255, 255, 255, 0)");E.fillRect(0,0,l,af);E.restore()}function x(){var aQ,aP,aT,aC;E.save();E.translate(K.left,K.top);var aD=N.grid.markings;if(aD){if(e.isFunction(aD)){aP=h.getAxes();aP.xmin=aP.xaxis.min;aP.xmax=aP.xaxis.max;aP.ymin=aP.yaxis.min;aP.ymax=aP.yaxis.max;aD=aD(aP)}for(aQ=0;aQ<aD.length;++aQ){var aN=aD[aQ],aE=t(aN,"x"),aI=t(aN,"y");if(aE.from==null){aE.from=aE.axis.min}if(aE.to==null){aE.to=aE.axis.max}if(aI.from==null){aI.from=aI.axis.min}if(aI.to==null){aI.to=aI.axis.max}if(aE.to<aE.axis.min||aE.from>aE.axis.max||aI.to<aI.axis.min||aI.from>aI.axis.max){continue}aE.from=Math.max(aE.from,aE.axis.min);aE.to=Math.min(aE.to,aE.axis.max);aI.from=Math.max(aI.from,aI.axis.min);aI.to=Math.min(aI.to,aI.axis.max);var aF=aE.from===aE.to,aL=aI.from===aI.to;if(aF&&aL){continue}aE.from=Math.floor(aE.axis.p2c(aE.from));aE.to=Math.floor(aE.axis.p2c(aE.to));aI.from=Math.floor(aI.axis.p2c(aI.from));aI.to=Math.floor(aI.axis.p2c(aI.to));if(aF||aL){var aA=aN.lineWidth||N.grid.markingsLineWidth,aR=aA%2?0.5:0;E.beginPath();E.strokeStyle=aN.color||N.grid.markingsColor;E.lineWidth=aA;if(aF){E.moveTo(aE.to+aR,aI.from);E.lineTo(aE.to+aR,aI.to)}else{E.moveTo(aE.from,aI.to+aR);E.lineTo(aE.to,aI.to+aR)}E.stroke()}else{E.fillStyle=aN.color||N.grid.markingsColor;E.fillRect(aE.from,aI.to,aE.to-aE.from,aI.from-aI.to)}}}aP=k();aT=N.grid.borderWidth;for(var aO=0;aO<aP.length;++aO){var aB=aP[aO],aJ=aB.box,aM=aB.tickLength,aH,aG,aS,aU;if(!aB.show||aB.ticks.length==0){continue}E.lineWidth=1;if(aB.direction=="x"){aH=0;if(aM=="full"){aG=aB.position=="top"?0:af}else{aG=aJ.top-K.top+(aB.position=="top"?aJ.height:0)}}else{aG=0;if(aM=="full"){aH=aB.position=="left"?0:l}else{aH=aJ.left-K.left+(aB.position=="left"?aJ.width:0)}}if(!aB.innermost){E.strokeStyle=aB.options.color;E.beginPath();aS=aU=0;if(aB.direction=="x"){aS=l+1}else{aU=af+1}if(E.lineWidth==1){if(aB.direction=="x"){aG=Math.floor(aG)+0.5}else{aH=Math.floor(aH)+0.5}}E.moveTo(aH,aG);E.lineTo(aH+aS,aG+aU);E.stroke()}E.strokeStyle=aB.options.tickColor;E.beginPath();for(aQ=0;aQ<aB.ticks.length;++aQ){var aK=aB.ticks[aQ].v;aS=aU=0;if(isNaN(aK)||aK<aB.min||aK>aB.max||aM=="full"&&(typeof aT=="object"&&aT[aB.position]>0||aT>0)&&(aK==aB.min||aK==aB.max)){continue}if(aB.direction=="x"){aH=aB.p2c(aK);aU=aM=="full"?-af:aM;if(aB.position=="top"){aU=-aU}}else{aG=aB.p2c(aK);aS=aM=="full"?-l:aM;if(aB.position=="left"){aS=-aS}}if(E.lineWidth==1){if(aB.direction=="x"){aH=Math.floor(aH)+0.5}else{aG=Math.floor(aG)+0.5}}E.moveTo(aH,aG);E.lineTo(aH+aS,aG+aU)}E.stroke()}if(aT){aC=N.grid.borderColor;if(typeof aT=="object"||typeof aC=="object"){if(typeof aT!=="object"){aT={top:aT,right:aT,bottom:aT,left:aT}}if(typeof aC!=="object"){aC={top:aC,right:aC,bottom:aC,left:aC}}if(aT.top>0){E.strokeStyle=aC.top;E.lineWidth=aT.top;E.beginPath();E.moveTo(0-aT.left,0-aT.top/2);E.lineTo(l,0-aT.top/2);E.stroke()}if(aT.right>0){E.strokeStyle=aC.right;E.lineWidth=aT.right;E.beginPath();E.moveTo(l+aT.right/2,0-aT.top);E.lineTo(l+aT.right/2,af);E.stroke()}if(aT.bottom>0){E.strokeStyle=aC.bottom;E.lineWidth=aT.bottom;E.beginPath();E.moveTo(l+aT.right,af+aT.bottom/2);E.lineTo(0,af+aT.bottom/2);E.stroke()}if(aT.left>0){E.strokeStyle=aC.left;E.lineWidth=aT.left;E.beginPath();E.moveTo(0-aT.left/2,af+aT.bottom);E.lineTo(0-aT.left/2,0);E.stroke()}}else{E.lineWidth=aT;E.strokeStyle=N.grid.borderColor;E.strokeRect(-aT/2,-aT/2,l+aT,af+aT)}}E.restore()}function av(){e.each(k(),function(aL,aB){var aE=aB.box,aD=aB.direction+"Axis "+aB.direction+aB.n+"Axis",aH="flot-"+aB.direction+"-axis flot-"+aB.direction+aB.n+"-axis "+aD,aA=aB.options.font||"flot-tick-label tickLabel",aF,aK,aI,aG,aJ;ae.removeText(aH);if(!aB.show||aB.ticks.length==0){return}for(var aC=0;aC<aB.ticks.length;++aC){aF=aB.ticks[aC];if(!aF.label||aF.v<aB.min||aF.v>aB.max){continue}if(aB.direction=="x"){aG="center";aK=K.left+aB.p2c(aF.v);if(aB.position=="bottom"){aI=aE.top+aE.padding}else{aI=aE.top+aE.height-aE.padding;aJ="bottom"}}else{aJ="middle";aI=K.top+aB.p2c(aF.v);if(aB.position=="left"){aK=aE.left+aE.width-aE.padding;aG="right"}else{aK=aE.left+aE.padding}}ae.addText(aH,aK,aI,aF.label,aA,null,null,aG,aJ)}})}function al(aA){if(aA.lines.show){H(aA)}if(aA.bars.show){V(aA)}if(aA.points.show){W(aA)}}function H(aD){function aC(aO,aP,aH,aT,aS){var aU=aO.points,aI=aO.pointsize,aM=null,aL=null;E.beginPath();for(var aN=aI;aN<aU.length;aN+=aI){var aK=aU[aN-aI],aR=aU[aN-aI+1],aJ=aU[aN],aQ=aU[aN+1];if(aK==null||aJ==null){continue}if(aR<=aQ&&aR<aS.min){if(aQ<aS.min){continue}aK=(aS.min-aR)/(aQ-aR)*(aJ-aK)+aK;aR=aS.min}else{if(aQ<=aR&&aQ<aS.min){if(aR<aS.min){continue}aJ=(aS.min-aR)/(aQ-aR)*(aJ-aK)+aK;aQ=aS.min}}if(aR>=aQ&&aR>aS.max){if(aQ>aS.max){continue}aK=(aS.max-aR)/(aQ-aR)*(aJ-aK)+aK;aR=aS.max}else{if(aQ>=aR&&aQ>aS.max){if(aR>aS.max){continue}aJ=(aS.max-aR)/(aQ-aR)*(aJ-aK)+aK;aQ=aS.max}}if(aK<=aJ&&aK<aT.min){if(aJ<aT.min){continue}aR=(aT.min-aK)/(aJ-aK)*(aQ-aR)+aR;aK=aT.min}else{if(aJ<=aK&&aJ<aT.min){if(aK<aT.min){continue}aQ=(aT.min-aK)/(aJ-aK)*(aQ-aR)+aR;aJ=aT.min}}if(aK>=aJ&&aK>aT.max){if(aJ>aT.max){continue}aR=(aT.max-aK)/(aJ-aK)*(aQ-aR)+aR;aK=aT.max}else{if(aJ>=aK&&aJ>aT.max){if(aK>aT.max){continue}aQ=(aT.max-aK)/(aJ-aK)*(aQ-aR)+aR;aJ=aT.max}}if(aK!=aM||aR!=aL){E.moveTo(aT.p2c(aK)+aP,aS.p2c(aR)+aH)}aM=aJ;aL=aQ;E.lineTo(aT.p2c(aJ)+aP,aS.p2c(aQ)+aH)}E.stroke()}function aE(aH,aP,aO){var aV=aH.points,aU=aH.pointsize,aM=Math.min(Math.max(0,aO.min),aO.max),aW=0,aT,aS=false,aL=1,aK=0,aQ=0;while(true){if(aU>0&&aW>aV.length+aU){break}aW+=aU;var aY=aV[aW-aU],aJ=aV[aW-aU+aL],aX=aV[aW],aI=aV[aW+aL];if(aS){if(aU>0&&aY!=null&&aX==null){aQ=aW;aU=-aU;aL=2;continue}if(aU<0&&aW==aK+aU){E.fill();aS=false;aU=-aU;aL=1;aW=aK=aQ+aU;continue}}if(aY==null||aX==null){continue}if(aY<=aX&&aY<aP.min){if(aX<aP.min){continue}aJ=(aP.min-aY)/(aX-aY)*(aI-aJ)+aJ;aY=aP.min}else{if(aX<=aY&&aX<aP.min){if(aY<aP.min){continue}aI=(aP.min-aY)/(aX-aY)*(aI-aJ)+aJ;aX=aP.min}}if(aY>=aX&&aY>aP.max){if(aX>aP.max){continue}aJ=(aP.max-aY)/(aX-aY)*(aI-aJ)+aJ;aY=aP.max}else{if(aX>=aY&&aX>aP.max){if(aY>aP.max){continue}aI=(aP.max-aY)/(aX-aY)*(aI-aJ)+aJ;aX=aP.max}}if(!aS){E.beginPath();E.moveTo(aP.p2c(aY),aO.p2c(aM));aS=true}if(aJ>=aO.max&&aI>=aO.max){E.lineTo(aP.p2c(aY),aO.p2c(aO.max));E.lineTo(aP.p2c(aX),aO.p2c(aO.max));continue}else{if(aJ<=aO.min&&aI<=aO.min){E.lineTo(aP.p2c(aY),aO.p2c(aO.min));E.lineTo(aP.p2c(aX),aO.p2c(aO.min));continue}}var aN=aY,aR=aX;if(aJ<=aI&&aJ<aO.min&&aI>=aO.min){aY=(aO.min-aJ)/(aI-aJ)*(aX-aY)+aY;aJ=aO.min}else{if(aI<=aJ&&aI<aO.min&&aJ>=aO.min){aX=(aO.min-aJ)/(aI-aJ)*(aX-aY)+aY;aI=aO.min}}if(aJ>=aI&&aJ>aO.max&&aI<=aO.max){aY=(aO.max-aJ)/(aI-aJ)*(aX-aY)+aY;aJ=aO.max}else{if(aI>=aJ&&aI>aO.max&&aJ<=aO.max){aX=(aO.max-aJ)/(aI-aJ)*(aX-aY)+aY;aI=aO.max}}if(aY!=aN){E.lineTo(aP.p2c(aN),aO.p2c(aJ))}E.lineTo(aP.p2c(aY),aO.p2c(aJ));E.lineTo(aP.p2c(aX),aO.p2c(aI));if(aX!=aR){E.lineTo(aP.p2c(aX),aO.p2c(aI));E.lineTo(aP.p2c(aR),aO.p2c(aI))}}}E.save();E.translate(K.left,K.top);E.lineJoin="round";var aF=aD.lines.lineWidth,aA=aD.shadowSize;if(aF>0&&aA>0){E.lineWidth=aA;E.strokeStyle="rgba(0,0,0,0.1)";var aG=Math.PI/18;aC(aD.datapoints,Math.sin(aG)*(aF/2+aA/2),Math.cos(aG)*(aF/2+aA/2),aD.xaxis,aD.yaxis);E.lineWidth=aA/2;aC(aD.datapoints,Math.sin(aG)*(aF/2+aA/4),Math.cos(aG)*(aF/2+aA/4),aD.xaxis,aD.yaxis)}E.lineWidth=aF;E.strokeStyle=aD.color;var aB=A(aD.lines,aD.color,0,af);if(aB){E.fillStyle=aB;aE(aD.datapoints,aD.xaxis,aD.yaxis)}if(aF>0){aC(aD.datapoints,0,0,aD.xaxis,aD.yaxis)}E.restore()}function W(aD){function aG(aM,aL,aT,aJ,aR,aS,aP,aI){var aQ=aM.points,aH=aM.pointsize;for(var aK=0;aK<aQ.length;aK+=aH){var aO=aQ[aK],aN=aQ[aK+1];if(aO==null||aO<aS.min||aO>aS.max||aN<aP.min||aN>aP.max){continue}E.beginPath();aO=aS.p2c(aO);aN=aP.p2c(aN)+aJ;if(aI=="circle"){E.arc(aO,aN,aL,0,aR?Math.PI:Math.PI*2,false)}else{aI(E,aO,aN,aL,aR)}E.closePath();if(aT){E.fillStyle=aT;E.fill()}E.stroke()}}E.save();E.translate(K.left,K.top);var aF=aD.points.lineWidth,aB=aD.shadowSize,aA=aD.points.radius,aE=aD.points.symbol;if(aF==0){aF=0.0001}if(aF>0&&aB>0){var aC=aB/2;E.lineWidth=aC;E.strokeStyle="rgba(0,0,0,0.1)";aG(aD.datapoints,aA,null,aC+aC/2,true,aD.xaxis,aD.yaxis,aE);E.strokeStyle="rgba(0,0,0,0.2)";aG(aD.datapoints,aA,null,aC/2,true,aD.xaxis,aD.yaxis,aE)}E.lineWidth=aF;E.strokeStyle=aD.color;aG(aD.datapoints,aA,A(aD.points,aD.color),0,false,aD.xaxis,aD.yaxis,aE);E.restore()}function am(aL,aK,aT,aG,aO,aC,aJ,aI,aS,aP,aB){var aD,aR,aH,aN,aE,aA,aM,aF,aQ;if(aP){aF=aA=aM=true;aE=false;aD=aT;aR=aL;aN=aK+aG;aH=aK+aO;if(aR<aD){aQ=aR;aR=aD;aD=aQ;aE=true;aA=false}}else{aE=aA=aM=true;aF=false;aD=aL+aG;aR=aL+aO;aH=aT;aN=aK;if(aN<aH){aQ=aN;aN=aH;aH=aQ;aF=true;aM=false}}if(aR<aJ.min||aD>aJ.max||aN<aI.min||aH>aI.max){return}if(aD<aJ.min){aD=aJ.min;aE=false}if(aR>aJ.max){aR=aJ.max;aA=false}if(aH<aI.min){aH=aI.min;aF=false}if(aN>aI.max){aN=aI.max;aM=false}aD=aJ.p2c(aD);aH=aI.p2c(aH);aR=aJ.p2c(aR);aN=aI.p2c(aN);if(aC){aS.fillStyle=aC(aH,aN);aS.fillRect(aD,aN,aR-aD,aH-aN)}if(aB>0&&(aE||aA||aM||aF)){aS.beginPath();aS.moveTo(aD,aH);if(aE){aS.lineTo(aD,aN)}else{aS.moveTo(aD,aN)}if(aM){aS.lineTo(aR,aN)}else{aS.moveTo(aR,aN)}if(aA){aS.lineTo(aR,aH)}else{aS.moveTo(aR,aH)}if(aF){aS.lineTo(aD,aH)}else{aS.moveTo(aD,aH)}aS.stroke()}}function V(aC){function aB(aH,aG,aJ,aI,aL,aK){var aM=aH.points,aE=aH.pointsize;for(var aF=0;aF<aM.length;aF+=aE){if(aM[aF]==null){continue}am(aM[aF],aM[aF+1],aM[aF+2],aG,aJ,aI,aL,aK,E,aC.bars.horizontal,aC.bars.lineWidth)}}E.save();E.translate(K.left,K.top);E.lineWidth=aC.bars.lineWidth;E.strokeStyle=aC.color;var aA;switch(aC.bars.align){case"left":aA=0;break;case"right":aA=-aC.bars.barWidth;break;default:aA=-aC.bars.barWidth/2}var aD=aC.bars.fill?function(aE,aF){return A(aC.bars,aC.color,aE,aF)}:null;aB(aC.datapoints,aA,aA+aC.bars.barWidth,aD,aC.xaxis,aC.yaxis);E.restore()}function A(aC,aA,aB,aE){var aD=aC.fill;if(!aD){return null}if(aC.fillColor){return w(aC.fillColor,aB,aE,aA)}var aF=e.color.parse(aA);aF.a=typeof aD=="number"?aD:0.4;aF.normalize();return aF.toString()}function ax(){if(N.legend.container!=null){e(N.legend.container).html("")}else{S.find(".legend").remove()}if(!N.legend.show){return}var aI=[],aF=[],aG=false,aP=N.legend.labelFormatter,aO,aK;for(var aE=0;aE<u.length;++aE){aO=u[aE];if(aO.label){aK=aP?aP(aO.label,aO):aO.label;if(aK){aF.push({label:aK,color:aO.color})}}}if(N.legend.sorted){if(e.isFunction(N.legend.sorted)){aF.sort(N.legend.sorted)}else{if(N.legend.sorted=="reverse"){aF.reverse()}else{var aD=N.legend.sorted!="descending";aF.sort(function(aR,aQ){return aR.label==aQ.label?0:aR.label<aQ.label!=aD?1:-1})}}}for(var aE=0;aE<aF.length;++aE){var aM=aF[aE];if(aE%N.legend.noColumns==0){if(aG){aI.push("</tr>")}aI.push("<tr>");aG=true}aI.push('<td class="legendColorBox"><div style="border:1px solid '+N.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aM.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aM.label+"</td>")}if(aG){aI.push("</tr>")}if(aI.length==0){return}var aN='<table style="font-size:smaller;color:'+N.grid.color+'">'+aI.join("")+"</table>";if(N.legend.container!=null){e(N.legend.container).html(aN)}else{var aJ="",aB=N.legend.position,aC=N.legend.margin;if(aC[0]==null){aC=[aC,aC]}if(aB.charAt(0)=="n"){aJ+="top:"+(aC[1]+K.top)+"px;"}else{if(aB.charAt(0)=="s"){aJ+="bottom:"+(aC[1]+K.bottom)+"px;"}}if(aB.charAt(1)=="e"){aJ+="right:"+(aC[0]+K.right)+"px;"}else{if(aB.charAt(1)=="w"){aJ+="left:"+(aC[0]+K.left)+"px;"}}var aL=e('<div class="legend">'+aN.replace('style="','style="position:absolute;'+aJ+";")+"</div>").appendTo(S);if(N.legend.backgroundOpacity!=0){var aH=N.legend.backgroundColor;if(aH==null){aH=N.grid.backgroundColor;if(aH&&typeof aH=="string"){aH=e.color.parse(aH)}else{aH=e.color.extract(aL,"background-color")}aH.a=1;aH=aH.toString()}var aA=aL.children();e('<div style="position:absolute;width:'+aA.width()+"px;height:"+aA.height()+"px;"+aJ+"background-color:"+aH+';"> </div>').prependTo(aL).css("opacity",N.legend.backgroundOpacity)}}}var ai=[],m=null;function ar(aH,aF,aC){var aN=N.grid.mouseActiveRadius,aZ=aN*aN+1,aX=null,aQ=false,aV,aT,aS;for(aV=u.length-1;aV>=0;--aV){if(!aC(u[aV])){continue}var aO=u[aV],aG=aO.xaxis,aE=aO.yaxis,aU=aO.datapoints.points,aP=aG.c2p(aH),aM=aE.c2p(aF),aB=aN/aG.scale,aA=aN/aE.scale;aS=aO.datapoints.pointsize;if(aG.options.inverseTransform){aB=Number.MAX_VALUE}if(aE.options.inverseTransform){aA=Number.MAX_VALUE}if(aO.lines.show||aO.points.show){for(aT=0;aT<aU.length;aT+=aS){var aJ=aU[aT],aI=aU[aT+1];if(aJ==null){continue}if(aJ-aP>aB||aJ-aP<-aB||aI-aM>aA||aI-aM<-aA){continue}var aL=Math.abs(aG.p2c(aJ)-aH),aK=Math.abs(aE.p2c(aI)-aF),aR=aL*aL+aK*aK;if(aR<aZ){aZ=aR;aX=[aV,aT/aS]}}}if(aO.bars.show&&!aX){var aD,aW;switch(aO.bars.align){case"left":aD=0;break;case"right":aD=-aO.bars.barWidth;break;default:aD=-aO.bars.barWidth/2}aW=aD+aO.bars.barWidth;for(aT=0;aT<aU.length;aT+=aS){var aJ=aU[aT],aI=aU[aT+1],aY=aU[aT+2];if(aJ==null){continue}if(u[aV].bars.horizontal?aP<=Math.max(aY,aJ)&&aP>=Math.min(aY,aJ)&&aM>=aI+aD&&aM<=aI+aW:aP>=aJ+aD&&aP<=aJ+aW&&aM>=Math.min(aY,aI)&&aM<=Math.max(aY,aI)){aX=[aV,aT/aS]}}}}if(aX){aV=aX[0];aT=aX[1];aS=u[aV].datapoints.pointsize;return{datapoint:u[aV].datapoints.points.slice(aT*aS,(aT+1)*aS),dataIndex:aT,series:u[aV],seriesIndex:aV}}return null}function f(aA){if(N.grid.hoverable){j("plothover",aA,function(aB){return aB.hoverable!=false})}}function R(aA){if(N.grid.hoverable){j("plothover",aA,function(aB){return false})}}function J(aA){j("plotclick",aA,function(aB){return aB.clickable!=false})}function j(aB,aA,aC){var aD=ao.offset(),aG=aA.pageX-aD.left-K.left,aE=aA.pageY-aD.top-K.top,aI=aa({left:aG,top:aE});aI.pageX=aA.pageX;aI.pageY=aA.pageY;var aJ=ar(aG,aE,aC);if(aJ){aJ.pageX=parseInt(aJ.series.xaxis.p2c(aJ.datapoint[0])+aD.left+K.left,10);aJ.pageY=parseInt(aJ.series.yaxis.p2c(aJ.datapoint[1])+aD.top+K.top,10)}if(N.grid.autoHighlight){for(var aF=0;aF<ai.length;++aF){var aH=ai[aF];if(aH.auto==aB&&!(aJ&&aH.series==aJ.series&&aH.point[0]==aJ.datapoint[0]&&aH.point[1]==aJ.datapoint[1])){aj(aH.series,aH.point)}}if(aJ){ap(aJ.series,aJ.datapoint,aB)}}S.trigger(aB,[aI,aJ])}function Z(){var aA=N.interaction.redrawOverlayInterval;if(aA==-1){ah();return}if(!m){m=setTimeout(ah,aA)}}function ah(){m=null;ay.save();an.clear();ay.translate(K.left,K.top);var aB,aA;for(aB=0;aB<ai.length;++aB){aA=ai[aB];if(aA.series.bars.show){ak(aA.series,aA.point)}else{ag(aA.series,aA.point)}}ay.restore();G(q.drawOverlay,[ay])}function ap(aC,aA,aE){if(typeof aC=="number"){aC=u[aC]}if(typeof aA=="number"){var aD=aC.datapoints.pointsize;aA=aC.datapoints.points.slice(aD*aA,aD*(aA+1))}var aB=P(aC,aA);if(aB==-1){ai.push({series:aC,point:aA,auto:aE});Z()}else{if(!aE){ai[aB].auto=false}}}function aj(aC,aA){if(aC==null&&aA==null){ai=[];Z();return}if(typeof aC=="number"){aC=u[aC]}if(typeof aA=="number"){var aD=aC.datapoints.pointsize;aA=aC.datapoints.points.slice(aD*aA,aD*(aA+1))}var aB=P(aC,aA);if(aB!=-1){ai.splice(aB,1);Z()}}function P(aC,aD){for(var aA=0;aA<ai.length;++aA){var aB=ai[aA];if(aB.series==aC&&aB.point[0]==aD[0]&&aB.point[1]==aD[1]){return aA}}return -1}function ag(aA,aG){var aE=aG[0],aC=aG[1],aH=aA.xaxis,aF=aA.yaxis,aI=typeof aA.highlightColor==="string"?aA.highlightColor:e.color.parse(aA.color).scale("a",0.5).toString();if(aE<aH.min||aE>aH.max||aC<aF.min||aC>aF.max){return}var aD=aA.points.radius+aA.points.lineWidth/2;ay.lineWidth=aD;ay.strokeStyle=aI;var aB=1.5*aD;aE=aH.p2c(aE);aC=aF.p2c(aC);ay.beginPath();if(aA.points.symbol=="circle"){ay.arc(aE,aC,aB,0,2*Math.PI,false)}else{aA.points.symbol(ay,aE,aC,aB,false)}ay.closePath();ay.stroke()}function ak(aD,aA){var aE=typeof aD.highlightColor==="string"?aD.highlightColor:e.color.parse(aD.color).scale("a",0.5).toString(),aC=aE,aB;switch(aD.bars.align){case"left":aB=0;break;case"right":aB=-aD.bars.barWidth;break;default:aB=-aD.bars.barWidth/2}ay.lineWidth=aD.bars.lineWidth;ay.strokeStyle=aE;am(aA[0],aA[1],aA[2]||0,aB,aB+aD.bars.barWidth,function(){return aC},aD.xaxis,aD.yaxis,ay,aD.bars.horizontal,aD.bars.lineWidth)}function w(aI,aA,aG,aB){if(typeof aI=="string"){return aI}else{var aH=E.createLinearGradient(0,aG,0,aA);for(var aD=0,aC=aI.colors.length;aD<aC;++aD){var aE=aI.colors[aD];if(typeof aE!="string"){var aF=e.color.parse(aB);if(aE.brightness!=null){aF=aF.scale("rgb",aE.brightness)}if(aE.opacity!=null){aF.a*=aE.opacity}aE=aF.toString()}aH.addColorStop(aD/(aC-1),aE)}return aH}}}e.plot=function(j,g,f){var h=new c(e(j),g,f,e.plot.plugins);return h};e.plot.version="0.8.3";e.plot.plugins=[];e.fn.plot=function(g,f){return this.each(function(){e.plot(this,g,f)})};function b(g,f){return f*Math.floor(g/f)}})(jQuery);(function($,v,y){var k=[],d=$.resize=$.extend($.resize,{}),w,b=false,z="setTimeout",x="resize",g=x+"-special-event",c="pendingDelay",j="activeDelay",q="throttleWindow";d[c]=200;d[j]=20;d[q]=true;$.event.special[x]={setup:function(){if(!d[q]&&this[z]){return false}var a=$(this);k.push(this);a.data(g,{w:a.width(),h:a.height()});if(k.length===1){w=y;p()}},teardown:function(){if(!d[q]&&this[z]){return false}var f=$(this);for(var a=k.length-1;a>=0;a--){if(k[a]==this){k.splice(a,1);break}}f.removeData(g);if(!k.length){if(b){cancelAnimationFrame(w)}else{clearTimeout(w)}w=null}},add:function(l){if(!d[q]&&this[z]){return false}var h;function f(u,A,m){var t=$(this),o=t.data(g)||{};o.w=A!==y?A:t.width();o.h=m!==y?m:t.height();h.apply(this,arguments)}if($.isFunction(l)){h=l;return f}else{h=l.handler;l.handler=f}}};function p(e){if(b===true){b=e||1}for(var h=k.length-1;h>=0;h--){var a=$(k[h]);if(a[0]==v||a.is(":visible")){var m=a.width(),o=a.height(),n=a.data(g);if(n&&(m!==n.w||o!==n.h)){a.trigger(x,[n.w=m,n.h=o]);b=e||true}}else{n=a.data(g);n.w=0;n.h=0}}if(w!==null){if(b&&(e==null||e-b<1000)){w=v.requestAnimationFrame(p)}else{w=setTimeout(p,d[c]);b=false}}}if(!v.requestAnimationFrame){v.requestAnimationFrame=function(){return v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||v.msRequestAnimationFrame||function(e,a){return v.setTimeout(function(){e((new Date).getTime())},d[j])}}()}if(!v.cancelAnimationFrame){v.cancelAnimationFrame=function(){return v.webkitCancelRequestAnimationFrame||v.mozCancelRequestAnimationFrame||v.oCancelRequestAnimationFrame||v.msCancelRequestAnimationFrame||clearTimeout}()}})(jQuery,this);(function(b){var a={};function c(f){function e(){var h=f.getPlaceholder();if(h.width()==0||h.height()==0){return}f.resize();f.setupGrid();f.draw()}function g(j,h){j.getPlaceholder().resize(e)}function d(j,h){j.getPlaceholder().unbind("resize",e)}f.hooks.bindEvents.push(g);f.hooks.shutdown.push(d)}b.plot.plugins.push({init:c,options:a,name:"resize",version:"1.0"})})(jQuery);(function(a){function b(l){var q={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var n={};var s=null;function e(t){if(q.active){m(t);l.getPlaceholder().trigger("plotselecting",[g()])}}function o(t){if(t.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&n.onselectstart==null){n.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&n.ondrag==null){n.ondrag=document.ondrag;document.ondrag=function(){return false}}d(q.first,t);q.active=true;s=function(u){k(u)};a(document).one("mouseup",s)}function k(t){s=null;if(document.onselectstart!==undefined){document.onselectstart=n.onselectstart}if(document.ondrag!==undefined){document.ondrag=n.ondrag}q.active=false;m(t);if(f()){j()}else{l.getPlaceholder().trigger("plotunselected",[]);l.getPlaceholder().trigger("plotselecting",[null])}return false}function g(){if(!f()){return null}if(!q.show){return null}var v={},u=q.first,t=q.second;a.each(l.getAxes(),function(w,x){if(x.used){var z=x.c2p(u[x.direction]),y=x.c2p(t[x.direction]);v[w]={from:Math.min(z,y),to:Math.max(z,y)}}});return v}function j(){var t=g();l.getPlaceholder().trigger("plotselected",[t]);if(t.xaxis&&t.yaxis){l.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}}function h(u,v,t){return v<u?u:(v>t?t:v)}function d(x,u){var w=l.getOptions();var v=l.getPlaceholder().offset();var t=l.getPlotOffset();x.x=h(0,u.pageX-v.left-t.left,l.width());x.y=h(0,u.pageY-v.top-t.top,l.height());if(w.selection.mode=="y"){x.x=x==q.first?0:l.width()}if(w.selection.mode=="x"){x.y=x==q.first?0:l.height()}}function m(t){if(t.pageX==null){return}d(q.second,t);if(f()){q.show=true;l.triggerRedrawOverlay()}else{r(true)}}function r(t){if(q.show){q.show=false;l.triggerRedrawOverlay();if(!t){l.getPlaceholder().trigger("plotunselected",[])}}}function c(t,x){var u,z,A,B,y=l.getAxes();for(var v in y){u=y[v];if(u.direction==x){B=x+u.n+"axis";if(!t[B]&&u.n==1){B=x+"axis"}if(t[B]){z=t[B].from;A=t[B].to;break}}}if(!t[B]){u=x=="x"?l.getXAxes()[0]:l.getYAxes()[0];z=t[x+"1"];A=t[x+"2"]}if(z!=null&&A!=null&&z>A){var w=z;z=A;A=w}return{from:z,to:A,axis:u}}function p(u,t){var w,v,x=l.getOptions();if(x.selection.mode=="y"){q.first.x=0;q.second.x=l.width()}else{v=c(u,"x");q.first.x=v.axis.p2c(v.from);q.second.x=v.axis.p2c(v.to)}if(x.selection.mode=="x"){q.first.y=0;q.second.y=l.height()}else{v=c(u,"y");q.first.y=v.axis.p2c(v.from);q.second.y=v.axis.p2c(v.to)}q.show=true;l.triggerRedrawOverlay();if(!t&&f()){j()}}function f(){var t=l.getOptions().selection.minSize;return Math.abs(q.second.x-q.first.x)>=t&&Math.abs(q.second.y-q.first.y)>=t}l.clearSelection=r;l.setSelection=p;l.getSelection=g;l.hooks.bindEvents.push(function(u,t){var v=u.getOptions();if(v.selection.mode!=null){t.mousemove(e);t.mousedown(o)}});l.hooks.drawOverlay.push(function(z,E){if(q.show&&f()){var u=z.getPlotOffset();var t=z.getOptions();E.save();E.translate(u.left,u.top);var A=a.color.parse(t.selection.color);E.strokeStyle=A.scale("a",0.8).toString();E.lineWidth=1;E.lineJoin=t.selection.shape;E.fillStyle=A.scale("a",0.4).toString();var C=Math.min(q.first.x,q.second.x)+0.5,B=Math.min(q.first.y,q.second.y)+0.5,D=Math.abs(q.second.x-q.first.x)-1,v=Math.abs(q.second.y-q.first.y)-1;E.fillRect(C,B,D,v);E.strokeRect(C,B,D,v);E.restore()}});l.hooks.shutdown.push(function(u,t){t.unbind("mousemove",e);t.unbind("mousedown",o);if(s){a(document).unbind("mouseup",s)}})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);(function(b){var a={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function c(h){var k={x:-1,y:-1,locked:false};h.setCrosshair=function e(m){if(!m){k.x=-1}else{var l=h.p2c(m);k.x=Math.max(0,Math.min(l.left,h.width()));k.y=Math.max(0,Math.min(l.top,h.height()))}h.triggerRedrawOverlay()};h.clearCrosshair=h.setCrosshair;h.lockCrosshair=function f(l){if(l){h.setCrosshair(l)}k.locked=true};h.unlockCrosshair=function g(){k.locked=false};function d(l){if(k.locked){return}if(k.x!=-1){k.x=-1;h.triggerRedrawOverlay()}}function j(l){if(k.locked){return}if(h.getSelection&&h.getSelection()){k.x=-1;return}var m=h.offset();k.x=Math.max(0,Math.min(l.pageX-m.left,h.width()));k.y=Math.max(0,Math.min(l.pageY-m.top,h.height()));h.triggerRedrawOverlay()}h.hooks.bindEvents.push(function(m,l){if(!m.getOptions().crosshair.mode){return}l.mouseout(d);l.mousemove(j)});h.hooks.drawOverlay.push(function(q,l){var r=q.getOptions().crosshair;if(!r.mode){return}var n=q.getPlotOffset();l.save();l.translate(n.left,n.top);if(k.x!=-1){var m=q.getOptions().crosshair.lineWidth%2?0.5:0;l.strokeStyle=r.color;l.lineWidth=r.lineWidth;l.lineJoin="round";l.beginPath();if(r.mode.indexOf("x")!=-1){var p=Math.floor(k.x)+m;l.moveTo(p,0);l.lineTo(p,q.height())}if(r.mode.indexOf("y")!=-1){var o=Math.floor(k.y)+m;l.moveTo(0,o);l.lineTo(q.width(),o)}l.stroke()}l.restore()});h.hooks.shutdown.push(function(m,l){l.unbind("mouseout",d);l.unbind("mousemove",j)})}b.plot.plugins.push({init:c,options:a,name:"crosshair",version:"1.0"})})(jQuery);(function(r){function n(d){var b,c=this,a=d.data||{};if(a.elem){c=d.dragTarget=a.elem,d.dragProxy=o.proxy||c,d.cursorOffsetX=a.pageX-a.left,d.cursorOffsetY=a.pageY-a.top,d.offsetX=d.pageX-d.cursorOffsetX,d.offsetY=d.pageY-d.cursorOffsetY}else{if(o.dragging||a.which>0&&d.which!=a.which||r(d.target).is(a.not)){return}}switch(d.type){case"mousedown":return r.extend(a,r(c).offset(),{elem:c,target:d.target,pageX:d.pageX,pageY:d.pageY}),q.add(document,"mousemove mouseup",n,a),j(c,!1),o.dragging=null,!1;case !o.dragging&&"mousemove":if(l(d.pageX-a.pageX)+l(d.pageY-a.pageY)<a.distance){break}d.target=a.target,b=m(d,"dragstart",c),b!==!1&&(o.dragging=c,o.proxy=d.dragProxy=r(b||c)[0]);case"mousemove":if(o.dragging){if(b=m(d,"drag",c),p.drop&&(p.drop.allowed=b!==!1,p.drop.handler(d)),b!==!1){break}d.type="mouseup"}case"mouseup":q.remove(document,"mousemove mouseup",n),o.dragging&&(p.drop&&p.drop.handler(d),m(d,"dragend",c)),j(c,!0),o.dragging=o.proxy=a.elem=!1}return !0}function m(a,h,g){a.type=h;var f=r.event.dispatch.call(g,a);return f===!1?!1:f||a.result}function l(b){return Math.pow(b,2)}function k(){return o.dragging===!1}function j(d,c){d&&(d.unselectable=c?"off":"on",d.onselectstart=function(){return c},d.style&&(d.style.MozUserSelect=c?"":"none"))}r.fn.drag=function(e,d,f){return d&&this.bind("dragstart",e),f&&this.bind("dragend",f),e?this.bind("drag",d?d:e):this.trigger("drag")};var q=r.event,p=q.special,o=p.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=r.extend({distance:o.distance,which:o.which,not:o.not},a||{}),a.distance=l(a.distance),q.add(this,"mousedown",n,a),this.attachEvent&&this.attachEvent("ondragstart",k)},teardown:function(){q.remove(this,"mousedown",n),this===o.dragging&&(o.dragging=o.proxy=!1),j(this,!0),this.detachEvent&&this.detachEvent("ondragstart",k)}};p.dragstart=p.dragend={setup:function(){},teardown:function(){}}})(jQuery);(function(f){function b(h){var d=h||window.event,m=[].slice.call(arguments,1),k=0,l=0,j=0,h=f.event.fix(d);h.type="mousewheel";d.wheelDelta&&(k=d.wheelDelta/120);d.detail&&(k=-d.detail/3);j=k;void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(j=0,l=-1*k);void 0!==d.wheelDeltaY&&(j=d.wheelDeltaY/120);void 0!==d.wheelDeltaX&&(l=-1*d.wheelDeltaX/120);m.unshift(h,k,l,j);return(f.event.dispatch||f.event.handle).apply(this,m)}var g=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var a=g.length;a;){f.event.fixHooks[g[--a]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var c=g.length;c;){this.addEventListener(g[--c],b,!1)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var c=g.length;c;){this.removeEventListener(g[--c],b,!1)}}else{this.onmousewheel=null}}};f.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);(function(b){var a={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",frameRate:20}};function c(p){function n(r,q){var s=p.offset();s.left=r.pageX-s.left;s.top=r.pageY-s.top;if(q){p.zoomOut({center:s})}else{p.zoom({center:s})}}function d(q,r){q.preventDefault();n(q,r<0);return false}var j="default",g=0,e=0,o=null;function f(q){if(q.which!=1){return false}var r=p.getPlaceholder().css("cursor");if(r){j=r}p.getPlaceholder().css("cursor",p.getOptions().pan.cursor);g=q.pageX;e=q.pageY}function k(r){var q=p.getOptions().pan.frameRate;if(o||!q){return}o=setTimeout(function(){p.pan({left:g-r.pageX,top:e-r.pageY});g=r.pageX;e=r.pageY;o=null},1/q*1000)}function h(q){if(o){clearTimeout(o);o=null}p.getPlaceholder().css("cursor",j);p.pan({left:g-q.pageX,top:e-q.pageY})}function m(r,q){var s=r.getOptions();if(s.zoom.interactive){q[s.zoom.trigger](n);q.mousewheel(d)}if(s.pan.interactive){q.bind("dragstart",{distance:10},f);q.bind("drag",k);q.bind("dragend",h)}}p.zoomOut=function(q){if(!q){q={}}if(!q.amount){q.amount=p.getOptions().zoom.amount}q.amount=1/q.amount;p.zoom(q)};p.zoom=function(r){if(!r){r={}}var y=r.center,s=r.amount||p.getOptions().zoom.amount,q=p.width(),u=p.height();if(!y){y={left:q/2,top:u/2}}var t=y.left/q,x=y.top/u,v={x:{min:y.left-t*q/s,max:y.left+(1-t)*q/s},y:{min:y.top-x*u/s,max:y.top+(1-x)*u/s}};b.each(p.getAxes(),function(G,A){var w=A.options,B=v[A.direction].min,F=v[A.direction].max,E=w.zoomRange,z=w.panRange;if(E===false){return}B=A.c2p(B);F=A.c2p(F);if(B>F){var C=B;B=F;F=C}if(z){if(z[0]!=null&&B<z[0]){B=z[0]}if(z[1]!=null&&F>z[1]){F=z[1]}}var D=F-B;if(E&&(E[0]!=null&&D<E[0]&&s>1||E[1]!=null&&D>E[1]&&s<1)){return}w.min=B;w.max=F});p.setupGrid();p.draw();if(!r.preventEvent){p.getPlaceholder().trigger("plotzoom",[p,r])}};p.pan=function(q){var r={x:+q.left,y:+q.top};if(isNaN(r.x)){r.x=0}if(isNaN(r.y)){r.y=0}b.each(p.getAxes(),function(t,v){var w=v.options,u,s,x=r[v.direction];u=v.c2p(v.p2c(v.min)+x),s=v.c2p(v.p2c(v.max)+x);var y=w.panRange;if(y===false){return}if(y){if(y[0]!=null&&y[0]>u){x=y[0]-u;u+=x;s+=x}if(y[1]!=null&&y[1]<s){x=y[1]-s;u+=x;s+=x}}w.min=u;w.max=s});p.setupGrid();p.draw();if(!q.preventEvent){p.getPlaceholder().trigger("plotpan",[p,q])}};function l(r,q){q.unbind(r.getOptions().zoom.trigger,n);q.unbind("mousewheel",d);q.unbind("dragstart",f);q.unbind("drag",k);q.unbind("dragend",h);if(o){clearTimeout(o)}}p.hooks.bindEvents.push(m);p.hooks.shutdown.push(l)}b.plot.plugins.push({init:c,options:a,name:"navigate",version:"1.3"})})(jQuery);(function(b){var a={};function c(k){var m=false;function j(o){var n=k.getData();for(var p=0;p<n.length;p++){if(n[p].label==o){return n[p]}}return null}function h(o,q){var p=j(o);if(!p){return}var n=k.getOptions();var r=false;if(typeof p.points.oldShow==="undefined"){p.points.oldShow=false}if(typeof p.lines.oldShow==="undefined"){p.lines.oldShow=false}if(typeof p.bars.oldShow==="undefined"){p.bars.oldShow=false}if(p.points.show&&!p.points.oldShow){p.points.show=false;p.points.oldShow=true;r=true}if(p.lines.show&&!p.lines.oldShow){p.lines.show=false;p.lines.oldShow=true;r=true}if(p.bars.show&&!p.bars.oldShow){p.bars.show=false;p.bars.oldShow=true;r=true}if(r){p.oldColor=p.color;p.color="#fff";f(n,o,true)}else{var s=false;if(!p.points.show&&p.points.oldShow){p.points.show=true;p.points.oldShow=false;s=true}if(!p.lines.show&&p.lines.oldShow){p.lines.show=true;p.lines.oldShow=false;s=true}if(!p.bars.show&&p.bars.oldShow){p.bars.show=true;p.bars.oldShow=false;s=true}if(s){p.color=p.oldColor;f(n,o,false)}}k.setData(k.getData());k.setupGrid();k.draw()}function f(o,n,p){if(!o.legend.hidden){o.legend.hidden=[]}var q=o.legend.hidden.indexOf(n);if(p){if(q<0){o.legend.hidden.push(n)}}else{if(q>-1){o.legend.hidden.splice(q,1)}}}function g(o,n){o.mouseenter(function(){b(this).css("cursor","pointer")}).mouseleave(function(){b(this).css("cursor","default")}).unbind("click").click(function(){h(n?b(this).next().text():b(this).parent().text())})}function d(r){var n=r.getOptions();if(!n.legend.hideable){return}var q=r.getPlaceholder();g(q.find(".graphlabel"));g(q.find(".legendColorBox"),true);if(!m){m=true;if(n.legend.hidden){for(var o=0;o<n.legend.hidden.length;o++){h(n.legend.hidden[o],true)}}}}function e(o,n){if(!n.legend.hideable){return}n.legend.labelFormatter=function(p,q){return'<span class="graphlabel">'+p+"</span>"}}function l(q,o,p){var n=q.getOptions();if(!n.legend.hideable){return}if(n.legend.hidden&&n.legend.hidden.indexOf(o.label)>-1){var r=false;if(o.points.show){o.points.show=false;o.points.oldShow=true;r=true}if(o.lines.show){o.lines.show=false;o.lines.oldShow=true;r=true}if(o.bars.show){o.bars.show=false;o.bars.oldShow=true;r=true}if(r){o.oldColor=o.color;o.color="#fff"}}if(!o.points.show&&!o.lines.show&&!o.bars.show){o.datapoints.format=[null,null]}}k.hooks.processOptions.push(e);k.hooks.draw.push(function(o,n){d(o)});k.hooks.processDatapoints.push(l)}b.plot.plugins.push({init:c,options:a,name:"hiddenGraphs",version:"1.1"})})(jQuery);(function(b){var a={series:{stack:null}};function c(f){function d(k,j){var h=null;for(var g=0;g<j.length;++g){if(k==j[g]){break}if(j[g].stack==k.stack&&(j[g].points.show||j[g].lines.show||j[g].bars.show)){h=j[g]}}return h}function e(D,v,g){if(v.stack==null||v.stack===false){return}var p=d(v,D.getData());if(!p){return}if(!v.points.show&&!v.lines.show&&!v.bars.show){return}var A=g.pointsize,G=g.points,h=p.datapoints.pointsize,y=p.datapoints.points,t=[],x,w,k,K,J,r,u=v.lines.show,H=v.bars.horizontal,o=A>2&&(H?g.format[2].x:g.format[2].y),n=u&&v.lines.steps,F=true,q=H?1:0,I=H?0:1,E=0,C=0,B,z;while(true){if(E>=G.length){break}B=t.length;if(G[E]==null){for(z=0;z<A;++z){t.push(G[E+z])}E+=A}else{if(C>=y.length){if(!u){for(z=0;z<A;++z){t.push(G[E+z])}}E+=A}else{if(y[C]==null){for(z=0;z<A;++z){t.push(null)}F=true;C+=h}else{x=G[E+q];w=G[E+I];K=y[C+q];J=y[C+I];r=0;if(x==K){for(z=0;z<A;++z){t.push(G[E+z])}t[B+I]+=J;r=J;E+=A;C+=h}else{if(x>K){if(u&&E>0&&G[E-A]!=null){k=w+(G[E-A+I]-w)*(K-x)/(G[E-A+q]-x);t.push(K);t.push(k+J);for(z=2;z<A;++z){t.push(G[E+z])}r=J}C+=h}else{if(F&&u){E+=A;continue}for(z=0;z<A;++z){t.push(G[E+z])}if(u&&C>0&&y[C-h]!=null){r=J+(y[C-h+I]-J)*(x-K)/(y[C-h+q]-K)}t[B+I]+=r;E+=A}}F=false;if(B!=t.length&&o){t[B+2]+=r}}}}if(n&&B!=t.length&&B>0&&t[B]!=null&&t[B]!=t[B-A]&&t[B+1]!=t[B-A+1]){for(z=0;z<A;++z){t[B+A+z]=t[B+z]}t[B+1]=t[B-A+1]}}g.points=t}f.hooks.processDatapoints.push(e)}b.plot.plugins.push({init:c,options:a,name:"stack",version:"1.2"})})(jQuery);(function(b){var a={grid:{canvasText:{show:false,font:"sans 8px",series:null,seriesFont:"sans 8px",lineBreaks:{show:false,marginTop:3,marginBottom:5,lineSpacing:1}}}};function c(e){var f={};f.font="sans";f.fontSize=8;f.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:26,points:[[4,9],[22,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"":{width:24,points:[[4,18],[20,12],[4,7],[-1,-1],[4,2],[20,2]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};f.letter=function(h){return f.letters[h]};f.ascent=function(){var h=f.fontName;var j=f.fontSize;return j};f.descent=function(){var h=f.fontName;var j=f.fontSize;return 7*j/25};f.measure=function(m){var j=f.fontName;var k=f.fontSize;var l=0;var h=m.length;for(i=0;i<h;i++){var n=f.letter(m.charAt(i));if(n){l+=n.width*k/25}}return l};f.fontFamily=function(h){var k=h.match(/ [0-9]?[0-9]px/gi);var j=h.match(/^[a-z]* /gi);f.fontName=j;f.fontSize=parseInt(k[0].replace("px","").replace(" ",""));return true};function g(h){if(typeof h!=="string"){return h}h=h.replace(/<(?:.|\n)*?>/gm,"");h=h.replace(/&Uuml;/g,"");h=h.replace(/&uuml;/g,"");h=h.replace(/&Ouml;/g,"");h=h.replace(/&ouml;/g,"");h=h.replace(/&Auml;/g,"");h=h.replace(/&auml;/g,"");h=h.replace(/&szlig;/g,"");h=h.replace(/&nbsp;/g," ");return h}function d(k,h){var j=k.getOptions();if(j.grid.canvasText.show){if(j.legend.container==null){k.insertLegendCanvasText(h)}}}e.insertLegendCanvasText=function(D){var h=e.getOptions();var r=e.getData();var t=e.getPlotOffset();var E=e.height();var l=e.width();if(!h.legend.show){return}var w=h.legend.labelFormatter,u,n,v,j;v=0;j=0;for(var F=0;F<r.length;++F){u=r[F];n=u.label;if(!n){continue}if(w){n=w(n,u)}n=g(n);labelWidth=f.measure(n);if(labelWidth>v){v=labelWidth}}LEGEND_BOX_WIDTH=22;LEGEND_BOX_LINE_HEIGHT=18;v=v+LEGEND_BOX_WIDTH;j=(r.length*LEGEND_BOX_LINE_HEIGHT);var q,o;if(h.legend.container!=null){q=b(h.legend.container).offset().left;o=b(h.legend.container).offset().top}else{var k="",z=h.legend.position,C=h.legend.margin;if(C[0]==null){C=[C,C]}if(z.charAt(0)=="n"){o=Math.round(t.top+h.grid.borderWidth+C[1])}else{if(z.charAt(0)=="s"){o=Math.round(t.top+h.grid.borderWidth+E-C[0]-j)}}if(z.charAt(1)=="e"){q=Math.round(t.left+h.grid.borderWidth+l-C[0]-v)}else{if(z.charAt(1)=="w"){q=Math.round(t.left+h.grid.borderWidth+C[0])}}if(h.legend.backgroundOpacity!=0){var G=h.legend.backgroundColor;if(G==null){G=h.grid.backgroundColor}if(G&&typeof G=="string"){D.globalAlpha=h.legend.backgroundOpacity;D.fillStyle=G;D.fillRect(q,o,v,j);D.globalAlpha=1}}}var B,A;for(var F=0;F<r.length;++F){u=r[F];n=u.label;if(!n){continue}if(w){n=w(n,u)}n=g(n);A=o+(F*18);D.fillStyle=h.legend.labelBoxBorderColor;D.fillRect(q,A,18,14);D.fillStyle="#FFF";D.fillRect(q+1,A+1,16,12);D.fillStyle=u.color;D.fillRect(q+2,A+2,14,10);B=q+22;A=A+f.ascent()+2;D.fillStyle="#545454";D.fillText(n,B,A)}};e.hooks.draw.push(d)}b.plot.plugins.push({init:c,options:a,name:"flot.canvas.text",version:"0.1hc"})})(jQuery);(function(b){function c(o){var j;var u;var x;var v;var m=1;var g=false;function d(E,C,D){var A=null;if(q(C)){k(C);w(E);s(E);t(C);if(u>=2){var z=r(C);var F=0;var B=h();if(l(z)){F=-1*(n(j,z-1,Math.floor(u/2)-1))-B}else{F=n(j,Math.ceil(u/2),z-2)+B+v*2}A=e(D,C,F);D.points=A}}return A}function q(z){return z.bars!=null&&z.bars.show&&z.bars.order!=null}function w(C){var A=g?C.getPlaceholder().innerHeight():C.getPlaceholder().innerWidth();var B=g?y(C.getData(),1):y(C.getData(),0);var z=B[1]-B[0];m=z/A}function y(A,C){var B=new Array();for(var z=0;z<A.length;z++){B[0]=A[z].data[0][C];B[1]=A[z].data[A[z].data.length-1][C]}return B}function s(z){j=f(z.getData());u=j.length}function f(A){var B=new Array();for(var z=0;z<A.length;z++){if(A[z].bars.order!=null&&A[z].bars.show){B.push(A[z])}}return B.sort(p)}function p(B,A){var z=B.bars.order;var C=A.bars.order;return((z<C)?-1:((z>C)?1:0))}function t(z){x=z.bars.lineWidth?z.bars.lineWidth:2;v=x*m}function k(z){if(z.bars.horizontal){g=true}}function r(A){var B=0;for(var z=0;z<j.length;++z){if(A==j[z]){B=z;break}}return B+1}function h(){var z=0;if(u%2!=0){z=(j[Math.ceil(u/2)].bars.barWidth)/2}return z}function l(z){return z<=Math.ceil(u/2)}function n(C,D,A){var z=0;for(var B=D;B<=A;B++){z+=C[B].bars.barWidth+v*2}return z}function e(E,D,z){var F=E.pointsize;var C=E.points;var A=0;for(var B=g?1:0;B<C.length;B+=F){C[B]+=z;D.data[A][3]=C[B];A++}return C}o.hooks.processDatapoints.push(d)}var a={series:{bars:{order:null}}};b.plot.plugins.push({init:c,options:a,name:"orderBars",version:"0.2"})})(jQuery);(function(f){var b={canvas:true};var c,d,a;var e=Object.prototype.hasOwnProperty;function g(k,j){var h=j.Canvas;if(c==null){d=h.prototype.getTextInfo,a=h.prototype.addText,c=h.prototype.render}h.prototype.render=function(){if(!k.getOptions().canvas){return c.call(this)}var n=this.context,l=this._textCache;n.save();n.textBaseline="middle";for(var w in l){if(e.call(l,w)){var m=l[w];for(var v in m){if(e.call(m,v)){var p=m[v],r=true;for(var x in p){if(e.call(p,x)){var o=p[x],t=o.positions,z=o.lines;if(r){n.fillStyle=o.font.color;n.font=o.font.definition;r=false}for(var s=0,u;u=t[s];s++){if(u.active){for(var q=0,y;y=u.lines[q];q++){n.fillText(z[q].text,y[0],y[1])}}else{t.splice(s--,1)}}if(t.length==0){delete p[x]}}}}}}}n.restore()};h.prototype.getTextInfo=function(u,y,q,r,n){if(!k.getOptions().canvas){return d.call(this,u,y,q,r,n)}var v,l,p,o;y=""+y;if(typeof q==="object"){v=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family}else{v=q}l=this._textCache[u];if(l==null){l=this._textCache[u]={}}p=l[v];if(p==null){p=l[v]={}}o=p[y];if(o==null){var m=this.context;if(typeof q!=="object"){var t=f("<div>&nbsp;</div>").css("position","absolute").addClass(typeof q==="string"?q:null).appendTo(this.getTextLayer(u));q={lineHeight:t.height(),style:t.css("font-style"),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family"),color:t.css("color")};q.size=t.css("line-height",1).height();t.remove()}v=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family;o=p[y]={width:0,height:0,positions:[],lines:[],font:{definition:v,color:q.color}};m.save();m.font=v;var z=(y+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var s=0;s<z.length;++s){var x=z[s],w=m.measureText(x);o.width=Math.max(w.width,o.width);o.height+=q.lineHeight;o.lines.push({text:x,width:w.width,height:q.lineHeight})}m.restore()}return o};h.prototype.addText=function(t,w,u,z,n,o,l,s,v){if(!k.getOptions().canvas){return a.call(this,t,w,u,z,n,o,l,s,v)}var m=this.getTextInfo(t,z,n,o,l),q=m.positions,B=m.lines;u+=m.height/B.length/2;if(v=="middle"){u=Math.round(u-m.height/2)}else{if(v=="bottom"){u=Math.round(u-m.height)}else{u=Math.round(u)}}if(!!(window.opera&&window.opera.version().split(".")[0]<12)){u-=2}for(var p=0,r;r=q[p];p++){if(r.x==w&&r.y==u){r.active=true;return}}r={active:true,lines:[],x:w,y:u};q.push(r);for(var p=0,A;A=B[p];p++){if(s=="center"){r.lines.push([Math.round(w-A.width/2),u])}else{if(s=="right"){r.lines.push([Math.round(w-A.width),u])}else{r.lines.push([Math.round(w),u])}}u+=A.height}}}f.plot.plugins.push({init:g,options:b,name:"canvas",version:"1.0"})})(jQuery);(function(a){var l={xaxis:{timezone:null,timeformat:null,twelveHourClock:false,monthNames:null}};function g(o,m){return m*Math.floor(o/m)}function k(u,o,s,n){if(typeof u.strftime=="function"){return u.strftime(o)}var x=function(z,r){z=""+z;r=""+(r==null?"0":r);return z.length==1?r+z:z};var m=[];var y=false;var w=u.getHours();var t=w<12;if(s==null){s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(n==null){n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}var p;if(w>12){p=w-12}else{if(w==0){p=12}else{p=w}}for(var q=0;q<o.length;++q){var v=o.charAt(q);if(y){switch(v){case"a":v=""+n[u.getDay()];break;case"b":v=""+s[u.getMonth()];break;case"d":v=x(u.getDate());break;case"e":v=x(u.getDate()," ");break;case"h":case"H":v=x(w);break;case"I":v=x(p);break;case"l":v=x(p," ");break;case"m":v=x(u.getMonth()+1);break;case"M":v=x(u.getMinutes());break;case"q":v=""+(Math.floor(u.getMonth()/3)+1);break;case"S":v=x(u.getSeconds());break;case"y":v=x(u.getFullYear()%100);break;case"Y":v=""+u.getFullYear();break;case"p":v=t?"am":"pm";break;case"P":v=t?"AM":"PM";break;case"w":v=""+u.getDay();break}m.push(v);y=false}else{if(v=="%"){y=true}else{m.push(v)}}}return m.join("")}function j(r){function m(t,s,p,u){t[s]=function(){return p[u].apply(p,arguments)}}var o={date:r};if(r.strftime!=undefined){m(o,"strftime",r,"strftime")}m(o,"getTime",r,"getTime");m(o,"setTime",r,"setTime");var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var q=0;q<n.length;q++){m(o,"get"+n[q],r,"getUTC"+n[q]);m(o,"set"+n[q],r,"setUTC"+n[q])}return o}function e(n,m){if(m.timezone=="browser"){return new Date(n)}else{if(!m.timezone||m.timezone=="utc"){return j(new Date(n))}else{if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var o=new timezoneJS.Date;o.setTimezone(m.timezone);o.setTime(n);return o}else{return j(new Date(n))}}}}var c={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,quarter:3*30*24*60*60*1000,year:365.2425*24*60*60*1000};var f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]];var b=f.concat([[3,"month"],[6,"month"],[1,"year"]]);var d=f.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function h(m){m.hooks.processOptions.push(function(o,n){a.each(o.getAxes(),function(r,p){var q=p.options;if(q.mode=="time"){p.tickGenerator=function(y){var E=[];var D=e(y.min,q);var w=0;var H=q.tickSize&&q.tickSize[1]==="quarter"||q.minTickSize&&q.minTickSize[1]==="quarter"?d:b;if(q.minTickSize!=null){if(typeof q.tickSize=="number"){w=q.tickSize}else{w=q.minTickSize[0]*c[q.minTickSize[1]]}}for(var C=0;C<H.length-1;++C){if(y.delta<(H[C][0]*c[H[C][1]]+H[C+1][0]*c[H[C+1][1]])/2&&H[C][0]*c[H[C][1]]>=w){break}}var J=H[C][0];var F=H[C][1];if(F=="year"){if(q.minTickSize!=null&&q.minTickSize[1]=="year"){J=Math.floor(q.minTickSize[0])}else{var t=Math.pow(10,Math.floor(Math.log(y.delta/c.year)/Math.LN10));var s=y.delta/c.year/t;if(s<1.5){J=1}else{if(s<3){J=2}else{if(s<7.5){J=5}else{J=10}}}J*=t}if(J<1){J=1}}y.tickSize=q.tickSize||[J,F];var B=y.tickSize[0];F=y.tickSize[1];var x=B*c[F];if(F=="second"){D.setSeconds(g(D.getSeconds(),B))}else{if(F=="minute"){D.setMinutes(g(D.getMinutes(),B))}else{if(F=="hour"){D.setHours(g(D.getHours(),B))}else{if(F=="month"){D.setMonth(g(D.getMonth(),B))}else{if(F=="quarter"){D.setMonth(3*g(D.getMonth()/3,B))}else{if(F=="year"){D.setFullYear(g(D.getFullYear(),B))}}}}}}D.setMilliseconds(0);if(x>=c.minute){D.setSeconds(0)}if(x>=c.hour){D.setMinutes(0)}if(x>=c.day){D.setHours(0)}if(x>=c.day*4){D.setDate(1)}if(x>=c.month*2){D.setMonth(g(D.getMonth(),3))}if(x>=c.quarter*2){D.setMonth(g(D.getMonth(),6))}if(x>=c.year){D.setMonth(0)}var I=0;var G=Number.NaN;var z;do{z=G;G=D.getTime();E.push(G);if(F=="month"||F=="quarter"){if(B<1){D.setDate(1);var u=D.getTime();D.setMonth(D.getMonth()+(F=="quarter"?3:1));var A=D.getTime();D.setTime(G+I*c.hour+(A-u)*B);I=D.getHours();D.setHours(0)}else{D.setMonth(D.getMonth()+B*(F=="quarter"?3:1))}}else{if(F=="year"){D.setFullYear(D.getFullYear()+B)}else{D.setTime(G+x)}}}while(G<y.max&&G!=z);return E};p.tickFormatter=function(z,u){var x=e(z,u.options);if(q.timeformat!=null){return k(x,q.timeformat,q.monthNames,q.dayNames)}var D=u.options.tickSize&&u.options.tickSize[1]=="quarter"||u.options.minTickSize&&u.options.minTickSize[1]=="quarter";var C=u.tickSize[0]*c[u.tickSize[1]];var y=u.max-u.min;var B=q.twelveHourClock?" %p":"";var A=q.twelveHourClock?"%I":"%H";var s;if(C<c.minute){s=A+":%M:%S"+B}else{if(C<c.day){if(y<2*c.day){s=A+":%M"+B}else{s="%b %d "+A+":%M"+B}}else{if(C<c.month){s="%b %d"}else{if(D&&C<c.quarter||!D&&C<c.year){if(y<c.year){s="%b"}else{s="%b %Y"}}else{if(D&&C<c.year){if(y<c.year){s="Q%q"}else{s="Q%q %Y"}}else{s="%Y"}}}}}var w=k(x,s,q.monthNames,q.dayNames);return w}}})})}a.plot.plugins.push({init:h,options:l,name:"time",version:"1.0"});a.plot.formatDate=k;a.plot.dateGenerator=e})(jQuery);(function(b){var a={series:{curvedLines:{active:false,apply:false,fit:false,curvePointFactor:20,fitPointDist:undefined}}};function c(f){f.hooks.processOptions.push(g);function g(j,h){if(h.series.curvedLines.active){j.hooks.processDatapoints.unshift(e)}}function e(r,q,s){var l=s.points.length/s.pointsize;var m=0.5;if(q.curvedLines.apply==true&&q.originSeries===undefined&&l>(1+m)){if(q.lines.fill){var u=d(s,q.curvedLines,1),t=d(s,q.curvedLines,2);s.pointsize=3;s.points=[];var o=0;var n=0;var p=0;var h=2;while(p<u.length||o<t.length){if(u[p]==t[o]){s.points[n]=u[p];s.points[n+1]=u[p+1];s.points[n+2]=t[o+1];o+=h;p+=h}else{if(u[p]<t[o]){s.points[n]=u[p];s.points[n+1]=u[p+1];s.points[n+2]=n>0?s.points[n-1]:null;p+=h}else{s.points[n]=t[o];s.points[n+1]=n>1?s.points[n-2]:null;s.points[n+2]=t[o+1];o+=h}}n+=3}}else{if(q.lines.lineWidth>0){s.points=d(s,q.curvedLines,1);s.pointsize=2}}}}function d(m,W,C){var M=m.points,F=m.pointsize;var t=W.curvePointFactor*(M.length/F);var l=new Array;var D=new Array;var v=-1;var u=-1;var J=0;if(W.fit){var x;if(typeof W.fitPointDist=="undefined"){var S=M[0];var R=M[M.length-F];x=(R-S)/(500*100)}else{x=W.fitPointDist}for(var N=0;N<M.length;N+=F){var P;var q;v=N;u=N+C;P=M[v]-x;q=M[v]+x;var A=2;while(P==M[v]||q==M[v]){P=M[v]-(x*A);q=M[v]+(x*A);A++}l[J]=P;D[J]=M[u];J++;l[J]=M[v];D[J]=M[u];J++;l[J]=q;D[J]=M[u];J++}}else{for(var N=0;N<M.length;N+=F){v=N;u=N+C;l[J]=M[v];D[J]=M[u];J++}}var E=l.length;var o=new Array();var U=new Array();o[0]=0;o[E-1]=0;U[0]=0;for(var N=1;N<E-1;++N){var Q=(l[N+1]-l[N-1]);if(Q==0){return[]}var y=(l[N]-l[N-1])/Q;var B=y*o[N-1]+2;o[N]=(y-1)/B;U[N]=(D[N+1]-D[N])/(l[N+1]-l[N])-(D[N]-D[N-1])/(l[N]-l[N-1]);U[N]=(6*U[N]/(l[N+1]-l[N-1])-y*U[N-1])/B}for(var J=E-2;J>=0;--J){o[J]=o[J]*o[J+1]+U[J]}var r=(l[E-1]-l[0])/(t-1);var z=new Array;var I=new Array;var w=new Array;z[0]=l[0];I[0]=D[0];w.push(z[0]);w.push(I[0]);for(J=1;J<t;++J){z[J]=z[0]+J*r;var K=E-1;var G=0;while(K-G>1){var H=Math.round((K+G)/2);if(l[H]>z[J]){K=H}else{G=H}}var O=(l[K]-l[G]);if(O==0){return[]}var V=(l[K]-z[J])/O;var T=(z[J]-l[G])/O;I[J]=V*D[G]+T*D[K]+((V*V*V-V)*o[G]+(T*T*T-T)*o[K])*(O*O)/6;w.push(z[J]);w.push(I[J])}return w}}b.plot.plugins.push({init:c,options:a,name:"curvedLines",version:"0.5"})})(jQuery);"use strict";var Geohash={};Geohash.base32="0123456789bcdefghjkmnpqrstuvwxyz";Geohash.test=function(b){var a=this.decode(b);if(a!="Invalid geohash"&&a.lon!="NaN"&&a.lat!="NaN"){return"54.35480, 10.12416"}else{return"54.35480, 10.12416"}};Geohash.encode=function(n,a,j){if(typeof j=="undefined"){for(var c=1;c<=12;c++){var h=Geohash.encode(n,a,c);var b=Geohash.decode(h);if(b.lat==n&&b.lon==a){return h}}j=12}n=Number(n);a=Number(a);j=Number(j);if(isNaN(n)||isNaN(a)||isNaN(j)){throw new Error("Invalid geohash")}var q=0;var o=0;var g=true;var k="";var r=-90,e=90;var d=-180,l=180;while(k.length<j){if(g){var m=(d+l)/2;if(a>m){q=q*2+1;d=m}else{q=q*2;l=m}}else{var f=(r+e)/2;if(n>f){q=q*2+1;r=f}else{q=q*2;e=f}}g=!g;if(++o==5){k+=Geohash.base32.charAt(q);o=0;q=0}}return k};Geohash.decode=function(e){var c=Geohash.bounds(e);var d=c.sw.lat,h=c.sw.lon;var a=c.ne.lat,b=c.ne.lon;var f=(d+a)/2;var g=(h+b)/2;f=f.toFixed(Math.floor(2-Math.log(a-d)/Math.LN10));g=g.toFixed(Math.floor(2-Math.log(b-h)/Math.LN10));return{lat:Number(f),lon:Number(g)}};Geohash.bounds=function(k){if(k.length===0){throw new Error("Invalid geohash")}k=k.toLowerCase();var f=true;var p=-90,d=90;var c=-180,l=180;for(var h=0;h<k.length;h++){var g=k.charAt(h);var o=Geohash.base32.indexOf(g);if(o==-1){throw new Error("Invalid geohash")}for(var b=4;b>=0;b--){var j=o>>b&1;if(f){var m=(c+l)/2;if(j==1){c=m}else{l=m}}else{var e=(p+d)/2;if(j==1){p=e}else{d=e}}f=!f}}var a={sw:{lat:p,lon:c},ne:{lat:d,lon:l}};return a};Geohash.adjacent=function(f,g){f=f.toLowerCase();g=g.toLowerCase();if(f.length===0){throw new Error("Invalid geohash")}if("nsew".indexOf(g)==-1){throw new Error("Invalid direction")}var a={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]};var b={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]};var c=f.slice(-1);var e=f.slice(0,-1);var d=f.length%2;if(b[g][d].indexOf(c)!=-1&&e!==""){e=Geohash.adjacent(e,g)}return e+Geohash.base32.charAt(a[g][d].indexOf(c))};Geohash.neighbours=function(a){return{n:Geohash.adjacent(a,"n"),ne:Geohash.adjacent(Geohash.adjacent(a,"n"),"e"),e:Geohash.adjacent(a,"e"),se:Geohash.adjacent(Geohash.adjacent(a,"s"),"e"),s:Geohash.adjacent(a,"s"),sw:Geohash.adjacent(Geohash.adjacent(a,"s"),"w"),w:Geohash.adjacent(a,"w"),nw:Geohash.adjacent(Geohash.adjacent(a,"n"),"w")}};if(typeof module!="undefined"&&module.exports){module.exports=Geohash}if(typeof define=="function"&&define.amd){define([],function(){return Geohash})}!function(d,g,c){var j=d.L,h={};h.version="0.7.2","object"==typeof module&&"object"==typeof module.exports?module.exports=h:"function"==typeof define&&define.amd&&define(h),h.noConflict=function(){return d.L=j,this},d.L=h,h.Util={extend:function(k){var m,a,q,p,l=Array.prototype.slice.call(arguments,1);for(a=0,q=l.length;q>a;a++){p=l[a]||{};for(m in p){p.hasOwnProperty(m)&&(k[m]=p[m])}}return k},bind:function(k,l){var a=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return k.apply(l,a||arguments)}},stamp:function(){var a=0,k="_leaflet_id";return function(e){return e[k]=e[k]||++a,e[k]}}(),invokeEach:function(k,l,a){var p,m;if("object"==typeof k){m=Array.prototype.slice.call(arguments,3);for(p in k){l.apply(a,[p,k[p]].concat(m))}return !0}return !1},limitExecByInterval:function(k,m,a){var q,p;return function l(){var e=arguments;return q?void (p=!0):(q=!0,setTimeout(function(){q=!1,p&&(l.apply(a,e),p=!1)},m),void k.apply(a,e))}},falseFn:function(){return !1},formatNum:function(k,l){var a=Math.pow(10,l||5);return Math.round(k*a)/a},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return h.Util.trim(a).split(/\s+/)},setOptions:function(a,k){return a.options=h.extend({},a.options,k),a.options},getParamString:function(k,l,a){var p=[];for(var m in k){p.push(encodeURIComponent(a?m.toUpperCase():m)+"="+encodeURIComponent(k[m]))}return(l&&-1!==l.indexOf("?")?"&":"?")+p.join("&")},template:function(a,k){return a.replace(/\{ *([\w_]+) *\}/g,function(e,m){var l=k[m];if(l===c){throw new Error("No value provided for variable "+e)}return"function"==typeof l&&(l=l(k)),l})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function o(q){var a,s,r=["webkit","moz","o","ms"];for(a=0;a<r.length&&!s;a++){s=d[r[a]+q]}return s}function l(n){var a=+new Date,q=Math.max(0,16-(a-p));return p=a+q,d.setTimeout(n,q)}var p=0,m=d.requestAnimationFrame||o("RequestAnimationFrame")||l,k=d.cancelAnimationFrame||o("CancelAnimationFrame")||o("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};h.Util.requestAnimFrame=function(t,u,q,s){return t=h.bind(t,u),q&&m===l?void t():m.call(d,t,s)},h.Util.cancelAnimFrame=function(a){a&&k.call(d,a)}}(),h.extend=h.Util.extend,h.bind=h.Util.bind,h.stamp=h.Util.stamp,h.setOptions=h.Util.setOptions,h.Class=function(){},h.Class.extend=function(m){var p=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},l=function(){};l.prototype=this.prototype;var q=new l;q.constructor=p,p.prototype=q;for(var o in this){this.hasOwnProperty(o)&&"prototype"!==o&&(p[o]=this[o])}m.statics&&(h.extend(p,m.statics),delete m.statics),m.includes&&(h.Util.extend.apply(null,[q].concat(m.includes)),delete m.includes),m.options&&q.options&&(m.options=h.extend({},q.options,m.options)),h.extend(q,m),q._initHooks=[];var k=this;return p.__super__=k.prototype,q.callInitHooks=function(){if(!this._initHooksCalled){k.prototype.callInitHooks&&k.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,n=q._initHooks.length;n>a;a++){q._initHooks[a].call(this)}}},p},h.Class.include=function(a){h.extend(this.prototype,a)},h.Class.mergeOptions=function(a){h.extend(this.prototype.options,a)},h.Class.addInitHook=function(k){var l=Array.prototype.slice.call(arguments,1),a="function"==typeof k?k:function(){this[k].apply(this,l)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a)};var f="_leaflet_events";h.Mixin={},h.Mixin.Events={addEventListener:function(B,w,s){if(h.Util.invokeEach(B,this.addEventListener,this,w,s)){return this}var o,z,k,v,q,A,y,x=this[f]=this[f]||{},m=s&&s!==this&&h.stamp(s);for(B=h.Util.splitWords(B),o=0,z=B.length;z>o;o++){k={action:w,context:s||this},v=B[o],m?(q=v+"_idx",A=q+"_len",y=x[q]=x[q]||{},y[m]||(y[m]=[],x[A]=(x[A]||0)+1),y[m].push(k)):(x[v]=x[v]||[],x[v].push(k))}return this},hasEventListeners:function(a){var k=this[f];return !!k&&(a in k&&k[a].length>0||a+"_idx" in k&&k[a+"_idx_len"]>0)},removeEventListener:function(E,y,w){if(!this[f]){return this}if(!E){return this.clearAllEventListeners()}if(h.Util.invokeEach(E,this.removeEventListener,this,y,w)){return this}var q,B,k,x,v,D,A,z,o,C=this[f],s=w&&w!==this&&h.stamp(w);for(E=h.Util.splitWords(E),q=0,B=E.length;B>q;q++){if(k=E[q],D=k+"_idx",A=D+"_len",z=C[D],y){if(x=s&&z?z[s]:C[k]){for(v=x.length-1;v>=0;v--){x[v].action!==y||w&&x[v].context!==w||(o=x.splice(v,1),o[0].action=h.Util.falseFn)}w&&z&&0===x.length&&(delete z[s],C[A]--)}}else{delete C[k],delete C[D],delete C[A]}}return this},clearAllEventListeners:function(){return delete this[f],this},fireEvent:function(x,s){if(!this.hasEventListeners(x)){return this}var p,m,v,k,q,o=h.Util.extend({},s,{type:x,target:this}),w=this[f];if(w[x]){for(p=w[x].slice(),m=0,v=p.length;v>m;m++){p[m].action.call(p[m].context,o)}}k=w[x+"_idx"];for(q in k){if(p=k[q].slice()){for(m=0,v=p.length;v>m;m++){p[m].action.call(p[m].context,o)}}}return this},addOneTimeEventListener:function(k,l,a){if(h.Util.invokeEach(k,this.addOneTimeEventListener,this,l,a)){return this}var m=h.bind(function(){this.removeEventListener(k,l,a).removeEventListener(k,m,a)},this);return this.addEventListener(k,l,a).addEventListener(k,m,a)}},h.Mixin.Events.on=h.Mixin.Events.addEventListener,h.Mixin.Events.off=h.Mixin.Events.removeEventListener,h.Mixin.Events.once=h.Mixin.Events.addOneTimeEventListener,h.Mixin.Events.fire=h.Mixin.Events.fireEvent,function(){var E="ActiveXObject" in d,B=E&&!g.addEventListener,N=navigator.userAgent.toLowerCase(),C=-1!==N.indexOf("webkit"),H=-1!==N.indexOf("chrome"),G=-1!==N.indexOf("phantom"),A=-1!==N.indexOf("android"),M=-1!==N.search("android [23]"),K=-1!==N.indexOf("gecko"),D=typeof orientation!=c+"",O=d.navigator&&d.navigator.msPointerEnabled&&d.navigator.msMaxTouchPoints&&!d.PointerEvent,F=d.PointerEvent&&d.navigator.pointerEnabled&&d.navigator.maxTouchPoints||O,J="devicePixelRatio" in d&&d.devicePixelRatio>1||"matchMedia" in d&&d.matchMedia("(min-resolution:2ddpx)")&&d.matchMedia("(min-resolution:2dppx)").matches,I=g.documentElement,z=E&&"transition" in I.style,o="WebKitCSSMatrix" in d&&"m11" in new d.WebKitCSSMatrix&&!M,e="MozPerspective" in I.style,k="OTransition" in I.style,q=!d.L_DISABLE_3D&&(z||o||e||k)&&!G,t=!d.L_NO_TOUCH&&!G&&function(){var l="ontouchstart";if(F||l in I){return !0}var a=g.createElement("div"),m=!1;return a.setAttribute?(a.setAttribute(l,"return;"),"function"==typeof a[l]&&(m=!0),a.removeAttribute(l),a=null,m):!1}();h.Browser={ie:E,ielt9:B,webkit:C,gecko:K&&!C&&!d.opera&&!E,android:A,android23:M,chrome:H,ie3d:z,webkit3d:o,gecko3d:e,opera3d:k,any3d:q,mobile:D,mobileWebkit:D&&C,mobileWebkit3d:D&&o,mobileOpera:D&&d.opera,touch:t,msPointer:O,pointer:F,retina:J}}(),h.Point=function(k,l,a){this.x=a?Math.round(k):k,this.y=a?Math.round(l):l},h.Point.prototype={clone:function(){return new h.Point(this.x,this.y)},add:function(a){return this.clone()._add(h.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(h.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(k){k=h.point(k);var l=k.x-this.x,a=k.y-this.y;return Math.sqrt(l*l+a*a)},equals:function(a){return a=h.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=h.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+h.Util.formatNum(this.x)+", "+h.Util.formatNum(this.y)+")"}},h.point=function(a,k,l){return a instanceof h.Point?a:h.Util.isArray(a)?new h.Point(a[0],a[1]):a===c||null===a?a:new h.Point(a,k,l)},h.Bounds=function(k,l){if(k){for(var a=l?[k,l]:k,p=0,m=a.length;m>p;p++){this.extend(a[p])}}},h.Bounds.prototype={extend:function(a){return a=h.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new h.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new h.Point(this.min.x,this.max.y)},getTopRight:function(){return new h.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(k){var l,a;return k="number"==typeof k[0]||k instanceof h.Point?h.point(k):h.bounds(k),k instanceof h.Bounds?(l=k.min,a=k.max):l=a=k,l.x>=this.min.x&&a.x<=this.max.x&&l.y>=this.min.y&&a.y<=this.max.y},intersects:function(m){m=h.bounds(m);var q=this.min,l=this.max,u=m.min,o=m.max,k=o.x>=q.x&&u.x<=l.x,p=o.y>=q.y&&u.y<=l.y;return k&&p},isValid:function(){return !(!this.min||!this.max)}},h.bounds=function(a,k){return !a||a instanceof h.Bounds?a:new h.Bounds(a,k)},h.Transformation=function(k,l,a,m){this._a=k,this._b=l,this._c=a,this._d=m},h.Transformation.prototype={transform:function(a,k){return this._transform(a.clone(),k)},_transform:function(a,k){return k=k||1,a.x=k*(this._a*a.x+this._b),a.y=k*(this._c*a.y+this._d),a},untransform:function(a,k){return k=k||1,new h.Point((a.x/k-this._b)/this._a,(a.y/k-this._d)/this._c)}},h.DomUtil={get:function(a){return"string"==typeof a?g.getElementById(a):a},getStyle:function(e,a){var l=e.style[a];if(!l&&e.currentStyle&&(l=e.currentStyle[a]),(!l||"auto"===l)&&g.defaultView){var k=g.defaultView.getComputedStyle(e,null);l=k?k[a]:null}return"auto"===l?null:l},getViewportOffset:function(x){var o,k=0,y=0,v=x,e=g.body,p=g.documentElement;do{if(k+=v.offsetTop||0,y+=v.offsetLeft||0,k+=parseInt(h.DomUtil.getStyle(v,"borderTopWidth"),10)||0,y+=parseInt(h.DomUtil.getStyle(v,"borderLeftWidth"),10)||0,o=h.DomUtil.getStyle(v,"position"),v.offsetParent===e&&"absolute"===o){break}if("fixed"===o){k+=e.scrollTop||p.scrollTop||0,y+=e.scrollLeft||p.scrollLeft||0;break}if("relative"===o&&!v.offsetLeft){var m=h.DomUtil.getStyle(v,"width"),w=h.DomUtil.getStyle(v,"max-width"),q=v.getBoundingClientRect();("none"!==m||"none"!==w)&&(y+=q.left+v.clientLeft),k+=q.top+(e.scrollTop||p.scrollTop||0);break}v=v.offsetParent}while(v);v=x;do{if(v===e){break}k-=v.scrollTop||0,y-=v.scrollLeft||0,v=v.parentNode}while(v);return new h.Point(y,k)},documentIsLtr:function(){return h.DomUtil._docIsLtrCached||(h.DomUtil._docIsLtrCached=!0,h.DomUtil._docIsLtr="ltr"===h.DomUtil.getStyle(g.body,"direction")),h.DomUtil._docIsLtr},create:function(e,a,l){var k=g.createElement(e);return k.className=a,l&&l.appendChild(k),k},hasClass:function(a,k){if(a.classList!==c){return a.classList.contains(k)}var l=h.DomUtil._getClass(a);return l.length>0&&new RegExp("(^|\\s)"+k+"(\\s|$)").test(l)},addClass:function(l,p){if(l.classList!==c){for(var q=h.Util.splitWords(p),m=0,k=q.length;k>m;m++){l.classList.add(q[m])}}else{if(!h.DomUtil.hasClass(l,p)){var o=h.DomUtil._getClass(l);h.DomUtil._setClass(l,(o?o+" ":"")+p)}}},removeClass:function(a,k){a.classList!==c?a.classList.remove(k):h.DomUtil._setClass(a,h.Util.trim((" "+h.DomUtil._getClass(a)+" ").replace(" "+k+" "," ")))},_setClass:function(a,k){a.className.baseVal===c?a.className=k:a.className.baseVal=k},_getClass:function(a){return a.className.baseVal===c?a.className:a.className.baseVal},setOpacity:function(k,l){if("opacity" in k.style){k.style.opacity=l}else{if("filter" in k.style){var a=!1,p="DXImageTransform.Microsoft.Alpha";try{a=k.filters.item(p)}catch(m){if(1===l){return}}l=Math.round(100*l),a?(a.Enabled=100!==l,a.Opacity=l):k.style.filter+=" progid:"+p+"(opacity="+l+")"}}},testProp:function(e){for(var a=g.documentElement.style,k=0;k<e.length;k++){if(e[k] in a){return e[k]}}return !1},getTranslateString:function(k){var l=h.Browser.webkit3d,a="translate"+(l?"3d":"")+"(",m=(l?",0":"")+")";return a+k.x+"px,"+k.y+"px"+m},getScaleString:function(k,l){var a=h.DomUtil.getTranslateString(l.add(l.multiplyBy(-1*k))),m=" scale("+k+") ";return a+m},setPosition:function(k,l,a){k._leaflet_pos=l,!a&&h.Browser.any3d?k.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(l):(k.style.left=l.x+"px",k.style.top=l.y+"px")},getPosition:function(a){return a._leaflet_pos}},h.DomUtil.TRANSFORM=h.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),h.DomUtil.TRANSITION=h.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),h.DomUtil.TRANSITION_END="webkitTransition"===h.DomUtil.TRANSITION||"OTransition"===h.DomUtil.TRANSITION?h.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart" in g){h.extend(h.DomUtil,{disableTextSelection:function(){h.DomEvent.on(d,"selectstart",h.DomEvent.preventDefault)},enableTextSelection:function(){h.DomEvent.off(d,"selectstart",h.DomEvent.preventDefault)}})}else{var a=h.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);h.extend(h.DomUtil,{disableTextSelection:function(){if(a){var e=g.documentElement.style;this._userSelect=e[a],e[a]="none"}},enableTextSelection:function(){a&&(g.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}h.extend(h.DomUtil,{disableImageDrag:function(){h.DomEvent.on(d,"dragstart",h.DomEvent.preventDefault)},enableImageDrag:function(){h.DomEvent.off(d,"dragstart",h.DomEvent.preventDefault)}})}(),h.LatLng=function(a,k,l){if(a=parseFloat(a),k=parseFloat(k),isNaN(a)||isNaN(k)){throw new Error("Invalid LatLng object: ("+a+", "+k+")")}this.lat=a,this.lng=k,l!==c&&(this.alt=parseFloat(l))},h.extend(h.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),h.LatLng.prototype={equals:function(a){if(!a){return !1}a=h.latLng(a);var k=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return k<=h.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+h.Util.formatNum(this.lat,a)+", "+h.Util.formatNum(this.lng,a)+")"},distanceTo:function(y){y=h.latLng(y);var v=6378137,p=h.LatLng.DEG_TO_RAD,m=(y.lat-this.lat)*p,z=(y.lng-this.lng)*p,w=this.lat*p,k=y.lat*p,q=Math.sin(m/2),o=Math.sin(z/2),x=q*q+o*o*Math.cos(w)*Math.cos(k);return 2*v*Math.atan2(Math.sqrt(x),Math.sqrt(1-x))},wrap:function(k,l){var a=this.lng;return k=k||-180,l=l||180,a=(a+l)%(l-k)+(k>a||a===l?l:k),new h.LatLng(this.lat,a)}},h.latLng=function(a,k){return a instanceof h.LatLng?a:h.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new h.LatLng(a[0],a[1],a[2]):null:a===c||null===a?a:"object"==typeof a&&"lat" in a?new h.LatLng(a.lat,"lng" in a?a.lng:a.lon):k===c?null:new h.LatLng(a,k)},h.LatLngBounds=function(k,l){if(k){for(var a=l?[k,l]:k,p=0,m=a.length;m>p;p++){this.extend(a[p])}}},h.LatLngBounds.prototype={extend:function(a){if(!a){return this}var k=h.latLng(a);return a=null!==k?k:h.latLngBounds(a),a instanceof h.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new h.LatLng(a.lat,a.lng),this._northEast=new h.LatLng(a.lat,a.lng)):a instanceof h.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(k){var m=this._southWest,a=this._northEast,o=Math.abs(m.lat-a.lat)*k,l=Math.abs(m.lng-a.lng)*k;return new h.LatLngBounds(new h.LatLng(m.lat-o,m.lng-l),new h.LatLng(a.lat+o,a.lng+l))},getCenter:function(){return new h.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new h.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new h.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(k){k="number"==typeof k[0]||k instanceof h.LatLng?h.latLng(k):h.latLngBounds(k);var m,a,o=this._southWest,l=this._northEast;return k instanceof h.LatLngBounds?(m=k.getSouthWest(),a=k.getNorthEast()):m=a=k,m.lat>=o.lat&&a.lat<=l.lat&&m.lng>=o.lng&&a.lng<=l.lng},intersects:function(m){m=h.latLngBounds(m);var q=this._southWest,l=this._northEast,u=m.getSouthWest(),o=m.getNorthEast(),k=o.lat>=q.lat&&u.lat<=l.lat,p=o.lng>=q.lng&&u.lng<=l.lng;return k&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=h.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return !(!this._southWest||!this._northEast)}},h.latLngBounds=function(a,k){return !a||a instanceof h.LatLngBounds?a:new h.LatLngBounds(a,k)},h.Projection={},h.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(m){var p=h.LatLng.DEG_TO_RAD,l=this.MAX_LATITUDE,q=Math.max(Math.min(l,m.lat),-l),o=m.lng*p,k=q*p;return k=Math.log(Math.tan(Math.PI/4+k/2)),new h.Point(o,k)},unproject:function(k){var l=h.LatLng.RAD_TO_DEG,a=k.x*l,m=(2*Math.atan(Math.exp(k.y))-Math.PI/2)*l;return new h.LatLng(m,a)}},h.Projection.LonLat={project:function(a){return new h.Point(a.lng,a.lat)},unproject:function(a){return new h.LatLng(a.y,a.x)}},h.CRS={latLngToPoint:function(k,l){var a=this.projection.project(k),m=this.scale(l);return this.transformation._transform(a,m)},pointToLatLng:function(k,l){var a=this.scale(l),m=this.transformation.untransform(k,a);return this.projection.unproject(m)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var k=this.scale(a);return h.point(k,k)}},h.CRS.Simple=h.extend({},h.CRS,{projection:h.Projection.LonLat,transformation:new h.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),h.CRS.EPSG3857=h.extend({},h.CRS,{code:"EPSG:3857",projection:h.Projection.SphericalMercator,transformation:new h.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(k){var l=this.projection.project(k),a=6378137;return l.multiplyBy(a)}}),h.CRS.EPSG900913=h.extend({},h.CRS.EPSG3857,{code:"EPSG:900913"}),h.CRS.EPSG4326=h.extend({},h.CRS,{code:"EPSG:4326",projection:h.Projection.LonLat,transformation:new h.Transformation(1/360,0.5,-1/360,0.5)}),h.Map=h.Class.extend({includes:h.Mixin.Events,options:{crs:h.CRS.EPSG3857,fadeAnimation:h.DomUtil.TRANSITION&&!h.Browser.android23,trackResize:!0,markerZoomAnimation:h.DomUtil.TRANSITION&&h.Browser.any3d},initialize:function(a,k){k=h.setOptions(this,k),this._initContainer(a),this._initLayout(),this._onResize=h.bind(this._onResize,this),this._initEvents(),k.maxBounds&&this.setMaxBounds(k.maxBounds),k.center&&k.zoom!==c&&this.setView(h.latLng(k.center),k.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(k.layers)},setView:function(a,k){return k=k===c?this.getZoom():k,this._resetView(h.latLng(a),this._limitZoom(k)),this},setZoom:function(a,k){return this._loaded?this.setView(this.getCenter(),a,{zoom:k}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,k){return this.setZoom(this._zoom+(a||1),k)},zoomOut:function(a,k){return this.setZoom(this._zoom-(a||1),k)},setZoomAround:function(m,u,l){var v=this.getZoomScale(u),p=this.getSize().divideBy(2),k=m instanceof h.Point?m:this.latLngToContainerPoint(m),q=k.subtract(p).multiplyBy(1-1/v),o=this.containerPointToLatLng(p.add(q));return this.setView(o,u,{zoom:l})},fitBounds:function(w,u){u=u||{},w=w.getBounds?w.getBounds():h.latLngBounds(w);var p=h.point(u.paddingTopLeft||u.padding||[0,0]),m=h.point(u.paddingBottomRight||u.padding||[0,0]),x=this.getBoundsZoom(w,!1,p.add(m)),v=m.subtract(p).divideBy(2),k=this.project(w.getSouthWest(),x),q=this.project(w.getNorthEast(),x),o=this.unproject(k.add(q).divideBy(2).add(v),x);return x=u&&u.maxZoom?Math.min(u.maxZoom,x):x,this.setView(o,x,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,k){return this.setView(a,this._zoom,{pan:k})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(h.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=h.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(k,l){var a=this.getCenter(),m=this._limitCenter(a,this._zoom,k);return a.equals(m)?this:this.panTo(m,l)},addLayer:function(a){var k=h.stamp(a);return this._layers[k]?this:(this._layers[k]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[k]=a,this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&a instanceof h.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var k=h.stamp(a);return this._layers[k]?(this._loaded&&a.onRemove(this),delete this._layers[k],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[k]&&(delete this._zoomBoundLayers[k],this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&a instanceof h.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?h.stamp(a) in this._layers:!1},eachLayer:function(k,l){for(var a in this._layers){k.call(l,this._layers[a])}return this},invalidateSize:function(m){if(!this._loaded){return this}m=h.extend({animate:!1,pan:!0},m===!0?{animate:!0}:m);var p=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var l=this.getSize(),q=p.divideBy(2).round(),o=l.divideBy(2).round(),k=q.subtract(o);return k.x||k.y?(m.animate&&m.pan?this.panBy(k):(m.pan&&this._rawPanBy(k),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:l})):this},addHandler:function(k,l){if(!l){return this}var a=this[k]=new l(this);return this._handlers.push(a),this.options[k]&&a.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=c}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var k=this.getPixelBounds(),l=this.unproject(k.getBottomLeft()),a=this.unproject(k.getTopRight());return new h.LatLngBounds(l,a)},getMinZoom:function(){return this.options.minZoom===c?this._layersMinZoom===c?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===c?this._layersMaxZoom===c?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(y,v,p){y=h.latLngBounds(y);var m,z=this.getMinZoom()-(v?1:0),w=this.getMaxZoom(),k=this.getSize(),q=y.getNorthWest(),o=y.getSouthEast(),x=!0;p=h.point(p||[0,0]);do{z++,m=this.project(o,z).subtract(this.project(q,z)).add(p),x=v?m.x<k.x||m.y<k.y:k.contains(m)}while(x&&w>=z);return x&&v?null:v?z:z-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new h.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new h.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var k=this.options.crs;return k.scale(a)/k.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,k){return k=k===c?this._zoom:k,this.options.crs.latLngToPoint(h.latLng(a),k)},unproject:function(a,k){return k=k===c?this._zoom:k,this.options.crs.pointToLatLng(h.point(a),k)},layerPointToLatLng:function(a){var k=h.point(a).add(this.getPixelOrigin());return this.unproject(k)},latLngToLayerPoint:function(a){var k=this.project(h.latLng(a))._round();return k._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return h.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return h.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var k=this.containerPointToLayerPoint(h.point(a));return this.layerPointToLatLng(k)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(h.latLng(a)))},mouseEventToContainerPoint:function(a){return h.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var k=this._container=h.DomUtil.get(a);if(!k){throw new Error("Map container not found.")}if(k._leaflet){throw new Error("Map container is already initialized.")}k._leaflet=!0},_initLayout:function(){var a=this._container;h.DomUtil.addClass(a,"leaflet-container"+(h.Browser.touch?" leaflet-touch":"")+(h.Browser.retina?" leaflet-retina":"")+(h.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var k=h.DomUtil.getStyle(a,"position");"absolute"!==k&&"relative"!==k&&"fixed"!==k&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var k=" leaflet-zoom-hide";this.options.markerZoomAnimation||(h.DomUtil.addClass(a.markerPane,k),h.DomUtil.addClass(a.shadowPane,k),h.DomUtil.addClass(a.popupPane,k))},_createPane:function(a,k){return h.DomUtil.create("div",a,k||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(k){k=k?h.Util.isArray(k)?k:[k]:[];for(var l=0,a=k.length;a>l;l++){this.addLayer(k[l])}},_resetView:function(m,p,l,q){var o=this._zoom!==p;q||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=p,this._initialCenter=m,this._initialTopLeftPoint=this._getNewTopLeftPoint(m),l?this._initialTopLeftPoint._add(this._getMapPanePos()):h.DomUtil.setPosition(this._mapPane,new h.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var k=!this._loaded;this._loaded=!0,k&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!l}),this.fire("move"),(o||q)&&this.fire("zoomend"),this.fire("moveend",{hard:!l})},_rawPanBy:function(a){h.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,l=1/0,p=-1/0,m=this._getZoomSpan();for(a in this._zoomBoundLayers){var k=this._zoomBoundLayers[a];isNaN(k.options.minZoom)||(l=Math.min(l,k.options.minZoom)),isNaN(k.options.maxZoom)||(p=Math.max(p,k.options.maxZoom))}a===c?this._layersMaxZoom=this._layersMinZoom=c:(this._layersMaxZoom=p,this._layersMinZoom=l),m!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(l){if(h.DomEvent){l=l||"on",h.DomEvent[l](this._container,"click",this._onMouseClick,this);var a,m,k=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(a=0,m=k.length;m>a;a++){h.DomEvent[l](this._container,k[a],this._fireMouseEvent,this)}this.options.trackResize&&h.DomEvent[l](d,"resize",this._onResize,this)}},_onResize:function(){h.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=h.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||h.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(k){if(this._loaded&&!h.DomEvent._skipped(k)){var m=k.type;if(m="mouseenter"===m?"mouseover":"mouseleave"===m?"mouseout":m,this.hasEventListeners(m)){"contextmenu"===m&&h.DomEvent.preventDefault(k);var a=this.mouseEventToContainerPoint(k),o=this.containerPointToLayerPoint(a),l=this.layerPointToLatLng(o);this.fire(m,{latlng:l,layerPoint:o,containerPoint:a,originalEvent:k})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,k=this._handlers.length;k>a;a++){this._handlers[a].disable()}},whenReady:function(a,k){return this._loaded?a.call(k||this,this):this.on("load",a,k),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return h.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(k,l){var a=this.getSize()._divideBy(2);return this.project(k,l)._subtract(a)._round()},_latLngToNewLayerPoint:function(k,l,a){var m=this._getNewTopLeftPoint(a,l).add(this._getMapPanePos());return this.project(k,l)._subtract(m)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,q,l){if(!l){return m}var u=this.project(m,q),o=this.getSize().divideBy(2),k=new h.Bounds(u.subtract(o),u.add(o)),p=this._getBoundsOffset(k,l,q);return this.unproject(u.add(p),q)},_limitOffset:function(k,l){if(!l){return k}var a=this.getPixelBounds(),m=new h.Bounds(a.min.add(k),a.max.add(k));return k.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(m,q,l){var u=this.project(q.getNorthWest(),l).subtract(m.min),o=this.project(q.getSouthEast(),l).subtract(m.max),k=this._rebound(u.x,-o.x),p=this._rebound(u.y,-o.y);return new h.Point(k,p)},_rebound:function(a,k){return a+k>0?Math.round(a-k)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(k))},_limitZoom:function(k){var l=this.getMinZoom(),a=this.getMaxZoom();return Math.max(l,Math.min(a,k))}}),h.map=function(a,k){return new h.Map(a,k)},h.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(A){var v=h.LatLng.DEG_TO_RAD,p=this.MAX_LATITUDE,m=Math.max(Math.min(p,A.lat),-p),B=this.R_MAJOR,y=this.R_MINOR,k=A.lng*v*B,q=m*v,o=y/B,z=Math.sqrt(1-o*o),x=z*Math.sin(q);x=Math.pow((1-x)/(1+x),0.5*z);var w=Math.tan(0.5*(0.5*Math.PI-q))/x;return q=-B*Math.log(w),new h.Point(k,q)},unproject:function(D){for(var x,v=h.LatLng.RAD_TO_DEG,o=this.R_MAJOR,E=this.R_MINOR,A=D.x*v/o,k=E/o,w=Math.sqrt(1-k*k),q=Math.exp(-D.y/o),C=Math.PI/2-2*Math.atan(q),z=15,y=1e-7,m=z,B=0.1;Math.abs(B)>y&&--m>0;){x=w*Math.sin(C),B=Math.PI/2-2*Math.atan(q*Math.pow((1-x)/(1+x),0.5*w))-C,C+=B}return new h.LatLng(C*v,A)}},h.CRS.EPSG3395=h.extend({},h.CRS,{code:"EPSG:3395",projection:h.Projection.Mercator,transformation:function(){var k=h.Projection.Mercator,l=k.R_MAJOR,a=0.5/(Math.PI*l);return new h.Transformation(a,0.5,-a,0.5)}()}),h.TileLayer=h.Class.extend({includes:h.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:h.Browser.mobile,updateWhenIdle:h.Browser.mobile},initialize:function(k,l){l=h.setOptions(this,l),l.detectRetina&&h.Browser.retina&&l.maxZoom>0&&(l.tileSize=Math.floor(l.tileSize/2),l.zoomOffset++,l.minZoom>0&&l.minZoom--,this.options.maxZoom--),l.bounds&&(l.bounds=h.latLngBounds(l.bounds)),this._url=k;var a=this.options.subdomains;"string"==typeof a&&(this.options.subdomains=a.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=h.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,k){return this._url=a,k||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==c&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m,q){var l,u,r,p=m.children,k=-q(1/0,-1/0);for(u=0,r=p.length;r>u;u++){p[u]!==this._container&&(l=parseInt(p[u].style.zIndex,10),isNaN(l)||(k=q(k,l)))}this.options.zIndex=this._container.style.zIndex=(isFinite(k)?k:0)+q(1,-1)},_updateOpacity:function(){var a,k=this._tiles;if(h.Browser.ielt9){for(a in k){h.DomUtil.setOpacity(k[a],this.options.opacity)}}else{h.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=h.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var k="leaflet-tile-container";this._bgBuffer=h.DomUtil.create("div",k,this._container),this._tileContainer=h.DomUtil.create("div",k,this._container)}else{this._tileContainer=this._container}a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var k in this._tiles){this.fire("tileunload",{tile:this._tiles[k]})}this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var k=this._map,l=k.getZoom()+this.options.zoomOffset,a=this.options.maxNativeZoom,m=this.options.tileSize;return a&&l>a&&(m=Math.round(k.getZoomScale(l)/k.getZoomScale(a)*m)),m},_update:function(){if(this._map){var k=this._map,m=k.getPixelBounds(),a=k.getZoom(),o=this._getTileSize();if(!(a>this.options.maxZoom||a<this.options.minZoom)){var l=h.bounds(m.min.divideBy(o)._floor(),m.max.divideBy(o)._floor());this._addTilesFromCenterOut(l),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(l)}}},_addTilesFromCenterOut:function(o){var m,v,q,k=[],u=o.getCenter();for(m=o.min.y;m<=o.max.y;m++){for(v=o.min.x;v<=o.max.x;v++){q=new h.Point(v,m),this._tileShouldBeLoaded(q)&&k.push(q)}}var p=k.length;if(0!==p){k.sort(function(a,l){return a.distanceTo(u)-l.distanceTo(u)});var e=g.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=p,v=0;p>v;v++){this._addTile(k[v],e)}this._tileContainer.appendChild(e)}},_tileShouldBeLoaded:function(m){if(m.x+":"+m.y in this._tiles){return !1}var u=this.options;if(!u.continuousWorld){var l=this._getWrapTileNum();if(u.noWrap&&(m.x<0||m.x>=l.x)||m.y<0||m.y>=l.y){return !1}}if(u.bounds){var w=u.tileSize,v=m.multiplyBy(w),p=v.add([w,w]),k=this._map.unproject(v),q=this._map.unproject(p);if(u.continuousWorld||u.noWrap||(k=k.wrap(),q=q.wrap()),!u.bounds.intersects([k,q])){return !1}}return !0},_removeOtherTiles:function(k){var l,a,p,m;for(m in this._tiles){l=m.split(":"),a=parseInt(l[0],10),p=parseInt(l[1],10),(a<k.min.x||a>k.max.x||p<k.min.y||p>k.max.y)&&this._removeTile(m)}},_removeTile:function(a){var k=this._tiles[a];this.fire("tileunload",{tile:k,url:k.src}),this.options.reuseTiles?(h.DomUtil.removeClass(k,"leaflet-tile-loaded"),this._unusedTiles.push(k)):k.parentNode===this._tileContainer&&this._tileContainer.removeChild(k),h.Browser.android||(k.onload=null,k.src=h.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(k,l){var a=this._getTilePos(k),m=this._getTile();h.DomUtil.setPosition(m,a,h.Browser.chrome),this._tiles[k.x+":"+k.y]=m,this._loadTile(m,k),m.parentNode!==this._tileContainer&&l.appendChild(m)},_getZoomForUrl:function(){var a=this.options,k=this._map.getZoom();return a.zoomReverse&&(k=a.maxZoom-k),k+=a.zoomOffset,a.maxNativeZoom?Math.min(k,a.maxNativeZoom):k},_getTilePos:function(k){var l=this._map.getPixelOrigin(),a=this._getTileSize();return k.multiplyBy(a).subtract(l)},getTileUrl:function(a){return h.Util.template(this._url,h.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs,k=a.getSize(this._map.getZoom());return k.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(a){var k=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%k.x+k.x)%k.x),this.options.tms&&(a.y=k.y-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var k=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[k]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=h.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=h.Util.falseFn,h.Browser.ielt9&&this.options.opacity!==c&&h.DomUtil.setOpacity(a,this.options.opacity),h.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,k){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(k),a.src=this.getTileUrl(k),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&h.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(h.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==h.Util.emptyImageUrl&&(h.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var k=a.options.errorTileUrl;k&&(this.src=k),a._tileLoaded()}}),h.tileLayer=function(a,k){return new h.TileLayer(a,k)},h.TileLayer.WMS=h.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(k,m){this._url=k;var a=h.extend({},this.defaultWmsParams),o=m.tileSize||this.options.tileSize;a.width=a.height=m.detectRetina&&h.Browser.retina?2*o:o;for(var l in m){this.options.hasOwnProperty(l)||"crs"===l||(a[l]=m[l])}this.wmsParams=a,h.setOptions(this,m)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var k=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[k]=this._crs.code,h.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(w){var u=this._map,p=this.options.tileSize,m=w.multiplyBy(p),x=m.add([p,p]),v=this._crs.project(u.unproject(m,w.z)),k=this._crs.project(u.unproject(x,w.z)),q=this._wmsVersion>=1.3&&this._crs===h.CRS.EPSG4326?[k.y,v.x,v.y,k.x].join(","):[v.x,k.y,k.x,v.y].join(","),o=h.Util.template(this._url,{s:this._getSubdomain(w)});return o+h.Util.getParamString(this.wmsParams,o,!0)+"&BBOX="+q},setParams:function(a,k){return h.extend(this.wmsParams,a),k||this.redraw(),this}}),h.tileLayer.wms=function(a,k){return new h.TileLayer.WMS(a,k)},h.TileLayer.Canvas=h.TileLayer.extend({options:{async:!1},initialize:function(a){h.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles){this._redrawTile(this._tiles[a])}return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=h.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=h.Util.falseFn,a},_loadTile:function(a,k){a._layer=this,a._tilePoint=k,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),h.tileLayer.canvas=function(a){return new h.TileLayer.Canvas(a)},h.ImageOverlay=h.Class.extend({includes:h.Mixin.Events,options:{opacity:1},initialize:function(k,l,a){this._url=k,this._bounds=h.latLngBounds(l),h.setOptions(this,a)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&h.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=h.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&h.Browser.any3d?h.DomUtil.addClass(this._image,"leaflet-zoom-animated"):h.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),h.extend(this._image,{galleryimg:"no",onselectstart:h.Util.falseFn,onmousemove:h.Util.falseFn,onload:h.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(w){var u=this._map,p=this._image,m=u.getZoomScale(w.zoom),x=this._bounds.getNorthWest(),v=this._bounds.getSouthEast(),k=u._latLngToNewLayerPoint(x,w.zoom,w.center),q=u._latLngToNewLayerPoint(v,w.zoom,w.center)._subtract(k),o=k._add(q._multiplyBy(0.5*(1-1/m)));p.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(o)+" scale("+m+") "},_reset:function(){var k=this._image,l=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),a=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(l);h.DomUtil.setPosition(k,l),k.style.width=a.x+"px",k.style.height=a.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){h.DomUtil.setOpacity(this._image,this.options.opacity)}}),h.imageOverlay=function(k,l,a){return new h.ImageOverlay(k,l,a)},h.Icon=h.Class.extend({options:{className:""},initialize:function(a){h.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(k,l){var a=this._getIconUrl(k);if(!a){if("icon"===k){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var m;return m=l&&"IMG"===l.tagName?this._createImg(a,l):this._createImg(a),this._setIconStyles(m,k),m},_setIconStyles:function(k,m){var a,o=this.options,l=h.point(o[m+"Size"]);a=h.point("shadow"===m?o.shadowAnchor||o.iconAnchor:o.iconAnchor),!a&&l&&(a=l.divideBy(2,!0)),k.className="leaflet-marker-"+m+" "+o.className,a&&(k.style.marginLeft=-a.x+"px",k.style.marginTop=-a.y+"px"),l&&(k.style.width=l.x+"px",k.style.height=l.y+"px")},_createImg:function(e,a){return a=a||g.createElement("img"),a.src=e,a},_getIconUrl:function(a){return h.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),h.icon=function(a){return new h.Icon(a)},h.Icon.Default=h.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(k){var l=k+"Url";if(this.options[l]){return this.options[l]}h.Browser.retina&&"icon"===k&&(k+="-2x");var a=h.Icon.Default.imagePath;if(!a){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return a+"/marker-"+k+".png"}}),h.Icon.Default.imagePath=function(){var l,k,u,q,m,e=g.getElementsByTagName("script"),p=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(l=0,k=e.length;k>l;l++){if(u=e[l].src,q=u.match(p)){return m=u.split(p)[0],(m?m+"/":"")+"images"}}}(),h.Marker=h.Class.extend({includes:h.Mixin.Events,options:{icon:new h.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,k){h.setOptions(this,k),this._latlng=h.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=h.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var w=this.options,u=this._map,p=u.options.zoomAnimation&&u.options.markerZoomAnimation,m=p?"leaflet-zoom-animated":"leaflet-zoom-hide",x=w.icon.createIcon(this._icon),v=!1;x!==this._icon&&(this._icon&&this._removeIcon(),v=!0,w.title&&(x.title=w.title),w.alt&&(x.alt=w.alt)),h.DomUtil.addClass(x,m),w.keyboard&&(x.tabIndex="0"),this._icon=x,this._initInteraction(),w.riseOnHover&&h.DomEvent.on(x,"mouseover",this._bringToFront,this).on(x,"mouseout",this._resetZIndex,this);var k=w.icon.createShadow(this._shadow),q=!1;k!==this._shadow&&(this._removeShadow(),q=!0),k&&h.DomUtil.addClass(k,m),this._shadow=k,w.opacity<1&&this._updateOpacity();var o=this._map._panes;v&&o.markerPane.appendChild(this._icon),k&&q&&o.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&h.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){h.DomUtil.setPosition(this._icon,a),this._shadow&&h.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var k=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(k)},_initInteraction:function(){if(this.options.clickable){var k=this._icon,l=["dblclick","mousedown","mouseover","mouseout","contextmenu"];h.DomUtil.addClass(k,"leaflet-clickable"),h.DomEvent.on(k,"click",this._onMouseClick,this),h.DomEvent.on(k,"keypress",this._onKeyPress,this);for(var a=0;a<l.length;a++){h.DomEvent.on(k,l[a],this._fireMouseEvent,this)}h.Handler.MarkerDrag&&(this.dragging=new h.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var k=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||k)&&h.DomEvent.stopPropagation(a),k||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&h.DomEvent.preventDefault(a),"mousedown"!==a.type?h.DomEvent.stopPropagation(a):h.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){h.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&h.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),h.marker=function(a,k){return new h.Marker(a,k)},h.DivIcon=h.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var a=e&&"DIV"===e.tagName?e:g.createElement("div"),k=this.options;return a.innerHTML=k.html!==!1?k.html:"",k.bgPos&&(a.style.backgroundPosition=-k.bgPos.x+"px "+-k.bgPos.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}),h.divIcon=function(a){return new h.DivIcon(a)},h.Map.mergeOptions({closePopupOnClick:!0}),h.Popup=h.Class.extend({includes:h.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,k){h.setOptions(this,a),this._source=k,this._animated=h.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout();var k=a.options.fadeAnimation;k&&h.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this.update(),k&&h.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),h.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&h.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=h.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick" in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var k,m="leaflet-popup",a=m+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),o=this._container=h.DomUtil.create("div",a);this.options.closeButton&&(k=this._closeButton=h.DomUtil.create("a",m+"-close-button",o),k.href="#close",k.innerHTML="&#215;",h.DomEvent.disableClickPropagation(k),h.DomEvent.on(k,"click",this._onCloseButtonClick,this));var l=this._wrapper=h.DomUtil.create("div",m+"-content-wrapper",o);h.DomEvent.disableClickPropagation(l),this._contentNode=h.DomUtil.create("div",m+"-content",l),h.DomEvent.disableScrollPropagation(this._contentNode),h.DomEvent.on(l,"contextmenu",h.DomEvent.stopPropagation),this._tipContainer=h.DomUtil.create("div",m+"-tip-container",o),this._tip=h.DomUtil.create("div",m+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content){this._contentNode.innerHTML=this._content}else{for(;this._contentNode.hasChildNodes();){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var m=this._contentNode,p=m.style;p.width="",p.whiteSpace="nowrap";var l=m.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),p.width=l+1+"px",p.whiteSpace="",p.height="";var q=m.offsetHeight,o=this.options.maxHeight,k="leaflet-popup-scrolled";o&&q>o?(p.height=o+"px",h.DomUtil.addClass(m,k)):h.DomUtil.removeClass(m,k),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var k=this._map.latLngToLayerPoint(this._latlng),l=this._animated,a=h.point(this.options.offset);l&&h.DomUtil.setPosition(this._container,k),this._containerBottom=-a.y-(l?0:k.y),this._containerLeft=-Math.round(this._containerWidth/2)+a.x+(l?0:k.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var k=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);h.DomUtil.setPosition(this._container,k)},_adjustPan:function(){if(this.options.autoPan){var z=this._map,v=this._container.offsetHeight,p=this._containerWidth,m=new h.Point(this._containerLeft,-v-this._containerBottom);this._animated&&m._add(h.DomUtil.getPosition(this._container));var A=z.layerPointToContainerPoint(m),x=h.point(this.options.autoPanPadding),k=h.point(this.options.autoPanPaddingTopLeft||x),q=h.point(this.options.autoPanPaddingBottomRight||x),o=z.getSize(),y=0,w=0;A.x+p+q.x>o.x&&(y=A.x+p-o.x+q.x),A.x-y-k.x<0&&(y=A.x-k.x),A.y+v+q.y>o.y&&(w=A.y+v-o.y+q.y),A.y-w-k.y<0&&(w=A.y-k.y),(y||w)&&z.fire("autopanstart").panBy([y,w])}},_onCloseButtonClick:function(a){this._close(),h.DomEvent.stop(a)}}),h.popup=function(a,k){return new h.Popup(a,k)},h.Map.include({openPopup:function(k,l,a){if(this.closePopup(),!(k instanceof h.Popup)){var m=k;k=new h.Popup(a).setLatLng(l).setContent(m)}return k._isOpen=!0,this._popup=k,this.addLayer(k)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),h.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(k,l){var a=h.point(this.options.icon.options.popupAnchor||[0,0]);return a=a.add(h.Popup.prototype.options.offset),l&&l.offset&&(a=a.add(l.offset)),l=h.extend({offset:a},l),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),k instanceof h.Popup?(h.setOptions(k,l),this._popup=k):this._popup=new h.Popup(l,this).setContent(k),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),h.LayerGroup=h.Class.extend({initialize:function(k){this._layers={};var l,a;if(k){for(l=0,a=k.length;a>l;l++){this.addLayer(k[l])}}},addLayer:function(a){var k=this.getLayerId(a);return this._layers[k]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var k=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[k]&&this._map.removeLayer(this._layers[k]),delete this._layers[k],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a) in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(k){var l,a,m=Array.prototype.slice.call(arguments,1);for(l in this._layers){a=this._layers[l],a[k]&&a[k].apply(a,m)}return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(k,l){for(var a in this._layers){k.call(l,this._layers[a])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var k in this._layers){a.push(this._layers[k])}return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return h.stamp(a)}}),h.layerGroup=function(a){return new h.LayerGroup(a)},h.FeatureGroup=h.LayerGroup.extend({includes:h.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on" in a&&a.on(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,k){return this._popupContent=a,this._popupOptions=k,this.invoke("bindPopup",a,k)},openPopup:function(a){for(var k in this._layers){this._layers[k].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new h.LatLngBounds;return this.eachLayer(function(k){a.extend(k instanceof h.Marker?k.getLatLng():k.getBounds())}),a},_propagateEvent:function(a){a=h.extend({layer:a.target,target:this},a),this.fire(a.type,a)}}),h.featureGroup=function(a){return new h.FeatureGroup(a)},h.Path=h.Class.extend({includes:[h.Mixin.Events],statics:{CLIP_PADDING:function(){var k=h.Browser.mobile?1280:2000,a=(k/Math.max(d.outerWidth,d.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){h.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,h.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return h.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),h.Map.include({_updatePathViewport:function(){var k=h.Path.CLIP_PADDING,m=this.getSize(),a=h.DomUtil.getPosition(this._mapPane),o=a.multiplyBy(-1)._subtract(m.multiplyBy(k)._round()),l=o.add(m.multiplyBy(1+2*k)._round());this._pathViewport=new h.Bounds(o,l)}}),h.Path.SVG_NS="http://www.w3.org/2000/svg",h.Browser.svg=!(!g.createElementNS||!g.createElementNS(h.Path.SVG_NS,"svg").createSVGRect),h.Path=h.Path.extend({statics:{SVG:h.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,k=this._container;return k&&a.lastChild!==k&&a.appendChild(k),this},bringToBack:function(){var k=this._map._pathRoot,l=this._container,a=k.firstChild;return l&&a!==l&&k.insertBefore(l,a),this},getPathString:function(){},_createElement:function(a){return g.createElementNS(h.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&h.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(h.Browser.svg||!h.Browser.vml)&&h.DomUtil.addClass(this._path,"leaflet-clickable"),h.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],k=0;k<a.length;k++){h.DomEvent.on(this._container,a[k],this._fireMouseEvent,this)}}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(k){if(this.hasEventListeners(k.type)){var m=this._map,a=m.mouseEventToContainerPoint(k),o=m.containerPointToLayerPoint(a),l=m.layerPointToLatLng(o);this.fire(k.type,{latlng:l,layerPoint:o,containerPoint:a,originalEvent:k}),"contextmenu"===k.type&&h.DomEvent.preventDefault(k),"mousemove"!==k.type&&h.DomEvent.stopPropagation(k)}}}),h.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=h.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&h.Browser.any3d?(h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(k){var l=this.getZoomScale(k.zoom),a=this._getCenterOffset(k.center)._multiplyBy(-l)._add(this._pathViewport.min);this._pathRoot.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(a)+" scale("+l+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var m=this._pathViewport,q=m.min,l=m.max,u=l.x-q.x,o=l.y-q.y,k=this._pathRoot,p=this._panes.overlayPane;h.Browser.mobileWebkit&&p.removeChild(k),h.DomUtil.setPosition(k,q),k.setAttribute("width",u),k.setAttribute("height",o),k.setAttribute("viewBox",[q.x,q.y,u,o].join(" ")),h.Browser.mobileWebkit&&p.appendChild(k)}}}),h.Path.include({bindPopup:function(a,k){return a instanceof h.Popup?this._popup=a:((!this._popup||k)&&(this._popup=new h.Popup(k,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),h.Browser.vml=!h.Browser.svg&&function(){try{var e=g.createElement("div");e.innerHTML='<v:shape adj="1"/>';var a=e.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(k){return !1}}(),h.Path=h.Browser.svg||!h.Browser.vml?h.Path:h.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return g.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return g.createElement("<lvml:"+e+' class="lvml">')}}catch(a){return function(e){return g.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");h.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&h.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var k=this._stroke,l=this._fill,a=this.options,m=this._container;m.stroked=a.stroke,m.filled=a.fill,a.stroke?(k||(k=this._stroke=this._createElement("stroke"),k.endcap="round",m.appendChild(k)),k.weight=a.weight+"px",k.color=a.color,k.opacity=a.opacity,k.dashStyle=a.dashArray?h.Util.isArray(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):"",a.lineCap&&(k.endcap=a.lineCap.replace("butt","flat")),a.lineJoin&&(k.joinstyle=a.lineJoin)):k&&(m.removeChild(k),this._stroke=null),a.fill?(l||(l=this._fill=this._createElement("fill"),m.appendChild(l)),l.color=a.fillColor||a.color,l.opacity=a.fillOpacity):l&&(m.removeChild(l),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),h.Map.include(h.Browser.svg||!h.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=g.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),h.Browser.canvas=function(){return !!g.createElement("canvas").getContext}(),h.Path=h.Path.SVG&&!d.L_PREFER_CANVAS||!h.Browser.canvas?h.Path:h.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return h.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!h.Path._updateRequest&&(h.Path._updateRequest=h.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){h.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var m,p,l,q,o,k;for(this._ctx.beginPath(),m=0,l=this._parts.length;l>m;m++){for(p=0,q=this._parts[m].length;q>p;p++){o=this._parts[m][p],k=(0===p?"move":"line")+"To",this._ctx[k](o.x,o.y)}this instanceof h.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,k=this.options;this._drawPath(),a.save(),this._updateStyle(),k.fill&&(a.globalAlpha=k.fillOpacity,a.fill()),k.stroke&&(a.globalAlpha=k.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),h.Map.include(h.Path.SVG&&!d.L_PREFER_CANVAS||!h.Browser.canvas?{}:{_initPathRoot:function(){var e,a=this._pathRoot;a||(a=this._pathRoot=g.createElement("canvas"),a.style.position="absolute",e=this._canvasCtx=a.getContext("2d"),e.lineCap="round",e.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var k=this._pathViewport,l=k.min,a=k.max.subtract(l),m=this._pathRoot;h.DomUtil.setPosition(m,l),m.width=a.x,m.height=a.y,m.getContext("2d").translate(-l.x,-l.y)}}}),h.LineUtil={simplify:function(k,l){if(!l||!k.length){return k.slice()}var a=l*l;return k=this._reducePoints(k,a),k=this._simplifyDP(k,a)},pointToSegmentDistance:function(k,l,a){return Math.sqrt(this._sqClosestPointOnSegment(k,l,a,!0))},closestPointOnSegment:function(k,l,a){return this._sqClosestPointOnSegment(k,l,a)},_simplifyDP:function(l,q){var v=l.length,u=typeof Uint8Array!=c+""?Uint8Array:Array,m=new u(v);m[0]=m[v-1]=1,this._simplifyDPStep(l,m,q,0,v-1);var k,p=[];for(k=0;v>k;k++){m[k]&&p.push(l[k])}return p},_simplifyDPStep:function(w,u,p,m,l){var x,v,k,q=0;for(v=m+1;l-1>=v;v++){k=this._sqClosestPointOnSegment(w[v],w[m],w[l],!0),k>q&&(x=v,q=k)}q>p&&(u[x]=1,this._simplifyDPStep(w,u,p,m,x),this._simplifyDPStep(w,u,p,x,l))},_reducePoints:function(k,m){for(var a=[k[0]],q=1,p=0,l=k.length;l>q;q++){this._sqDist(k[q],k[p])>m&&(a.push(k[q]),p=q)}return l-1>p&&a.push(k[l-1]),a},clipSegment:function(w,u,p,m){var l,x,v,k=m?this._lastCode:this._getBitCode(w,p),q=this._getBitCode(u,p);for(this._lastCode=q;;){if(!(k|q)){return[w,u]}if(k&q){return !1}l=k||q,x=this._getEdgeIntersection(w,u,l,p),v=this._getBitCode(x,p),l===k?(w=x,k=v):(u=x,q=v)}},_getEdgeIntersection:function(m,u,l,v){var p=u.x-m.x,k=u.y-m.y,q=v.min,o=v.max;return 8&l?new h.Point(m.x+p*(o.y-m.y)/k,o.y):4&l?new h.Point(m.x+p*(q.y-m.y)/k,q.y):2&l?new h.Point(o.x,m.y+k*(o.x-m.x)/p):1&l?new h.Point(q.x,m.y+k*(q.x-m.x)/p):void 0},_getBitCode:function(k,l){var a=0;return k.x<l.min.x?a|=1:k.x>l.max.x&&(a|=2),k.y<l.min.y?a|=4:k.y>l.max.y&&(a|=8),a},_sqDist:function(k,l){var a=l.x-k.x,m=l.y-k.y;return a*a+m*m},_sqClosestPointOnSegment:function(y,v,p,m){var z,w=v.x,k=v.y,q=p.x-w,o=p.y-k,x=q*q+o*o;return x>0&&(z=((y.x-w)*q+(y.y-k)*o)/x,z>1?(w=p.x,k=p.y):z>0&&(w+=q*z,k+=o*z)),q=y.x-w,o=y.y-k,m?q*q+o*o:new h.Point(w,k)}},h.Polyline=h.Path.extend({initialize:function(a,k){h.Path.prototype.initialize.call(this,k),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,k=this._latlngs.length;k>a;a++){this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])}},getPathString:function(){for(var k=0,l=this._parts.length,a="";l>k;k++){a+=this._getPathPartStr(this._parts[k])}return a},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(h.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(A){for(var v,p,m=1/0,B=this._parts,y=null,k=0,q=B.length;q>k;k++){for(var o=B[k],z=1,x=o.length;x>z;z++){v=o[z-1],p=o[z];var w=h.LineUtil._sqClosestPointOnSegment(A,v,p,!0);m>w&&(m=w,y=h.LineUtil._sqClosestPointOnSegment(A,v,p))}}return y&&(y.distance=Math.sqrt(m)),y},getBounds:function(){return new h.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(k,m){var a,o,l=m?k:[];for(a=0,o=k.length;o>a;a++){if(h.Util.isArray(k[a])&&"number"!=typeof k[a][0]){return}l[a]=h.latLng(k[a])}return l},_initEvents:function(){h.Path.prototype._initEvents.call(this)},_getPathPartStr:function(m){for(var p,l=h.Path.VML,q=0,o=m.length,k="";o>q;q++){p=m[q],l&&p._round(),k+=(q?"L":"M")+p.x+" "+p.y}return k},_clipPoints:function(){var m,u,l,v=this._originalPoints,p=v.length;if(this.options.noClip){return void (this._parts=[v])}this._parts=[];var k=this._parts,q=this._map._pathViewport,o=h.LineUtil;for(m=0,u=0;p-1>m;m++){l=o.clipSegment(v[m],v[m+1],q,m),l&&(k[u]=k[u]||[],k[u].push(l[0]),(l[1]!==v[m+1]||m===p-2)&&(k[u].push(l[1]),u++))}},_simplifyPoints:function(){for(var k=this._parts,l=h.LineUtil,a=0,m=k.length;m>a;a++){k[a]=l.simplify(k[a],this.options.smoothFactor)}},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),h.Path.prototype._updatePath.call(this))}}),h.polyline=function(a,k){return new h.Polyline(a,k)},h.PolyUtil={},h.PolyUtil.clipPolygon=function(C,x){var v,o,D,A,k,w,q,B,z,y=[1,4,2,8],m=h.LineUtil;for(o=0,q=C.length;q>o;o++){C[o]._code=m._getBitCode(C[o],x)}for(A=0;4>A;A++){for(B=y[A],v=[],o=0,q=C.length,D=q-1;q>o;D=o++){k=C[o],w=C[D],k._code&B?w._code&B||(z=m._getEdgeIntersection(w,k,B,x),z._code=m._getBitCode(z,x),v.push(z)):(w._code&B&&(z=m._getEdgeIntersection(w,k,B,x),z._code=m._getBitCode(z,x),v.push(z)),v.push(k))}C=v}return C},h.Polygon=h.Polyline.extend({options:{fill:!0},initialize:function(a,k){h.Polyline.prototype.initialize.call(this,a,k),this._initWithHoles(a)},_initWithHoles:function(k){var l,a,m;if(k&&h.Util.isArray(k[0])&&"number"!=typeof k[0][0]){for(this._latlngs=this._convertLatLngs(k[0]),this._holes=k.slice(1),l=0,a=this._holes.length;a>l;l++){m=this._holes[l]=this._convertLatLngs(this._holes[l]),m[0].equals(m[m.length-1])&&m.pop()}}k=this._latlngs,k.length>=2&&k[0].equals(k[k.length-1])&&k.pop()},projectLatlngs:function(){if(h.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var k,l,a,m;for(k=0,a=this._holes.length;a>k;k++){for(this._holePoints[k]=[],l=0,m=this._holes[k].length;m>l;l++){this._holePoints[k][l]=this._map.latLngToLayerPoint(this._holes[k][l])}}}},setLatLngs:function(a){return a&&h.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):h.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var k=this._originalPoints,m=[];if(this._parts=[k].concat(this._holePoints),!this.options.noClip){for(var a=0,o=this._parts.length;o>a;a++){var l=h.PolyUtil.clipPolygon(this._parts[a],this._map._pathViewport);l.length&&m.push(l)}this._parts=m}},_getPathPartStr:function(a){var k=h.Polyline.prototype._getPathPartStr.call(this,a);return k+(h.Browser.svg?"z":"x")}}),h.polygon=function(a,k){return new h.Polygon(a,k)},function(){function a(e){return h.FeatureGroup.extend({initialize:function(k,l){this._layers={},this._options=l,this.setLatLngs(k)},setLatLngs:function(l){var k=0,m=l.length;for(this.eachLayer(function(n){m>k?n.setLatLngs(l[k++]):this.removeLayer(n)},this);m>k;){this.addLayer(new e(l[k++],this._options))}return this},getLatLngs:function(){var k=[];return this.eachLayer(function(l){k.push(l.getLatLngs())}),k}})}h.MultiPolyline=a(h.Polyline),h.MultiPolygon=a(h.Polygon),h.multiPolyline=function(k,l){return new h.MultiPolyline(k,l)},h.multiPolygon=function(k,l){return new h.MultiPolygon(k,l)}}(),h.Rectangle=h.Polygon.extend({initialize:function(a,k){h.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),k)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=h.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),h.rectangle=function(a,k){return new h.Rectangle(a,k)},h.Circle=h.Path.extend({initialize:function(k,l,a){h.Path.prototype.initialize.call(this,a),this._latlng=h.latLng(k),this._mRadius=l},options:{fill:!0},setLatLng:function(a){return this._latlng=h.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var k=this._getLngRadius(),l=this._latlng,a=this._map.latLngToLayerPoint([l.lat,l.lng-k]);this._point=this._map.latLngToLayerPoint(l),this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var k=this._getLngRadius(),l=this._mRadius/40075017*360,a=this._latlng;return new h.LatLngBounds([a.lat-l,a.lng-k],[a.lat+l,a.lng+k])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,k=this._radius;return this._checkIfEmpty()?"":h.Browser.svg?"M"+a.x+","+(a.y-k)+"A"+k+","+k+",0,1,1,"+(a.x-0.1)+","+(a.y-k)+" z":(a._round(),k=Math.round(k),"AL "+a.x+","+a.y+" "+k+","+k+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(h.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return !1}var k=this._map._pathViewport,l=this._radius,a=this._point;return a.x-l>k.max.x||a.y-l>k.max.y||a.x+l<k.min.x||a.y+l<k.min.y}}),h.circle=function(k,l,a){return new h.Circle(k,l,a)},h.CircleMarker=h.Circle.extend({options:{radius:10,weight:2},initialize:function(a,k){h.Circle.prototype.initialize.call(this,a,null,k),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){h.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){return h.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}}),h.circleMarker=function(a,k){return new h.CircleMarker(a,k)},h.Polyline.include(h.Path.CANVAS?{_containsPoint:function(y,v){var p,m,z,w,k,q,o,x=this.options.weight/2;for(h.Browser.touch&&(x+=10),p=0,w=this._parts.length;w>p;p++){for(o=this._parts[p],m=0,k=o.length,z=k-1;k>m;z=m++){if((v||0!==m)&&(q=h.LineUtil.pointToSegmentDistance(y,o[z],o[m]),x>=q)){return !0}}}return !1}}:{}),h.Polygon.include(h.Path.CANVAS?{_containsPoint:function(y){var v,p,m,z,w,k,q,o,x=!1;if(h.Polyline.prototype._containsPoint.call(this,y,!0)){return !0}for(z=0,q=this._parts.length;q>z;z++){for(v=this._parts[z],w=0,o=v.length,k=o-1;o>w;k=w++){p=v[w],m=v[k],p.y>y.y!=m.y>y.y&&y.x<(m.x-p.x)*(y.y-p.y)/(m.y-p.y)+p.x&&(x=!x)}}return x}}:{}),h.Circle.include(h.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(k){var l=this._point,a=this.options.stroke?this.options.weight/2:0;return k.distanceTo(l)<=this._radius+a}}:{}),h.CircleMarker.include(h.Path.CANVAS?{_updateStyle:function(){h.Path.prototype._updateStyle.call(this)}}:{}),h.GeoJSON=h.FeatureGroup.extend({initialize:function(a,k){h.setOptions(this,k),this._layers={},a&&this.addData(a)},addData:function(m){var q,l,u,o=h.Util.isArray(m)?m:m.features;if(o){for(q=0,l=o.length;l>q;q++){u=o[q],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(o[q])}return this}var k=this.options;if(!k.filter||k.filter(m)){var p=h.GeoJSON.geometryToLayer(m,k.pointToLayer,k.coordsToLatLng,k);return p.feature=h.GeoJSON.asFeature(m),p.defaultOptions=p.options,this.resetStyle(p),k.onEachFeature&&k.onEachFeature(m,p),this.addLayer(p)}},resetStyle:function(a){var k=this.options.style;k&&(h.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,k))},setStyle:function(a){this.eachLayer(function(k){this._setLayerStyle(k,a)},this)},_setLayerStyle:function(a,k){"function"==typeof k&&(k=k(a.feature)),a.setStyle&&a.setStyle(k)}}),h.extend(h.GeoJSON,{geometryToLayer:function(z,v,p,m){var A,x,k,q,o="Feature"===z.type?z.geometry:z,y=o.coordinates,w=[];switch(p=p||this.coordsToLatLng,o.type){case"Point":return A=p(y),v?v(z,A):new h.Marker(A);case"MultiPoint":for(k=0,q=y.length;q>k;k++){A=p(y[k]),w.push(v?v(z,A):new h.Marker(A))}return new h.FeatureGroup(w);case"LineString":return x=this.coordsToLatLngs(y,0,p),new h.Polyline(x,m);case"Polygon":if(2===y.length&&!y[1].length){throw new Error("Invalid GeoJSON object.")}return x=this.coordsToLatLngs(y,1,p),new h.Polygon(x,m);case"MultiLineString":return x=this.coordsToLatLngs(y,1,p),new h.MultiPolyline(x,m);case"MultiPolygon":return x=this.coordsToLatLngs(y,2,p),new h.MultiPolygon(x,m);case"GeometryCollection":for(k=0,q=o.geometries.length;q>k;k++){w.push(this.geometryToLayer({geometry:o.geometries[k],type:"Feature",properties:z.properties},v,p,m))}return new h.FeatureGroup(w);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new h.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(m,q,l){var u,r,p,k=[];for(r=0,p=m.length;p>r;r++){u=q?this.coordsToLatLngs(m[r],q-1,l):(l||this.coordsToLatLng)(m[r]),k.push(u)}return k},latLngToCoords:function(a){var k=[a.lng,a.lat];return a.alt!==c&&k.push(a.alt),k},latLngsToCoords:function(k){for(var l=[],a=0,m=k.length;m>a;a++){l.push(h.GeoJSON.latLngToCoords(k[a]))}return l},getFeature:function(a,k){return a.feature?h.extend({},a.feature,{geometry:k}):h.GeoJSON.asFeature(k)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var b={toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"Point",coordinates:h.GeoJSON.latLngToCoords(this.getLatLng())})}};h.Marker.include(b),h.Circle.include(b),h.CircleMarker.include(b),h.Polyline.include({toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"LineString",coordinates:h.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),h.Polygon.include({toGeoJSON:function(){var k,l,a,m=[h.GeoJSON.latLngsToCoords(this.getLatLngs())];if(m[0].push(m[0][0]),this._holes){for(k=0,l=this._holes.length;l>k;k++){a=h.GeoJSON.latLngsToCoords(this._holes[k]),a.push(a[0]),m.push(a)}}return h.GeoJSON.getFeature(this,{type:"Polygon",coordinates:m})}}),function(){function a(e){return function(){var k=[];return this.eachLayer(function(l){k.push(l.toGeoJSON().geometry.coordinates)}),h.GeoJSON.getFeature(this,{type:e,coordinates:k})}}h.MultiPolyline.include({toGeoJSON:a("MultiLineString")}),h.MultiPolygon.include({toGeoJSON:a("MultiPolygon")}),h.LayerGroup.include({toGeoJSON:function(){var m,k=this.feature&&this.feature.geometry,o=[];if(k&&"MultiPoint"===k.type){return a("MultiPoint").call(this)}var l=k&&"GeometryCollection"===k.type;return this.eachLayer(function(e){e.toGeoJSON&&(m=e.toGeoJSON(),o.push(l?m.geometry:h.GeoJSON.asFeature(m)))}),l?h.GeoJSON.getFeature(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}})}(),h.geoJson=function(a,k){return new h.GeoJSON(a,k)},h.DomEvent={addListener:function(w,u,p,m){var x,v,k,q=h.stamp(p),o="_leaflet_"+u+q;return w[o]?this:(x=function(a){return p.call(m||w,a||h.DomEvent._getEvent())},h.Browser.pointer&&0===u.indexOf("touch")?this.addPointerListener(w,u,x,q):(h.Browser.touch&&"dblclick"===u&&this.addDoubleTapListener&&this.addDoubleTapListener(w,x,q),"addEventListener" in w?"mousewheel"===u?(w.addEventListener("DOMMouseScroll",x,!1),w.addEventListener(u,x,!1)):"mouseenter"===u||"mouseleave"===u?(v=x,k="mouseenter"===u?"mouseover":"mouseout",x=function(a){return h.DomEvent._checkMouse(w,a)?v(a):void 0},w.addEventListener(k,x,!1)):"click"===u&&h.Browser.android?(v=x,x=function(a){return h.DomEvent._filterClick(a,v)},w.addEventListener(u,x,!1)):w.addEventListener(u,x,!1):"attachEvent" in w&&w.attachEvent("on"+u,x),w[o]=x,this))},removeListener:function(m,p,l){var q=h.stamp(l),o="_leaflet_"+p+q,k=m[o];return k?(h.Browser.pointer&&0===p.indexOf("touch")?this.removePointerListener(m,p,q):h.Browser.touch&&"dblclick"===p&&this.removeDoubleTapListener?this.removeDoubleTapListener(m,q):"removeEventListener" in m?"mousewheel"===p?(m.removeEventListener("DOMMouseScroll",k,!1),m.removeEventListener(p,k,!1)):"mouseenter"===p||"mouseleave"===p?m.removeEventListener("mouseenter"===p?"mouseover":"mouseout",k,!1):m.removeEventListener(p,k,!1):"detachEvent" in m&&m.detachEvent("on"+p,k),m[o]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,h.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var k=h.DomEvent.stopPropagation;return h.DomEvent.on(a,"mousewheel",k).on(a,"MozMousePixelScroll",k)},disableClickPropagation:function(k){for(var l=h.DomEvent.stopPropagation,a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.on(k,h.Draggable.START[a],l)}return h.DomEvent.on(k,"click",h.DomEvent._fakeStop).on(k,"dblclick",l)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return h.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(k,l){if(!l){return new h.Point(k.clientX,k.clientY)}var a=l.getBoundingClientRect();return new h.Point(k.clientX-a.left-l.clientLeft,k.clientY-a.top-l.clientTop)},getWheelDelta:function(a){var k=0;return a.wheelDelta&&(k=a.wheelDelta/120),a.detail&&(k=-a.detail/3),k},_skipEvents:{},_fakeStop:function(a){h.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var k=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,k},_checkMouse:function(k,l){var a=l.relatedTarget;if(!a){return !0}try{for(;a&&a!==k;){a=a.parentNode}}catch(m){return !1}return a!==k},_getEvent:function(){var k=d.event;if(!k){for(var a=arguments.callee.caller;a&&(k=a.arguments[0],!k||d.Event!==k.constructor);){a=a.caller}}return k},_filterClick:function(k,l){var a=k.timeStamp||k.originalEvent.timeStamp,m=h.DomEvent._lastClick&&a-h.DomEvent._lastClick;return m&&m>100&&1000>m||k.target._simulatedClick&&!k._simulated?void h.DomEvent.stop(k):(h.DomEvent._lastClick=a,l(k))}},h.DomEvent.on=h.DomEvent.addListener,h.DomEvent.off=h.DomEvent.removeListener,h.Draggable=h.Class.extend({includes:h.Mixin.Events,statics:{START:h.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,k){this._element=a,this._dragStartTarget=k||a},enable:function(){if(!this._enabled){for(var a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.on(this._dragStartTarget,h.Draggable.START[a],this._onDown,this)}this._enabled=!0}},disable:function(){if(this._enabled){for(var a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.off(this._dragStartTarget,h.Draggable.START[a],this._onDown,this)}this._enabled=!1,this._moved=!1}},_onDown:function(e){if(this._moved=!1,!(e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(h.DomEvent.stopPropagation(e),h.Draggable._disabled||(h.DomUtil.disableImageDrag(),h.DomUtil.disableTextSelection(),this._moving)))){var a=e.touches?e.touches[0]:e;this._startPoint=new h.Point(a.clientX,a.clientY),this._startPos=this._newPos=h.DomUtil.getPosition(this._element),h.DomEvent.on(g,h.Draggable.MOVE[e.type],this._onMove,this).on(g,h.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(e.touches&&e.touches.length>1){return void (this._moved=!0)}var a=e.touches&&1===e.touches.length?e.touches[0]:e,l=new h.Point(a.clientX,a.clientY),k=l.subtract(this._startPoint);(k.x||k.y)&&(h.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=h.DomUtil.getPosition(this._element).subtract(k),h.DomUtil.addClass(g.body,"leaflet-dragging"),h.DomUtil.addClass(e.target||e.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag"),h.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(e){h.DomUtil.removeClass(g.body,"leaflet-dragging"),h.DomUtil.removeClass(e.target||e.srcElement,"leaflet-drag-target");for(var a in h.Draggable.MOVE){h.DomEvent.off(g,h.Draggable.MOVE[a],this._onMove).off(g,h.Draggable.END[a],this._onUp)}h.DomUtil.enableImageDrag(),h.DomUtil.enableTextSelection(),this._moved&&this._moving&&(h.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),h.Handler=h.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return !!this._enabled}}),h.Map.mergeOptions({dragging:!0,inertia:!h.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:h.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1}),h.Map.Drag=h.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new h.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,k=this._lastPos=this._draggable._newPos;this._positions.push(k),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),k=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=k.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var m=this._worldWidth,q=Math.round(m/2),l=this._initialWorldOffset,u=this._draggable._newPos.x,r=(u-q+l)%m+q-l,p=(u+q+l)%m-q-l,k=Math.abs(r+l)<Math.abs(p+l)?r:p;this._draggable._newPos.x=k},_onDragEnd:function(D){var x=this._map,v=x.options,o=+new Date-this._lastTime,E=!v.inertia||o>v.inertiaThreshold||!this._positions[0];if(x.fire("dragend",D),E){x.fire("moveend")}else{var A=this._lastPos.subtract(this._positions[0]),k=(this._lastTime+o-this._times[0])/1000,w=v.easeLinearity,q=A.multiplyBy(w/k),C=q.distanceTo([0,0]),z=Math.min(v.inertiaMaxSpeed,C),y=q.multiplyBy(z/C),m=z/(v.inertiaDeceleration*w),B=y.multiplyBy(-m/2).round();B.x&&B.y?(B=x._limitOffset(B,x.options.maxBounds),h.Util.requestAnimFrame(function(){x.panBy(B,{duration:m,easeLinearity:w,noMoveStart:!0})})):x.fire("moveend")}}}),h.Map.addInitHook("addHandler","dragging",h.Map.Drag),h.Map.mergeOptions({doubleClickZoom:!0}),h.Map.DoubleClickZoom=h.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(k){var l=this._map,a=l.getZoom()+(k.originalEvent.shiftKey?-1:1);"center"===l.options.doubleClickZoom?l.setZoom(a):l.setZoomAround(k.containerPoint,a)}}),h.Map.addInitHook("addHandler","doubleClickZoom",h.Map.DoubleClickZoom),h.Map.mergeOptions({scrollWheelZoom:!0}),h.Map.ScrollWheelZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),h.DomEvent.on(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault),this._delta=0},removeHooks:function(){h.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),h.DomEvent.off(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault)},_onWheelScroll:function(k){var l=h.DomEvent.getWheelDelta(k);this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(k),this._startTime||(this._startTime=+new Date);var a=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h.bind(this._performZoom,this),a),h.DomEvent.preventDefault(k),h.DomEvent.stopPropagation(k)},_performZoom:function(){var k=this._map,l=this._delta,a=k.getZoom();l=l>0?Math.ceil(l):Math.floor(l),l=Math.max(Math.min(l,4),-4),l=k._limitZoom(a+l)-a,this._delta=0,this._startTime=null,l&&("center"===k.options.scrollWheelZoom?k.setZoom(a+l):k.setZoomAround(this._lastMousePos,a+l))}}),h.Map.addInitHook("addHandler","scrollWheelZoom",h.Map.ScrollWheelZoom),h.extend(h.DomEvent,{_touchstart:h.Browser.msPointer?"MSPointerDown":h.Browser.pointer?"pointerdown":"touchstart",_touchend:h.Browser.msPointer?"MSPointerUp":h.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(D,w,o){function E(l){var m;if(h.Browser.pointer?(B.push(l.pointerId),m=B.length):m=l.touches.length,!(m>1)){var a=Date.now(),p=a-(e||a);x=l.touches?l.touches[0]:l,v=p>0&&C>=p,e=a}}function A(m){if(h.Browser.pointer){var r=B.indexOf(m.pointerId);if(-1===r){return}B.splice(r,1)}if(v){if(h.Browser.pointer){var u,p={};for(var l in x){u=x[l],p[l]="function"==typeof u?u.bind(x):u}x=p}x.type="dblclick",w(x),e=null}}var e,x,v=!1,C=250,z="_leaflet_",y=this._touchstart,k=this._touchend,B=[];D[z+y+o]=E,D[z+k+o]=A;var q=h.Browser.pointer?g.documentElement:D;return D.addEventListener(y,E,!1),q.addEventListener(k,A,!1),h.Browser.pointer&&q.addEventListener(h.DomEvent.POINTER_CANCEL,A,!1),this},removeDoubleTapListener:function(e,a){var k="_leaflet_";return e.removeEventListener(this._touchstart,e[k+this._touchstart+a],!1),(h.Browser.pointer?g.documentElement:e).removeEventListener(this._touchend,e[k+this._touchend+a],!1),h.Browser.pointer&&g.documentElement.removeEventListener(h.DomEvent.POINTER_CANCEL,e[k+this._touchend+a],!1),this}}),h.extend(h.DomEvent,{POINTER_DOWN:h.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:h.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:h.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:h.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(k,l,a,m){switch(l){case"touchstart":return this.addPointerListenerStart(k,l,a,m);case"touchend":return this.addPointerListenerEnd(k,l,a,m);case"touchmove":return this.addPointerListenerMove(k,l,a,m);default:throw"Unknown touch event type"}},addPointerListenerStart:function(o,m,v,q){var k="_leaflet_",u=this._pointers,p=function(l){h.DomEvent.preventDefault(l);for(var n=!1,a=0;a<u.length;a++){if(u[a].pointerId===l.pointerId){n=!0;break}}n||u.push(l),l.touches=u.slice(),l.changedTouches=[l],v(l)};if(o[k+"touchstart"+q]=p,o.addEventListener(this.POINTER_DOWN,p,!1),!this._pointerDocumentListener){var e=function(a){for(var l=0;l<u.length;l++){if(u[l].pointerId===a.pointerId){u.splice(l,1);break}}};g.documentElement.addEventListener(this.POINTER_UP,e,!1),g.documentElement.addEventListener(this.POINTER_CANCEL,e,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(m,q,l,u){function r(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var n=0;n<k.length;n++){if(k[n].pointerId===a.pointerId){k[n]=a;break}}a.touches=k.slice(),a.changedTouches=[a],l(a)}}var p="_leaflet_",k=this._pointers;return m[p+"touchmove"+u]=r,m.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(m,q,l,u){var r="_leaflet_",p=this._pointers,k=function(a){for(var n=0;n<p.length;n++){if(p[n].pointerId===a.pointerId){p.splice(n,1);break}}a.touches=p.slice(),a.changedTouches=[a],l(a)};return m[r+"touchend"+u]=k,m.addEventListener(this.POINTER_UP,k,!1),m.addEventListener(this.POINTER_CANCEL,k,!1),this},removePointerListener:function(k,l,a){var p="_leaflet_",m=k[p+l+a];switch(l){case"touchstart":k.removeEventListener(this.POINTER_DOWN,m,!1);break;case"touchmove":k.removeEventListener(this.POINTER_MOVE,m,!1);break;case"touchend":k.removeEventListener(this.POINTER_UP,m,!1),k.removeEventListener(this.POINTER_CANCEL,m,!1)}return this}}),h.Map.mergeOptions({touchZoom:h.Browser.touch&&!h.Browser.android23,bounceAtZoomLimits:!0}),h.Map.TouchZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var k=this._map;if(l.touches&&2===l.touches.length&&!k._animatingZoom&&!this._zooming){var o=k.mouseEventToLayerPoint(l.touches[0]),m=k.mouseEventToLayerPoint(l.touches[1]),e=k._getCenterLayerPoint();this._startCenter=o.add(m)._divideBy(2),this._startDist=o.distanceTo(m),this._moved=!1,this._zooming=!0,this._centerOffset=e.subtract(this._startCenter),k._panAnim&&k._panAnim.stop(),h.DomEvent.on(g,"touchmove",this._onTouchMove,this).on(g,"touchend",this._onTouchEnd,this),h.DomEvent.preventDefault(l)}},_onTouchMove:function(k){var l=this._map;if(k.touches&&2===k.touches.length&&this._zooming){var a=l.mouseEventToLayerPoint(k.touches[0]),m=l.mouseEventToLayerPoint(k.touches[1]);this._scale=a.distanceTo(m)/this._startDist,this._delta=a._add(m)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(l.options.bounceAtZoomLimits||!(l.getZoom()===l.getMinZoom()&&this._scale<1||l.getZoom()===l.getMaxZoom()&&this._scale>1))&&(this._moved||(h.DomUtil.addClass(l._mapPane,"leaflet-touching"),l.fire("movestart").fire("zoomstart"),this._moved=!0),h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),h.DomEvent.preventDefault(k))}},_updateOnMove:function(){var k=this._map,l=this._getScaleOrigin(),a=k.layerPointToLatLng(l),m=k.getScaleZoom(this._scale);k._animateZoom(a,m,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){return void (this._zooming=!1)}var o=this._map;this._zooming=!1,h.DomUtil.removeClass(o._mapPane,"leaflet-touching"),h.Util.cancelAnimFrame(this._animRequest),h.DomEvent.off(g,"touchmove",this._onTouchMove).off(g,"touchend",this._onTouchEnd);var m=this._getScaleOrigin(),v=o.layerPointToLatLng(m),q=o.getZoom(),k=o.getScaleZoom(this._scale)-q,u=k>0?Math.ceil(k):Math.floor(k),p=o._limitZoom(q+u),e=o.getZoomScale(p)/this._scale;o._animateZoom(v,p,m,e)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),h.Map.addInitHook("addHandler","touchZoom",h.Map.TouchZoom),h.Map.mergeOptions({tap:!0,tapTolerance:15}),h.Map.Tap=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(h.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1){return this._fireClick=!1,void clearTimeout(this._holdTimeout)}var a=e.touches[0],k=a.target;this._startPos=this._newPos=new h.Point(a.clientX,a.clientY),k.tagName&&"a"===k.tagName.toLowerCase()&&h.DomUtil.addClass(k,"leaflet-active"),this._holdTimeout=setTimeout(h.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1000),h.DomEvent.on(g,"touchmove",this._onMove,this).on(g,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),h.DomEvent.off(g,"touchmove",this._onMove,this).off(g,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var a=e.changedTouches[0],k=a.target;k&&k.tagName&&"a"===k.tagName.toLowerCase()&&h.DomUtil.removeClass(k,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var k=a.touches[0];this._newPos=new h.Point(k.clientX,k.clientY)},_simulateEvent:function(a,k){var e=g.createEvent("MouseEvents");e._simulated=!0,k.target._simulatedClick=!0,e.initMouseEvent(a,!0,!0,d,1,k.screenX,k.screenY,k.clientX,k.clientY,!1,!1,!1,!1,0,null),k.target.dispatchEvent(e)}}),h.Browser.touch&&!h.Browser.pointer&&h.Map.addInitHook("addHandler","tap",h.Map.Tap),h.Map.mergeOptions({boxZoom:!0}),h.Map.BoxZoom=h.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){h.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){h.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(h.DomUtil.disableTextSelection(),h.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),void h.DomEvent.on(g,"mousemove",this._onMouseMove,this).on(g,"mouseup",this._onMouseUp,this).on(g,"keydown",this._onKeyDown,this))},_onMouseMove:function(m){this._moved||(this._box=h.DomUtil.create("div","leaflet-zoom-box",this._pane),h.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var p=this._startLayerPoint,l=this._box,q=this._map.mouseEventToLayerPoint(m),o=q.subtract(p),k=new h.Point(Math.min(q.x,p.x),Math.min(q.y,p.y));h.DomUtil.setPosition(l,k),this._moved=!0,l.style.width=Math.max(0,Math.abs(o.x)-4)+"px",l.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),h.DomUtil.enableTextSelection(),h.DomUtil.enableImageDrag(),h.DomEvent.off(g,"mousemove",this._onMouseMove).off(g,"mouseup",this._onMouseUp).off(g,"keydown",this._onKeyDown)},_onMouseUp:function(k){this._finish();var l=this._map,a=l.mouseEventToLayerPoint(k);if(!this._startLayerPoint.equals(a)){var m=new h.LatLngBounds(l.layerPointToLatLng(this._startLayerPoint),l.layerPointToLatLng(a));l.fitBounds(m),l.fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),h.Map.addInitHook("addHandler","boxZoom",h.Map.BoxZoom),h.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),h.Map.Keyboard=h.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),h.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;h.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=g.body,l=g.documentElement,k=a.scrollTop||l.scrollTop,e=a.scrollLeft||l.scrollLeft;this._map._container.focus(),d.scrollTo(e,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(k){var l,a,p=this._panKeys={},m=this.keyCodes;for(l=0,a=m.left.length;a>l;l++){p[m.left[l]]=[-1*k,0]}for(l=0,a=m.right.length;a>l;l++){p[m.right[l]]=[k,0]}for(l=0,a=m.down.length;a>l;l++){p[m.down[l]]=[0,k]}for(l=0,a=m.up.length;a>l;l++){p[m.up[l]]=[0,-1*k]}},_setZoomOffset:function(k){var l,a,p=this._zoomKeys={},m=this.keyCodes;for(l=0,a=m.zoomIn.length;a>l;l++){p[m.zoomIn[l]]=k}for(l=0,a=m.zoomOut.length;a>l;l++){p[m.zoomOut[l]]=-k}},_addHooks:function(){h.DomEvent.on(g,"keydown",this._onKeyDown,this)},_removeHooks:function(){h.DomEvent.off(g,"keydown",this._onKeyDown,this)},_onKeyDown:function(k){var l=k.keyCode,a=this._map;if(l in this._panKeys){if(a._panAnim&&a._panAnim._inProgress){return}a.panBy(this._panKeys[l]),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds)}else{if(!(l in this._zoomKeys)){return}a.setZoom(a.getZoom()+this._zoomKeys[l])}h.DomEvent.stop(k)}}),h.Map.addInitHook("addHandler","keyboard",h.Map.Keyboard),h.Handler.MarkerDrag=h.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new h.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),h.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),h.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var k=this._marker,l=k._shadow,a=h.DomUtil.getPosition(k._icon),m=k._map.layerPointToLatLng(a);l&&h.DomUtil.setPosition(l,a),k._latlng=m,k.fire("move",{latlng:m}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),h.Control=h.Class.extend({options:{position:"topright"},initialize:function(a){h.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var k=this._map;return k&&k.removeControl(this),this.options.position=a,k&&k.addControl(this),this},getContainer:function(){return this._container},addTo:function(k){this._map=k;var l=this._container=this.onAdd(k),a=this.getPosition(),m=k._controlCorners[a];return h.DomUtil.addClass(l,"leaflet-control"),-1!==a.indexOf("bottom")?m.insertBefore(l,m.firstChild):m.appendChild(l),this},removeFrom:function(k){var l=this.getPosition(),a=k._controlCorners[l];return a.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(k),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),h.control=function(a){return new h.Control(a)},h.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function k(n,o){var e=a+n+" "+a+o;l[n+o]=h.DomUtil.create("div",e,m)}var l=this._controlCorners={},a="leaflet-",m=this._controlContainer=h.DomUtil.create("div",a+"control-container",this._container);k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),h.Control.Zoom=h.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(k){var l="leaflet-control-zoom",a=h.DomUtil.create("div",l+" leaflet-bar");return this._map=k,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,l+"-in",a,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,l+"-out",a,this._zoomOut,this),this._updateDisabled(),k.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(m,u,l,v,p,k){var q=h.DomUtil.create("a",l,v);q.innerHTML=m,q.href="#",q.title=u;var o=h.DomEvent.stopPropagation;return h.DomEvent.on(q,"click",o).on(q,"mousedown",o).on(q,"dblclick",o).on(q,"click",h.DomEvent.preventDefault).on(q,"click",p,k).on(q,"click",this._refocusOnMap,k),q},_updateDisabled:function(){var a=this._map,k="leaflet-disabled";h.DomUtil.removeClass(this._zoomInButton,k),h.DomUtil.removeClass(this._zoomOutButton,k),a._zoom===a.getMinZoom()&&h.DomUtil.addClass(this._zoomOutButton,k),a._zoom===a.getMaxZoom()&&h.DomUtil.addClass(this._zoomInButton,k)}}),h.Map.mergeOptions({zoomControl:!0}),h.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new h.Control.Zoom,this.addControl(this.zoomControl))}),h.control.zoom=function(a){return new h.Control.Zoom(a)},h.Control.Attribution=h.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){h.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=h.DomUtil.create("div","leaflet-control-attribution"),h.DomEvent.disableClickPropagation(this._container);for(var k in a._layers){a._layers[k].getAttribution&&this.addAttribution(a._layers[k].getAttribution())}return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var k=[];for(var l in this._attributions){this._attributions[l]&&k.push(l)}var a=[];this.options.prefix&&a.push(this.options.prefix),k.length&&a.push(k.join(", ")),this._container.innerHTML=a.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),h.Map.mergeOptions({attributionControl:!0}),h.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new h.Control.Attribution).addTo(this))}),h.control.attribution=function(a){return new h.Control.Attribution(a)},h.Control.Scale=h.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(k){this._map=k;var l="leaflet-control-scale",a=h.DomUtil.create("div",l),m=this.options;return this._addScales(m,l,a),k.on(m.updateWhenIdle?"moveend":"move",this._update,this),k.whenReady(this._update,this),a},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(k,l,a){k.metric&&(this._mScale=h.DomUtil.create("div",l+"-line",a)),k.imperial&&(this._iScale=h.DomUtil.create("div",l+"-line",a))},_update:function(){var m=this._map.getBounds(),q=m.getCenter().lat,l=6378137*Math.PI*Math.cos(q*Math.PI/180),u=l*(m.getNorthEast().lng-m.getSouthWest().lng)/180,r=this._map.getSize(),p=this.options,k=0;r.x>0&&(k=u*(p.maxWidth/r.x)),this._updateScales(p,k)},_updateScales:function(a,k){a.metric&&k&&this._updateMetric(k),a.imperial&&k&&this._updateImperial(k)},_updateMetric:function(a){var k=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(k/a)+"px",this._mScale.innerHTML=1000>k?k+" m":k/1000+" km"},_updateImperial:function(k){var m,a,q,p=3.2808399*k,l=this._iScale;p>5280?(m=p/5280,a=this._getRoundNum(m),l.style.width=this._getScaleWidth(a/m)+"px",l.innerHTML=a+" mi"):(q=this._getRoundNum(p),l.style.width=this._getScaleWidth(q/p)+"px",l.innerHTML=q+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(k){var l=Math.pow(10,(Math.floor(k)+"").length-1),a=k/l;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,l*a}}),h.control.scale=function(a){return new h.Control.Scale(a)},h.Control.Layers=h.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(k,l,a){h.setOptions(this,a),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var m in k){this._addLayer(k[m],m)}for(m in l){this._addLayer(l[m],m,!0)}},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,k){return this._addLayer(a,k),this._update(),this},addOverlay:function(a,k){return this._addLayer(a,k,!0),this._update(),this},removeLayer:function(a){var k=h.stamp(a);return delete this._layers[k],this._update(),this},_initLayout:function(){var k="leaflet-control-layers",l=this._container=h.DomUtil.create("div",k);l.setAttribute("aria-haspopup",!0),h.Browser.touch?h.DomEvent.on(l,"click",h.DomEvent.stopPropagation):h.DomEvent.disableClickPropagation(l).disableScrollPropagation(l);var a=this._form=h.DomUtil.create("form",k+"-list");if(this.options.collapsed){h.Browser.android||h.DomEvent.on(l,"mouseover",this._expand,this).on(l,"mouseout",this._collapse,this);var m=this._layersLink=h.DomUtil.create("a",k+"-toggle",l);m.href="#",m.title="Layers",h.Browser.touch?h.DomEvent.on(m,"click",h.DomEvent.stop).on(m,"click",this._expand,this):h.DomEvent.on(m,"focus",this._expand,this),h.DomEvent.on(a,"click",function(){setTimeout(h.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else{this._expand()}this._baseLayersList=h.DomUtil.create("div",k+"-base",a),this._separator=h.DomUtil.create("div",k+"-separator",a),this._overlaysList=h.DomUtil.create("div",k+"-overlays",a),l.appendChild(a)},_addLayer:function(k,l,a){var m=h.stamp(k);this._layers[m]={layer:k,name:l,overlay:a},this.options.autoZIndex&&k.setZIndex&&(this._lastZIndex++,k.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var k,l,a=!1,m=!1;for(k in this._layers){l=this._layers[k],this._addItem(l),m=m||l.overlay,a=a||!l.overlay}this._separator.style.display=m&&a?"":"none"}},_onLayerChange:function(k){var l=this._layers[h.stamp(k.layer)];if(l){this._handlingClick||this._update();var a=l.overlay?"layeradd"===k.type?"overlayadd":"overlayremove":"layeradd"===k.type?"baselayerchange":null;a&&this._map.fire(a,l)}},_createRadioElement:function(e,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';a&&(l+=' checked="checked"'),l+="/>";var k=g.createElement("div");return k.innerHTML=l,k.firstChild},_addItem:function(l){var k,p=g.createElement("label"),m=this._map.hasLayer(l.layer);l.overlay?(k=g.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=m):k=this._createRadioElement("leaflet-base-layers",m),k.layerId=h.stamp(l.layer),h.DomEvent.on(k,"click",this._onInputClick,this);var e=g.createElement("span");e.innerHTML=" "+l.name,p.appendChild(k),p.appendChild(e);var o=l.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(p),p},_onInputClick:function(){var k,l,a,p=this._form.getElementsByTagName("input"),m=p.length;for(this._handlingClick=!0,k=0;m>k;k++){l=p[k],a=this._layers[l.layerId],l.checked&&!this._map.hasLayer(a.layer)?this._map.addLayer(a.layer):!l.checked&&this._map.hasLayer(a.layer)&&this._map.removeLayer(a.layer)}this._handlingClick=!1,this._refocusOnMap()},_expand:function(){h.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),h.control.layers=function(k,l,a){return new h.Control.Layers(k,l,a)},h.PosAnimation=h.Class.extend({includes:h.Mixin.Events,run:function(k,l,a,m){this.stop(),this._el=k,this._inProgress=!0,this._newPos=l,this.fire("start"),k.style[h.DomUtil.TRANSITION]="all "+(a||0.25)+"s cubic-bezier(0,0,"+(m||0.5)+",1)",h.DomEvent.on(k,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),h.DomUtil.setPosition(k,l),h.Util.falseFn(k.offsetWidth),this._stepTimer=setInterval(h.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(h.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),h.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var o,l,p,m=this._el,k=d.getComputedStyle(m);if(h.Browser.any3d){if(p=k[h.DomUtil.TRANSFORM].match(this._transformRe),!p){return}o=parseFloat(p[1]),l=parseFloat(p[2])}else{o=parseFloat(k.left),l=parseFloat(k.top)}return new h.Point(o,l,!0)},_onTransitionEnd:function(){h.DomEvent.off(this._el,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[h.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),h.Map.include({setView:function(a,l,m){if(l=l===c?this._zoom:this._limitZoom(l),a=this._limitCenter(h.latLng(a),l,this.options.maxBounds),m=m||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==c&&(m.zoom=h.extend({animate:m.animate},m.zoom),m.pan=h.extend({animate:m.animate},m.pan));var k=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,l,m.zoom):this._tryAnimatedPan(a,m.pan);if(k){return clearTimeout(this._sizeTimer),this}}return this._resetView(a,l),this},panBy:function(k,l){if(k=h.point(k).round(),l=l||{},!k.x&&!k.y){return this}if(this._panAnim||(this._panAnim=new h.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){h.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(k);this._panAnim.run(this._mapPane,a,l.duration||0.25,l.easeLinearity)}else{this._rawPanBy(k),this.fire("move").fire("moveend")}return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){h.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(k,l){var a=this._getCenterOffset(k)._floor();return(l&&l.animate)===!0||this.getSize().contains(a)?(this.panBy(a,l),!0):!1}}),h.PosAnimation=h.DomUtil.TRANSITION?h.PosAnimation:h.PosAnimation.extend({run:function(k,l,a,m){this.stop(),this._el=k,this._inProgress=!0,this._duration=a||0.25,this._easeOutPower=1/Math.max(m||0.5,0.2),this._startPos=h.DomUtil.getPosition(k),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=h.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,k=1000*this._duration;k>a?this._runFrame(this._easeOut(a/k)):(this._runFrame(1),this._complete())},_runFrame:function(a){var k=this._startPos.add(this._offset.multiplyBy(a));h.DomUtil.setPosition(this._el,k),this.fire("step")},_complete:function(){h.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),h.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),h.DomUtil.TRANSITION&&h.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&h.DomUtil.TRANSITION&&h.Browser.any3d&&!h.Browser.android23&&!h.Browser.mobileOpera,this._zoomAnimated&&h.DomEvent.on(this._mapPane,h.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),h.Map.include(h.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(k,m,a){if(this._animatingZoom){return !0}if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold){return !1}var q=this.getZoomScale(m),p=this._getCenterOffset(k)._divideBy(1-1/q),l=this._getCenterLayerPoint()._add(p);return a.animate===!0||this.getSize().contains(p)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(k,m,l,q,null,!0),!0):!1},_animateZoom:function(m,p,l,q,o,k){this._animatingZoom=!0,h.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=m,this._animateToZoom=p,h.Draggable&&(h.Draggable._disabled=!0),this.fire("zoomanim",{center:m,zoom:p,origin:l,scale:q,delta:o,backwards:k})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,h.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),h.Draggable&&(h.Draggable._disabled=!1)}}:{}),h.TileLayer.include({_animateZoom:function(k){this._animating||(this._animating=!0,this._prepareBgBuffer());var m=this._bgBuffer,a=h.DomUtil.TRANSFORM,o=k.delta?h.DomUtil.getTranslateString(k.delta):m.style[a],l=h.DomUtil.getScaleString(k.scale,k.origin);m.style[a]=k.backwards?l+" "+o:o+" "+l},_endZoomAnim:function(){var a=this._tileContainer,k=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),h.Util.falseFn(k.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[h.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var k=this._tileContainer,l=this._bgBuffer,a=this._getLoadedTilesPercentage(l),m=this._getLoadedTilesPercentage(k);return l&&a>0.5&&0.5>m?(k.style.visibility="hidden",void this._stopLoadingImages(k)):(l.style.visibility="hidden",l.style[h.DomUtil.TRANSFORM]="",this._tileContainer=l,l=this._bgBuffer=k,this._stopLoadingImages(l),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(k){var l,a,p=k.getElementsByTagName("img"),m=0;for(l=0,a=p.length;a>l;l++){p[l].complete&&m++}return m/a},_stopLoadingImages:function(k){var m,a,o,l=Array.prototype.slice.call(k.getElementsByTagName("img"));for(m=0,a=l.length;a>m;m++){o=l[m],o.complete||(o.onload=h.Util.falseFn,o.onerror=h.Util.falseFn,o.src=h.Util.emptyImageUrl,o.parentNode.removeChild(o))}}}),h.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:10000,maximumAge:0,enableHighAccuracy:!1},locate:function(k){if(k=this._locateOptions=h.extend(this._defaultLocateOptions,k),!navigator.geolocation){return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this}var l=h.bind(this._handleGeolocationResponse,this),a=h.bind(this._handleGeolocationError,this);return k.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,a,k):navigator.geolocation.getCurrentPosition(l,a,k),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(k){var l=k.code,a=k.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(z){var v=z.coords.latitude,p=z.coords.longitude,m=new h.LatLng(v,p),A=180*z.coords.accuracy/40075017,x=A/Math.cos(h.LatLng.DEG_TO_RAD*v),k=h.latLngBounds([v-A,p-x],[v+A,p+x]),q=this._locateOptions;if(q.setView){var o=Math.min(this.getBoundsZoom(k),q.maxZoom);this.setView(m,o)}var y={latlng:m,bounds:k,timestamp:z.timestamp};for(var w in z.coords){"number"==typeof z.coords[w]&&(y[w]=z.coords[w])}this.fire("locationfound",y)}})}(window,document);var RunalyzeLeaflet=(function(f){var j={};var c="";var e=null;var l={visible:{layers:true,scale:true},layer:"OpenStreetMap"};var d={scrollWheelZoom:false};var h={layers:null,scale:L.control.scale({imperial:false})};function g(){j.Layers=j.getNewLayers();h.layers=L.control.layers(j.Layers)}function k(m){d=f.extend({},d,m)}function b(){if(l.visible.layers&&h.layers){h.layers.addTo(j.map())}if(l.visible.scale&&h.scale){h.scale.addTo(j.map())}f('<a class="leaflet-control-zoom-full" href="javascript:RunalyzeLeaflet.toggleFullscreen();" title="Fullscreen"><i class="fa fa-expand"></i></a>').insertAfter(".leaflet-control-zoom-in");e.on("baselayerchange",function(m){if(l.layer!=m.name){j.setDefaultLayer(m.name);Runalyze.Config.setLeafletLayer(m.name)}})}function a(){e.on("mouseover",function(){f('<div id="polyline-info" class="tooltip right" style="display:none;"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>').appendTo(f("#"+c))});e.on("mouseout",function(){f("#polyline-info").remove()})}j.init=function(m,n){if(e!==null){j.Routes.removeAllRoutes();j.Routes.deletePosMarker();e.remove()}g();k(n);c=m;e=L.map(c,n).addLayer(j.Layers[l.layer]);b();a();return j};j.map=function(){return e};j.id=function(){return c};j.setDefaultLayer=function(m){l.layer=m;return j};j.toggleFullscreen=function(){if(f("#"+c).hasClass("fullscreen")){j.exitFullscreen()}else{j.enterFullscreen()}};j.enterFullscreen=function(){f("#"+c).addClass("fullscreen");f(".leaflet-control-zoom-full > i").removeClass("fa-expand").addClass("fa-compress");e._onResize()};j.exitFullscreen=function(){f("#"+c).removeClass("fullscreen");f(".leaflet-control-zoom-full > i").addClass("fa-expand").removeClass("fa-compress");e._onResize()};return j})(jQuery);RunalyzeLeaflet.getNewLayers=function(){return{OpenStreetMap:L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"OpenStreetMap (de)":L.tileLayer("http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"OpenStreetMap (hot)":L.tileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),OpenMapSurfer:L.tileLayer("http://openmapsurfer.uni-hd.de/tiles/roads/x={x}&y={y}&z={z}",{attribution:'&copy; <a href="http://giscience.uni-hd.de/">GIScience Research Group University of Heidelberg</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),HikeBikeMap:L.tileLayer("http://{s}.tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),MapQuest:L.tileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{subdomains:"1234",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>'}),Thunderforest:L.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}),Hydda:L.tileLayer("http://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://openstreetmap.se/">OpenStreetMap Sweden</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),CartoDB:L.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{subdomains:"abcd",minZoom:0,maxZoom:18,attribution:'Map tiles by <a href="http://cartodb.com/attributions">CartoDB</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),HERE:L.tileLayer("http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?token={token}&app_id={appId}",{subdomains:"1234",appId:Runalyze.Options.nokiaAuth().app,token:Runalyze.Options.nokiaAuth().token,attribution:'Map &copy; <a href="http://developer.here.com">Nokia</a>, Data &copy; NAVTEQ 2012'}),GoogleMaps:L.tileLayer("http://mt0.google.com/vt/lyrs=m@142&x={x}&y={y}&z={z}",{attribution:'&copy; <a href="http://maps.google.com/" target="_blank">Google Maps</a>'}),GoogleTerrain:L.tileLayer("http://mt0.google.com/vt/lyrs=t@126,r@142&x={x}&y={y}&z={z}",{attribution:'&copy; <a href="http://maps.google.com/" target="_blank">Google Terrain</a>'}),SigmaCycle:L.tileLayer("http://tiles1.sigma-dc-control.com/layer8/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.sigmasport.com/" target="_blank">SIGMA Sport &reg;</a>'}),OpenCycleMap:L.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Esri:L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles: &copy; <a href="http://www.esri.com/" target="_blank">Esri</a>'}),EsriSatellite:L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Stamen:L.tileLayer("http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"Stamen (watercolor)":L.tileLayer("http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Acetate:L.tileLayer("http://a{s}.acetate.geoiq.com/tiles/acetate-hillshading/{z}/{x}/{y}.png",{subdomains:"0123",minZoom:2,maxZoom:18,attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth"})}};RunalyzeLeaflet.Routes=(function(e,k,j){var o={routeid:0};var g;var y=0.0003;var t=0.01;var m=20;var z=false;var f=false;var q=13;var d="#polyline-info .tooltip-inner";var a={};var c={defaults:{color:"#ff8000",weight:3,opacity:1},hover:{weight:8,opacity:0.7}};function p(B,A){a[B].marker.push(A);A.on("mouseover",function(C){e(d).html(C.target.options.tooltip).parent().show();w(C);e(d).parent().addClass("in")}).on("mouseout",function(C){e(d).parent().removeClass("in").hide()})}function b(){for(var A in a){if(k.map().getZoom()>=q){k.map().addLayer(a[A].markergroup)}else{k.map().removeLayer(a[A].markergroup)}}}function n(A){a[A].polyline.on("mouseover",l,{id:A});a[A].polyline.on("mouseout",u,{id:A})}function r(){if(!f){k.map().on("mousemove",h)}f=true}function h(A){if(z!==false){s(x(A.latlng));w(A)}}function l(A){if(a[this.id].segmentsInfo.length){e(d).parent().show();z=this.id;s(x(A.latlng));w(A);e(d).parent().addClass("in")}a[this.id].polyline.setStyle({weight:c.hover.weight,opacity:c.hover.opacity})}function u(A){z=false;e(d).parent().removeClass("in").hide();a[this.id].polyline.setStyle({weight:a[this.id].options.weight,opacity:a[this.id].options.opacity})}function x(G){var F=z;for(var C=0,D=a[F].segments.length;C<D;C++){for(var E=0,B=a[F].segments[C].length;E<B;E++){var A=a[F].segments[C][E];if(j.abs(A[0]-G.lat)<y&&j.abs(A[1]-G.lng)<y){return a[F].segmentsInfo[C][E]}}}return{}}function w(E){var D=e(d).parent(),A=D.outerHeight(),C=E.originalEvent.clientX-e("#"+k.id()).offset().left+window.pageXOffset,B=E.originalEvent.clientY-e("#"+k.id()).offset().top+window.pageYOffset;D.css({top:B-A/2,left:C+10})}function s(D){if(!D.length){return}var E="";var F=a[z].segmentsInfoLabels;var C=a[z].segmentsInfoFunctions;for(var A=0;A<F.length;++A){if(F[A]){var B=D[A];if(C[A]){B=C[A](B)}E=E+"<strong>"+F[A]+":</strong> "+B+"<br>"}}if(E!=""){e(d).html(E.substr(0,E.length-4))}}function v(A){if(k.map()){if(!g){g=L.marker(A,{icon:o.posIcon()}).addTo(k.map())}else{g.setLatLng(A)}}}o.addRoute=function(C,A){A.segments=A.segments||[];A.segmentsInfoLabels=A.segmentsInfoLabels||[];A.segmentsInfoFunctions=A.segmentsInfoFunctions||[];A.segmentsInfo=A.segmentsInfo||[];A.marker=A.marker||[];A.markertopush=A.markertopush||[];A.markergroup=L.layerGroup();A.visible=A.visible!==false;A.hoverable=A.hoverable!==false;A.autofit=A.autofit!==false;A.options=e.extend(c.defaults,A.options);A.polyline=L.multiPolyline(A.segments,A.options);a[C]=A;for(var B in A.markertopush){p(C,A.markertopush[B])}if(A.visible){if(A.hoverable){n(C)}a[C].markergroup=L.layerGroup(a[C].marker);o.showRoute(C)}r();k.map().on("zoomend",b)};o.fitTo=function(A){k.map().fitBounds(a[A].polyline.getBounds(),{animate:false});b()};o.showRoute=function(A){k.map().addLayer(a[A].polyline);if(k.map().getZoom()>=q){k.map().addLayer(a[A].markergroup)}if(a[A].autofit){o.fitTo(A)}a[A].visible=true};o.hideRoute=function(A){k.map().removeLayer(a[A].polyline);k.map().removeLayer(a[A].markergroup);a[A].visible=false};o.toggleRoute=function(A){if(a[A].visible){o.hideRoute(A)}else{o.showRoute(A)}};o.showAllRoutes=function(){for(var A in a){o.showRoute(A)}};o.hideAllRoutes=function(){for(var A in a){o.hideRoute(A)}};o.toggleAllRoutes=function(){for(var A in a){o.toggleRoute(A)}};o.removeAllRoutes=function(){o.hideAllRoutes();a={};f=false};o.segmentFromStrings=function(F,E,C){F=F.split(C);E=E.split(C);var B=F.length;var A=[];for(var D=0;D<B;D++){A[D]=[parseFloat(F[D]),parseFloat(E[D])]}return A};o.distIcon=function(A){return L.divIcon({className:"polyline-marker polyline-marker-dist",html:j.ceil(A),iconSize:[12,12],iconAnchor:[8,8]})};o.startIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-start",iconSize:[6,6],iconAnchor:[6,6]})};o.endIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-end",iconSize:[6,6],iconAnchor:[6,6]})};o.pauseIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-pause",iconSize:[12,12],iconAnchor:[8,8]})};o.posIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-pos",iconSize:[6,6],iconAnchor:[6,6]})};o.movePosMarker=function(A){var C=o.routeid;if(typeof C==="undefined"||typeof a[C]==="undefined"){return}var I;var F;var E;var H=[0,0];var B=0;for(var J=0;J<a[C].segmentsInfo.length;++J){var D=a[C].segmentsInfo[J].length;if(a[C].segmentsInfo[J][0][0]<A&&A<a[C].segmentsInfo[J][D-1][0]){B=0;E=0;F=0;I=D-1;while((I-E)>1&&B<m&&j.abs(a[C].segmentsInfo[J][F][0]-A)>t){B++;F=j.floor((I+E)/2);if(a[C].segmentsInfo[J][F][0]>A){I=F}else{E=F}}if(E!=I){var G=(A-a[C].segmentsInfo[J][E][0])/(a[C].segmentsInfo[J][I][0]-a[C].segmentsInfo[J][E][0]);H=[a[C].segments[J][E][0]+G*(a[C].segments[J][I][0]-a[C].segments[J][E][0]),a[C].segments[J][E][1]+G*(a[C].segments[J][I][1]-a[C].segments[J][E][1])]}else{H=a[C].segments[J][F]}}}v(H)};o.unsetPosMarker=function(){v([0,0])};o.deletePosMarker=function(){g=false};return o}(jQuery,RunalyzeLeaflet,Math));(function(b){var c={theme:"fip-grey",source:false,emptyIcon:true,emptyIconValue:"",iconsPerPage:20,hasSearch:true,searchSource:false,useAttribute:false,attributeName:"data-icon",convertToHex:true,allCategoryText:"From all categories",unCategorizedText:"Uncategorized"};function a(e,d){this.element=b(e);this.settings=b.extend({},c,d);if(this.settings.emptyIcon){this.settings.iconsPerPage--}this.iconPicker=b("<div/>",{"class":"icons-selector",style:"position: relative",html:'<div class="selector"><span class="selected-icon"><i class="fip-icon-block"></i></span><span class="selector-button"><i class="fip-icon-down-dir"></i></span></div><div class="selector-popup" style="display: none;">'+((this.settings.hasSearch)?'<div class="selector-search"><input type="text" name="" value="" placeholder="Search icon" class="icons-search-input"/><i class="fip-icon-search"></i></div>':"")+'<div class="selector-category"><select name="" class="icon-category-select" style="display: none"></select></div><div class="fip-icons-container"></div><div class="selector-footer" style="display:none;"><span class="selector-pages">1/2</span><span class="selector-arrows"><span class="selector-arrow-left" style="display:none;"><i class="fip-icon-left-dir"></i></span><span class="selector-arrow-right"><i class="fip-icon-right-dir"></i></span></span></div></div>'});this.iconContainer=this.iconPicker.find(".fip-icons-container");this.searchIcon=this.iconPicker.find(".selector-search i");this.iconsSearched=[];this.isSearch=false;this.totalPage=1;this.currentPage=1;this.currentIcon=false;this.iconsCount=0;this.open=false;this.searchValues=[];this.availableCategoriesSearch=[];this.triggerEvent=null;this.backupSource=[];this.backupSearch=[];this.isCategorized=false;this.selectCategory=this.iconPicker.find(".icon-category-select");this.selectedCategory=false;this.availableCategories=[];this.unCategorizedKey=null;this.init()}a.prototype={init:function(){this.iconPicker.addClass(this.settings.theme);this.iconPicker.css({left:-9999}).appendTo("body");var d=this.iconPicker.outerHeight(),f=this.iconPicker.outerWidth();this.iconPicker.css({left:""});this.element.before(this.iconPicker);this.element.css({visibility:"hidden",top:0,position:"relative",zIndex:"-1",left:"-"+f+"px",display:"inline-block",height:d+"px",width:f+"px",padding:"0",margin:"0 -"+f+"px 0 0",border:"0 none",verticalAlign:"top"});if(!this.element.is("select")){var g=(function(){var j=3,k=document.createElement("div"),h=k.all||[];while(k.innerHTML="<!--[if gt IE "+(++j)+"]><br><![endif]-->",h[0]){}return j>4?j:!j}());var e=document.createElement("div");this.triggerEvent=(g===9||!("oninput" in e))?["keyup"]:["input","keyup"]}if(!this.settings.source&&this.element.is("select")){this.settings.source=[];this.settings.searchSource=[];if(this.element.find("optgroup").length){this.isCategorized=true;this.element.find("optgroup").each(b.proxy(function(j,k){var l=this.availableCategories.length,h=b("<option />");h.attr("value",l);h.html(b(k).attr("label"));this.selectCategory.append(h);this.availableCategories[l]=[];this.availableCategoriesSearch[l]=[];b(k).find("option").each(b.proxy(function(n,o){var p=b(o).val(),m=b(o).html();if(p&&p!==this.settings.emptyIconValue){this.settings.source.push(p);this.availableCategories[l].push(p);this.searchValues.push(m);this.availableCategoriesSearch[l].push(m)}},this))},this));if(this.element.find("> option").length){this.element.find("> option").each(b.proxy(function(j,k){var l=b(k).val(),h=b(k).html();if(!l||l===""||l==this.settings.emptyIconValue){return true}if(this.unCategorizedKey===null){this.unCategorizedKey=this.availableCategories.length;this.availableCategories[this.unCategorizedKey]=[];this.availableCategoriesSearch[this.unCategorizedKey]=[];b("<option />").attr("value",this.unCategorizedKey).html(this.settings.unCategorizedText).appendTo(this.selectCategory)}this.settings.source.push(l);this.availableCategories[this.unCategorizedKey].push(l);this.searchValues.push(h);this.availableCategoriesSearch[this.unCategorizedKey].push(h)},this))}}else{this.element.find("option").each(b.proxy(function(j,k){var l=b(k).val(),h=b(k).html();if(l){this.settings.source.push(l);this.searchValues.push(h)}},this))}this.backupSource=this.settings.source.slice(0);this.backupSearch=this.searchValues.slice(0);this.loadCategories()}else{this.initSourceIndex()}this.loadIcons();this.selectCategory.on("change keyup",b.proxy(function(l){if(this.isCategorized===false){return false}var h=b(l.currentTarget),j=h.val();if(h.val()==="all"){this.settings.source=this.backupSource;this.searchValues=this.backupSearch}else{var k=parseInt(j,10);if(this.availableCategories[k]){this.settings.source=this.availableCategories[k];this.searchValues=this.availableCategoriesSearch[k]}}this.resetSearch();this.loadIcons()},this));this.iconPicker.find(".selector-button").click(b.proxy(function(){this.toggleIconSelector()},this));this.iconPicker.find(".selector-arrow-right").click(b.proxy(function(h){if(this.currentPage<this.totalPage){this.iconPicker.find(".selector-arrow-left").show();this.currentPage=this.currentPage+1;this.renderIconContainer()}if(this.currentPage===this.totalPage){b(h.currentTarget).hide()}},this));this.iconPicker.find(".selector-arrow-left").click(b.proxy(function(h){if(this.currentPage>1){this.iconPicker.find(".selector-arrow-right").show();this.currentPage=this.currentPage-1;this.renderIconContainer()}if(this.currentPage===1){b(h.currentTarget).hide()}},this));this.iconPicker.find(".icons-search-input").keyup(b.proxy(function(j){var h=b(j.currentTarget).val();if(h===""){this.resetSearch();return}this.searchIcon.removeClass("fip-icon-search");this.searchIcon.addClass("fip-icon-cancel");this.isSearch=true;this.currentPage=1;this.iconsSearched=[];b.grep(this.searchValues,b.proxy(function(l,k){if(l.toLowerCase().search(h.toLowerCase())>=0){this.iconsSearched[this.iconsSearched.length]=this.settings.source[k];return true}},this));this.renderIconContainer()},this));this.iconPicker.find(".selector-search").on("click",".fip-icon-cancel",b.proxy(function(){this.iconPicker.find(".icons-search-input").focus();this.resetSearch()},this));this.iconContainer.on("click",".fip-box",b.proxy(function(h){this.setSelectedIcon(b(h.currentTarget).find("i").attr("data-fip-value"));this.toggleIconSelector()},this));this.iconPicker.click(function(h){h.stopPropagation();return false});b("html").click(b.proxy(function(){if(this.open){this.toggleIconSelector()}},this))},initSourceIndex:function(){if(typeof(this.settings.source)!=="object"){return}if(b.isArray(this.settings.source)){this.isCategorized=false;this.selectCategory.html("").hide();this.settings.source=b.map(this.settings.source,function(m,l){if(typeof(m.toString)=="function"){return m.toString()}else{return m}});if(b.isArray(this.settings.searchSource)){this.searchValues=b.map(this.settings.searchSource,function(m,l){if(typeof(m.toString)=="function"){return m.toString()}else{return m}})}else{this.searchValues=this.settings.source.slice(0)}}else{var f=b.extend(true,{},this.settings.source);this.settings.source=[];this.searchValues=[];this.availableCategoriesSearch=[];this.selectedCategory=false;this.availableCategories=[];this.unCategorizedKey=null;this.isCategorized=true;this.selectCategory.html("");for(var k in f){var j=this.availableCategories.length,e=b("<option />");e.attr("value",j);e.html(k);this.selectCategory.append(e);this.availableCategories[j]=[];this.availableCategoriesSearch[j]=[];for(var g in f[k]){var h=f[k][g];var d=(this.settings.searchSource&&this.settings.searchSource[k]&&this.settings.searchSource[k][g])?this.settings.searchSource[k][g]:h;if(typeof(h.toString)=="function"){h=h.toString()}if(h&&h!==this.settings.emptyIconValue){this.settings.source.push(h);this.availableCategories[j].push(h);this.searchValues.push(d);this.availableCategoriesSearch[j].push(d)}}}}this.backupSource=this.settings.source.slice(0);this.backupSearch=this.searchValues.slice(0);this.loadCategories()},loadCategories:function(){if(this.isCategorized===false){return}b('<option value="all">'+this.settings.allCategoryText+"</option>").prependTo(this.selectCategory);this.selectCategory.show().val("all").trigger("change")},loadIcons:function(){this.iconContainer.html('<i class="fip-icon-spin3 animate-spin loading"></i>');if(this.settings.source instanceof Array){this.renderIconContainer()}},renderIconContainer:function(){var h,g=[];if(this.isSearch){g=this.iconsSearched}else{g=this.settings.source}this.iconsCount=g.length;this.totalPage=Math.ceil(this.iconsCount/this.settings.iconsPerPage);if(this.totalPage>1){this.iconPicker.find(".selector-footer").show()}else{this.iconPicker.find(".selector-footer").hide()}this.iconPicker.find(".selector-pages").html(this.currentPage+"/"+this.totalPage+" <em>("+this.iconsCount+")</em>");h=(this.currentPage-1)*this.settings.iconsPerPage;if(this.settings.emptyIcon){this.iconContainer.html('<span class="fip-box"><i class="fip-icon-block" data-fip-value="fip-icon-block"></i></span>')}else{if(g.length<1){this.iconContainer.html('<span class="icons-picker-error"><i class="fip-icon-block" data-fip-value="fip-icon-block"></i></span>');return}else{this.iconContainer.html("")}}g=g.slice(h,h+this.settings.iconsPerPage);for(var d=0,f;f=g[d++];){var e=f;b.grep(this.settings.source,b.proxy(function(k,j){if(k===f){e=this.searchValues[j];return true}return false},this));b("<span/>",{html:'<i data-fip-value="'+f+'" '+(this.settings.useAttribute?(this.settings.attributeName+'="'+(this.settings.convertToHex?"&#x"+parseInt(f,10).toString(16)+";":f)+'"'):'class="'+f+'"')+"></i>","class":"fip-box",title:e}).appendTo(this.iconContainer)}if(!this.settings.emptyIcon&&(!this.element.val()||b.inArray(this.element.val(),this.settings.source)===-1)){this.setSelectedIcon(g[0])}else{if(b.inArray(this.element.val(),this.settings.source)===-1){this.setSelectedIcon()}else{this.setSelectedIcon(this.element.val())}}},setHighlightedIcon:function(){this.iconContainer.find(".current-icon").removeClass("current-icon");if(this.currentIcon){this.iconContainer.find('[data-fip-value="'+this.currentIcon+'"]').parent("span").addClass("current-icon")}},setSelectedIcon:function(e){if(e==="fip-icon-block"){e=""}if(this.settings.useAttribute){if(e){this.iconPicker.find(".selected-icon").html("<i "+this.settings.attributeName+'="'+(this.settings.convertToHex?"&#x"+parseInt(e,10).toString(16)+";":e)+'"></i>')}else{this.iconPicker.find(".selected-icon").html('<i class="fip-icon-block"></i>')}}else{this.iconPicker.find(".selected-icon").html('<i class="'+(e||"fip-icon-block")+'"></i>')}this.element.val((e===""?this.settings.emptyIconValue:e)).trigger("change");if(this.triggerEvent!==null){for(var d in this.triggerEvent){this.element.trigger(this.triggerEvent[d])}}this.currentIcon=e;this.setHighlightedIcon()},toggleIconSelector:function(){this.open=(!this.open)?1:0;this.iconPicker.find(".selector-popup").slideToggle(300);this.iconPicker.find(".selector-button i").toggleClass("fip-icon-down-dir");this.iconPicker.find(".selector-button i").toggleClass("fip-icon-up-dir");if(this.open){this.iconPicker.find(".icons-search-input").focus().select()}},resetSearch:function(){this.iconPicker.find(".icons-search-input").val("");this.searchIcon.removeClass("fip-icon-cancel");this.searchIcon.addClass("fip-icon-search");this.iconPicker.find(".selector-arrow-left").hide();this.currentPage=1;this.isSearch=false;this.renderIconContainer();if(this.totalPage>1){this.iconPicker.find(".selector-arrow-right").show()}}};b.fn.fontIconPicker=function(d){this.each(function(){if(!b.data(this,"fontIconPicker")){b.data(this,"fontIconPicker",new a(this,d))}});this.setIcons=b.proxy(function(f,e){if(undefined===f){f=false}if(undefined===e){e=false}this.each(function(){b.data(this,"fontIconPicker").settings.source=f;b.data(this,"fontIconPicker").settings.searchSource=e;b.data(this,"fontIconPicker").initSourceIndex();b.data(this,"fontIconPicker").resetSearch();b.data(this,"fontIconPicker").loadIcons()})},this);this.destroyPicker=b.proxy(function(){this.each(function(){if(!b.data(this,"fontIconPicker")){return}b.data(this,"fontIconPicker").iconPicker.remove();b.data(this,"fontIconPicker").element.css({visibility:"",top:"",position:"",zIndex:"",left:"",display:"",height:"",width:"",padding:"",margin:"",border:"",verticalAlign:""});b.removeData(this,"fontIconPicker")})},this);this.refreshPicker=b.proxy(function(e){if(!e){e=d}this.destroyPicker();this.each(function(){if(!b.data(this,"fontIconPicker")){b.data(this,"fontIconPicker",new a(this,e))}})},this);return this}})(jQuery);