/*! jQuery v2.1.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m=a.document,n="2.1.0",o=function(a,b){return new o.fn.init(a,b)},p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};o.fn=o.prototype={jquery:n,constructor:o,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=o.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return o.each(this,a,b)},map:function(a){return this.pushStack(o.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},o.extend=o.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||o.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(o.isPlainObject(d)||(e=o.isArray(d)))?(e?(e=!1,f=c&&o.isArray(c)?c:[]):f=c&&o.isPlainObject(c)?c:{},g[b]=o.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},o.extend({expando:"jQuery"+(n+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==o.type(a)||a.nodeType||o.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(b){return !1}return !0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=o.trim(a),a&&(1===a.indexOf("use strict")?(b=m.createElement("script"),b.text=a,m.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":k.call(a)},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?o.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),o.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||o.guid++,f):void 0},now:Date.now,support:l}),o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=o.type(a);return"function"===c||o.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a){return d}if(1!==(i=b.nodeType)&&9!==i){return[]}if(n&&!e){if(f=Z.exec(a)){if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode){return d}if(g.id===h){return d.push(g),d}}else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h){return d.push(g),d}}}else{if(f[2]){return G.apply(d,b.getElementsByTagName(a)),d}if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return G.apply(d,b.getElementsByClassName(h)),d}}}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--){m[j]=q+pb(m[j])}u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v){try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},z=b?function(a,b){if(a===b){return j=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b){return j=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0}if(f===g){return ib(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){k.unshift(c)}while(h[d]===k[d]){d++}return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b))){try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}}else{if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=jb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=kb(b)}function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter){!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)}})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return !g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++){if(c=d.relative[a[j].type]){m=[qb(rb(m),c)]}else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++){if(d.relative[a[e].type]){break}}return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||0.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++]){if(o(m,g,i)){j.push(m);break}}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++]){o(r,s,g,i)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=E.call(j))}}s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--){f=ub(b[c]),f[s]?d.push(f):e.push(f)}f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++){db(a,b[d],c)}return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b){return e}a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type]){break}if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a){return G.apply(e,f),e}break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);o.find=t,o.expr=t.selectors,o.expr[":"]=o.expr.pseudos,o.unique=t.uniqueSort,o.text=t.getText,o.isXMLDoc=t.isXML,o.contains=t.contains;var u=o.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(o.isFunction(b)){return o.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return o.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return o.filter(b,a,c)}b=o.filter(b,a)}return o.grep(a,function(a){return g.call(b,a)>=0!==c})}o.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?o.find.matchesSelector(d,a)?[d]:[]:o.find.matches(a,o.grep(b,function(a){return 1===a.nodeType}))},o.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(o(a).filter(function(){for(b=0;c>b;b++){if(o.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){o.find(a,e[b],d)}return d=this.pushStack(c>1?o.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?o(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=o.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof o?b[0]:b,o.merge(this,o.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:m,!0)),v.test(c[1])&&o.isPlainObject(b)){for(c in b){o.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}return d=m.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=m,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):o.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(o):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),o.makeArray(a,this))};A.prototype=o.fn,y=o(m);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};o.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&o(a).is(c)){break}d.push(a)}}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),o.fn.extend({has:function(a){var b=o(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(o.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?o(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&o.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?o.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(o(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(o.unique(o.merge(this.get(),o(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType){}return a}o.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return a.contentDocument||o.merge([],a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=o.filter(d,e)),this.length>1&&(C[a]||o.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return o.each(a.match(E)||[],function(a,c){b[c]=!0}),b}o.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):o.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++){if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){o.each(b,function(b,c){var d=o.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&o.each(arguments,function(a,b){var c;while((c=o.inArray(b,h,c))>-1){h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}}),this},has:function(a){return a?o.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return !i},fireWith:function(a,b){return !h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!c}};return k},o.extend({Deferred:function(a){var b=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return o.Deferred(function(c){o.each(b,function(b,f){var g=o.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&o.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?o.extend(a,d):d}},e={};return d.pipe=d.then,o.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&o.isFunction(a.promise)?e:0,g=1===f?a:o.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&o.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;o.fn.ready=function(a){return o.ready.promise().done(a),this},o.extend({isReady:!1,readyWait:1,holdReady:function(a){a?o.readyWait++:o.ready(!0)},ready:function(a){(a===!0?--o.readyWait:o.isReady)||(o.isReady=!0,a!==!0&&--o.readyWait>0||(H.resolveWith(m,[o]),o.fn.trigger&&o(m).trigger("ready").off("ready")))}});function I(){m.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),o.ready()}o.ready.promise=function(b){return H||(H=o.Deferred(),"complete"===m.readyState?setTimeout(o.ready):(m.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},o.ready.promise();var J=o.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===o.type(c)){e=!0;for(h in c){o.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,o.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(o(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f};o.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=o.expando+Math.random()}K.uid=1,K.accepts=o.acceptData,K.prototype={key:function(a){if(!K.accepts(a)){return 0}var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,o.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b){f[b]=c}else{if(o.isEmptyObject(f)){o.extend(this.cache[e],b)}else{for(d in b){f[d]=b[d]}}}return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,o.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b){this.cache[f]={}}else{o.isArray(b)?d=b.concat(b.map(o.camelCase)):(e=o.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--){delete g[d[c]]}}},hasData:function(a){return !o.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?o.parseJSON(c):c}catch(e){}M.set(a,b,c)}else{c=void 0}}return c}o.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),o.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--){d=g[c].name,0===d.indexOf("data-")&&(d=o.camelCase(d.slice(5)),P(f,d,e[d]))}L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=o.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c){return c}if(c=M.get(f,d),void 0!==c){return c}if(c=P(f,d,void 0),void 0!==c){return c}}else{this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),o.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||o.isArray(c)?d=L.access(a,b,o.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=o.queue(a,b),d=c.length,e=c.shift(),f=o._queueHooks(a,b),g=function(){o.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:o.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),o.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?o.queue(this[0],a):void 0===b?this:this.each(function(){var c=o.queue(this,a,b);o._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=o.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===o.css(a,"display")||!o.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=m.createDocumentFragment(),b=a.appendChild(m.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";l.focusinBubbles="onfocusin" in a;var V=/^key/,W=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return !0}function $(){return !1}function _(){try{return m.activeElement}catch(a){}}o.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=o.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof o!==U&&o.event.triggered!==b.type?o.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--){h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n&&(l=o.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=o.event.special[n]||{},k=o.extend({type:n,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&o.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),o.event.global[n]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n){l=o.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||o.removeEvent(a,n,r.handle),delete i[n])}else{for(n in i){o.event.remove(a,n+b[j],c,d,!0)}}}o.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,p=[d||m],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||m,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+o.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[o.expando]?b:new o.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:o.makeArray(c,[b]),n=o.event.special[q]||{},e||!n.trigger||n.trigger.apply(d,c)!==!1)){if(!e&&!n.noBubble&&!o.isWindow(d)){for(i=n.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode){p.push(g),h=g}h===(d.ownerDocument||m)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped()){b.type=f>1?i:n.bindType||q,l=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),l&&l.apply(g,c),l=k&&g[k],l&&l.apply&&o.acceptData(g)&&(b.result=l.apply(g,c),b.result===!1&&b.preventDefault())}return b.type=q,e||b.isDefaultPrevented()||n._default&&n._default.apply(p.pop(),c)!==!1||!o.acceptData(d)||k&&o.isFunction(d[q])&&!o.isWindow(d)&&(h=d[k],h&&(d[k]=null),o.event.triggered=q,d[q](),o.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=o.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=o.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=o.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((o.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!==this;i=i.parentNode||this){if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?o(e,this).index(i)>=0:o.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||m,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[o.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new o.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=m),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return o.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=o.extend(new o.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?o.event.trigger(e,null,b):o.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},o.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},o.Event=function(a,b){return this instanceof o.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?Z:$):this.type=a,b&&o.extend(this,b),this.timeStamp=a&&a.timeStamp||o.now(),void (this[o.expando]=!0)):new o.Event(a,b)},o.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!o.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){o.event.simulate(b,a.target,o.event.fix(a),!0)};o.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),o.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a){this.on(g,b,c,a[g],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=$}else{if(!d){return this}}return 1===e&&(f=d,d=function(a){return o().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=o.guid++)),this.each(function(){o.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,o(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){o.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?o.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return o.nodeName(a,"table")&&o.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++){L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){o.event.add(b,e,j[e][c])}}}M.hasData(a)&&(h=M.access(a),i=o.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&o.nodeName(a,b)?o.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}o.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=o.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||o.isXMLDoc(a))){for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++){pb(f[d],g[d])}}if(b){if(c){for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++){nb(f[d],g[d])}}else{nb(a,h)}}return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++){if(e=a[m],e||0===e){if("object"===o.type(e)){o.merge(l,e.nodeType?[e]:e)}else{if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--){f=f.lastChild}o.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else{l.push(b.createTextNode(e))}}}}k.textContent="",m=0;while(e=l[m++]){if((!d||-1===o.inArray(e,d))&&(i=o.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++]){fb.test(e.type||"")&&c.push(e)}}}return k},cleanData:function(a){for(var b,c,d,e,f,g,h=o.event.special,i=0;void 0!==(c=a[i]);i++){if(o.acceptData(c)&&(f=c[L.expando],f&&(b=L.cache[f]))){if(d=Object.keys(b.events||{}),d.length){for(g=0;void 0!==(e=d[g]);g++){h[e]?o.event.remove(c,e):o.removeEvent(c,e,b.handle)}}L.cache[f]&&delete L.cache[f]}delete M.cache[c[M.expando]]}}}),o.fn.extend({text:function(a){return J(this,function(a){return void 0===a?o.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?o.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||o.cleanData(ob(c)),c.parentNode&&(b&&o.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(o.cleanData(ob(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return o.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(o.cleanData(ob(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,o.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,n=k-1,p=a[0],q=o.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&eb.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(k&&(c=o.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=o.map(ob(c,"script"),kb),g=f.length;k>j;j++){h=c,j!==n&&(h=o.clone(h,!0,!0),g&&o.merge(f,ob(h,"script"))),b.call(this[j],h,j)}if(g){for(i=f[f.length-1].ownerDocument,o.map(f,lb),j=0;g>j;j++){h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&o.contains(i,h)&&(h.src?o._evalUrl&&o._evalUrl(h.src):o.globalEval(h.textContent.replace(hb,"")))}}}return this}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(a){for(var c,d=[],e=o(a),g=e.length-1,h=0;g>=h;h++){c=h===g?this:this.clone(!0),o(e[h])[b](c),f.apply(d,c.get())}return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d=o(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:o.css(d[0],"display");return d.detach(),e}function tb(a){var b=m,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||o.contains(a.ownerDocument,a)||(g=o.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e=m.documentElement,f=m.createElement("div"),g=m.createElement("div");g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(g);function h(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",e.appendChild(f);var d=a.getComputedStyle(g,null);b="1%"!==d.top,c="4px"===d.width,e.removeChild(f)}a.getComputedStyle&&o.extend(l,{pixelPosition:function(){return h(),b},boxSizingReliable:function(){return null==c&&h(),c},reliableMarginRight:function(){var b,c=g.appendChild(m.createElement("div"));return c.style.cssText=g.style.cssText=d,c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.innerHTML="",b}})}(),o.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a){return b}var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--){if(b=Eb[e]+c,b in a){return b}}return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=o.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=o.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=o.css(a,"border"+R[f]+"Width",!0,e))):(g+=o.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=o.css(a,"border"+R[f]+"Width",!0,e)))}return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===o.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e)){return e}d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):f[g]||(e=S(d),(c&&"none"!==c||!e)&&L.set(d,"olddisplay",e?c:o.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o.camelCase(b),i=a.style;return b=o.cssProps[h]||(o.cssProps[h]=Fb(i,h)),g=o.cssHooks[b]||o.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(o.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||o.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=o.camelCase(b);return b=o.cssProps[h]||(o.cssProps[h]=Fb(a.style,h)),g=o.cssHooks[b]||o.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||o.isNumeric(f)?f||0:e):e}}),o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&zb.test(o.css(a,"display"))?o.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===o.css(a,"boxSizing",!1,e),e):0)}}}),o.cssHooks.marginRight=yb(l.reliableMarginRight,function(a,b){return b?o.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),o.each({margin:"",padding:"",border:"Width"},function(a,b){o.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+R[d]+b]=f[d]||f[d-2]||f[0]}return e}},ub.test(a)||(o.cssHooks[a+b].set=Gb)}),o.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(o.isArray(b)){for(d=wb(a),e=b.length;e>g;g++){f[b[g]]=o.css(a,b[g],!1,d)}return f}return void 0!==c?o.style(a,b,c):o.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?o(this).show():o(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}o.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(o.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?o.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=o.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){o.fx.step[a.prop]?o.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[o.cssProps[a.prop]]||o.cssHooks[a.prop])?o.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},o.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},o.fx=Kb.prototype.init,o.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(o.cssNumber[a]?"":"px"),g=(o.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(o.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,o.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=o.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=R[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Vb(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&S(a),p=L.get(a,"fxshow");c.queue||(h=o._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,o.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=o.css(a,"display"),"none"===j&&(j=tb(a.nodeName)),"inline"===j&&"none"===o.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!p||void 0===p[d]){continue}n=!0}l[d]=p&&p[d]||o.style(a,d)}}if(!o.isEmptyObject(l)){p?"hidden" in p&&(n=p.hidden):p=L.access(a,"fxshow",{}),f&&(p.hidden=!n),n?o(a).show():k.done(function(){o(a).hide()}),k.done(function(){var b;L.remove(a,"fxshow");for(b in l){o.style(a,b,l[b])}});for(d in l){g=Ub(n?p[d]:0,d,k),d in p||(p[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function Wb(a,b){var c,d,e,f,g;for(c in a){if(d=o.camelCase(c),e=b[d],f=a[c],o.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=o.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=o.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:o.extend({},b),opts:o.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=o.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++){if(d=Qb[f].call(j,a,k,j.opts)){return d}}return o.map(k,Ub,j),o.isFunction(j.opts.start)&&j.opts.start.call(a,j),o.fx.timer(o.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}o.Animation=o.extend(Xb,{tweener:function(a,b){o.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)}},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),o.speed=function(a,b,c){var d=a&&"object"==typeof a?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};return d.duration=o.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in o.fx.speeds?o.fx.speeds[d.duration]:o.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){o.isFunction(d.old)&&d.old.call(this),d.queue&&o.dequeue(this,d.queue)},d},o.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.isEmptyObject(a),f=o.speed(b,c,d),g=function(){var b=Xb(this,o.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=o.timers,g=L.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Pb.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&o.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=o.timers,g=d?d.length:0;for(c.finish=!0,o.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),o.each(["toggle","show","hide"],function(a,b){var c=o.fn[b];o.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),o.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),o.timers=[],o.fx.tick=function(){var a,b=0,c=o.timers;for(Lb=o.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||o.fx.stop(),Lb=void 0},o.fx.timer=function(a){o.timers.push(a),a()?o.fx.start():o.timers.pop()},o.fx.interval=13,o.fx.start=function(){Mb||(Mb=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Mb),Mb=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(a,b){return a=o.fx?o.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=m.createElement("input"),b=m.createElement("select"),c=b.appendChild(m.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=m.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var Yb,Zb,$b=o.expr.attrHandle;o.fn.extend({attr:function(a,b){return J(this,o.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){o.removeAttr(this,a)})}}),o.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===U?o.prop(a,b,c):(1===f&&o.isXMLDoc(a)||(b=b.toLowerCase(),d=o.attrHooks[b]||(o.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=o.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void o.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=o.propFix[c]||c,o.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&o.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?o.removeAttr(a,c):a.setAttribute(c,c),c}},o.each(o.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||o.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;o.fn.extend({prop:function(a,b){return J(this,o.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[o.propFix[a]||a]})}}),o.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!o.isXMLDoc(a),f&&(b=o.propFix[b]||b,e=o.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),l.optSelected||(o.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;o.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a)){return this.each(function(b){o(this).addClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=o.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a)){return this.each(function(b){o(this).removeClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?o.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(o.isFunction(a)?function(c){o(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=o(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0){return !0}}return !1}});var bc=/\r/g;o.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=o.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,o(this).val()):a,null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.map(e,function(a){return null==a?"":a+""})),b=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=o.valHooks[e.type]||o.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),o.extend({valHooks:{select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&o.nodeName(c.parentNode,"optgroup"))){if(b=o(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=o.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=o.inArray(o(d).val(),f)>=0)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(a,b){return o.isArray(b)?a.checked=o.inArray(o(a).val(),b)>=0:void 0}},l.checkOn||(o.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){o.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),o.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=o.now(),dc=/\?/;o.parseJSON=function(a){return JSON.parse(a+"")},o.parseXML=function(a){var b,c;if(!a||"string"!=typeof a){return null}try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=m.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(o.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,o.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=o.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&o.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,o.ajaxSettings),b):tc(o.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=o.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?o(l):o.event,n=o.Deferred(),p=o.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e)){f[b[1].toLowerCase()]=b[2]}}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(n.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=o.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=o.param(k.data,k.traditional)),sc(nc,k,b,v),2===t){return v}i=k.global,i&&0===o.active++&&o.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(o.lastModified[d]&&v.setRequestHeader("If-Modified-Since",o.lastModified[d]),o.etag[d]&&v.setRequestHeader("If-None-Match",o.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers){v.setRequestHeader(j,k.headers[j])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(j in {success:1,error:1,complete:1}){v[j](k[j])}if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(o.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(o.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?n.resolveWith(l,[r,x,v]):n.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--o.active||o.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return o.get(a,b,c,"json")},getScript:function(a,b){return o.get(a,void 0,b,"script")}}),o.each(["get","post"],function(a,b){o[b]=function(a,c,d,e){return o.isFunction(c)&&(e=e||d,d=c,c=void 0),o.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){o.fn[b]=function(a){return this.on(b,a)}}),o._evalUrl=function(a){return o.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},o.fn.extend({wrapAll:function(a){var b;return o.isFunction(a)?this.each(function(b){o(this).wrapAll(a.call(this,b))}):(this[0]&&(b=o(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return this.each(o.isFunction(a)?function(b){o(this).wrapInner(a.call(this,b))}:function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=o.isFunction(a);return this.each(function(c){o(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()}}),o.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},o.expr.filters.visible=function(a){return !o.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(o.isArray(b)){o.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==o.type(b)){d(a,b)}else{for(e in b){Bc(a+"["+e+"]",b[e],c,d)}}}}o.param=function(a,b){var c,d=[],e=function(a,b){b=o.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(a)||a.jquery&&!o.isPlainObject(a)){o.each(a,function(){e(this.name,this.value)})}else{for(c in a){Bc(c,a[c],b,e)}}return d.join("&").replace(wc,"+")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=o.prop(this,"elements");return a?o.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!o(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=o(this).val();return null==c?null:o.isArray(c)?o.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),o.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=o.ajaxSettings.xhr();a.ActiveXObject&&o(a).on("unload",function(){for(var a in Dc){Dc[a]()}}),l.cors=!!Fc&&"withCredentials" in Fc,l.ajax=Fc=!!Fc,o.ajaxTransport(function(a){var b;return l.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){f.setRequestHeader(e,c[e])}b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return o.globalEval(a),a}}}),o.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),o.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=o("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),m.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||o.expando+"_"+cc++;return this[a]=!0,a}}),o.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=o.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||o.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&o.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||m;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=o.buildFragment([a],b,e),e&&e.length&&o(e).remove(),o.merge([],d.childNodes))};var Ic=o.fn.load;o.fn.load=function(a,b,c){if("string"!=typeof a&&Ic){return Ic.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),o.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&o.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?o("<div>").append(o.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return o.isWindow(a)?a:9===a.nodeType&&a.defaultView}o.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=o.css(a,"position"),l=o(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=o.css(a,"top"),i=o.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),o.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},o.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){o.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,o.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===o.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),o.nodeName(a[0],"html")||(d=a.offset()),d.top+=o.css(a[0],"borderTopWidth",!0),d.left+=o.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-o.css(c,"marginTop",!0),left:b.left-d.left-o.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!o.nodeName(a,"html")&&"static"===o.css(a,"position")){a=a.offsetParent}return a||Jc})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;o.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void (g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),o.each(["top","left"],function(a,b){o.cssHooks[b]=yb(l.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?o(a).position()[b]+"px":c):void 0})}),o.each({Height:"height",Width:"width"},function(a,b){o.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){o.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return o.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?o.css(b,c,g):o.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),o.fn.size=function(){return this.length},o.fn.andSelf=o.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return o});var Lc=a.jQuery,Mc=a.$;return o.noConflict=function(b){return a.$===o&&(a.$=Mc),b&&a.jQuery===o&&(a.jQuery=Lc),o},typeof b===U&&(a.jQuery=a.$=o),o});var kcalPerHour=0;function jUpdateSportValues(){var a=$("#sportid :selected"),f=a.attr("data-kcal"),g=a.attr("data-running"),c=a.attr("data-outside"),e=a.attr("data-types"),b=a.attr("data-distances"),d=a.attr("data-power");if(f>0){kcalPerHour=f}$("form .only-running").toggle(typeof g!=="undefined"&&g!==false);$("form .only-not-running").toggle(typeof g==="undefined"||g===false);$("form .only-outside").toggle(typeof c!=="undefined"&&c!==false);$("form .only-types").toggle(typeof e!=="undefined"&&e!==false);$("form .only-distances").toggle(typeof b!=="undefined"&&b!==false);$("form .only-power").toggle(typeof d!=="undefined"&&d!==false);$("#typeid option:not([data-sport='all'])").attr("disabled",true).hide();$("#typeid option[data-sport='"+a.val()+"']").attr("disabled",false).show();if($("#typeid option:selected").attr("disabled")){$("#typeid option:selected").attr("selected",false);$("#typeid option[data-sport='all']").attr("selected",true)}}function jUpdatePace(){var e=getDistance(),c=getTimeInSeconds();if(e==0||c==0){$("input[name=pace]").val("-:--");return}var f=c/60/e,a=Math.floor(f),b=Math.round((f-a)*60);if(b==60){b=0;a+=1}if(!(b>9)){$("input[name=pace]").val(a+":0"+b)}else{$("input[name=pace]").val(a+":"+b)}}function jUpdateKmh(){if(getTimeInHours()==0){return}var b=getDistance()/getTimeInHours(),a=Math.floor(b),c=Math.round((b-a)*100);if(!(c>9)){$("input[name=kmh]").val(a+",0"+c)}else{$("input[name=kmh]").val(a+","+c)}}function jUpdateKcal(){$("input[name=kcal]").val(Math.round(Number(kcalPerHour)*getTimeInHours()))}function getDistance(){return stringToDistance($("input[name=distance]").val())}function getTimeInHours(){return(getTimeInSeconds()/3600)}function getTimeInSeconds(){return stringToSeconds($("input[name=s]").val())}function stringToDistance(a){return Number(a.replace(",","."))}function stringToSeconds(c){var f=0,a=0,e=0,b=0,d=c.split(","),g=d[0].split(":");e=Number(g[0])*3600+Number(g[1])*60+Number(g[2]);if(d.length>1){if(d[1].length==1){b=Number(d[1])/10}else{b=Number(d[1])/100}}if(g.length==1){e=Number(g[0])}else{if(g.length==2){a=Number(g[0]);e=Number(g[1])}else{f=Number(g[0]);a=Number(g[1]);e=Number(g[2])}}return f*3600+a*60+e+b/100}function secondsToString(b){var a=new Date(null);a.setSeconds(b-60*60);return a.toTimeString().substr(0,8)}function sumSplitsToTotal(){var b=0,a=0;$("input[name='splits[km][]']").each(function(c){b+=stringToDistance($(this).val())});$("input[name='splits[time][]']").each(function(c){a+=stringToSeconds($(this).val())});$("#s").val(secondsToString(a));$("#distance").val(b.toFixed(2))}function allSplitsRest(){$("select[name='splits[active][]'] option[value='0']").attr("selected",true)}function allSplitsActive(){$("select[name='splits[active][]'] option[value='1']").attr("selected",true)}(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";var getData=function(data){if(typeof data!="string"){return data}if(data.indexOf("{")<0){data=eval("("+data+")")}};var getObject=function(data){if(typeof data!="string"){return data}data=eval("("+data+")");return data};if(settings.type=="html5"){var object={};$(elem.attributes).each(function(){var name=this.nodeName;if(name.match(/^data-/)){name=name.replace(/^data-/,"")}else{return true}object[name]=getObject(this.nodeValue)})}else{if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}object=getObject(data.indexOf("{")<0?"{"+data+"}":data)}$.data(elem,settings.single,object);return object}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){table.tBodies[0].innerHTML=""}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function(a){a.extend({tablesorterPager:new function(){function k(m){var l=a(m.cssPageDisplay,m.container).val((m.page+1)+m.seperator+m.totalPages)}function b(m,l){var n=m.config;n.size=l;n.totalPages=Math.ceil(n.totalRows/n.size);n.pagerPositionSet=false;d(m);e(m)}function e(l){var n=l.config;if(!n.pagerPositionSet&&n.positionFixed){var n=l.config,m=a(l);if(m.offset){n.container.css({top:m.offset().top+m.height()+"px",position:"absolute"})}n.pagerPositionSet=true}}function f(l){var m=l.config;m.page=0;d(l)}function c(l){var m=l.config;m.page=(m.totalPages-1);d(l)}function j(l){var m=l.config;m.page++;if(m.page>=(m.totalPages-1)){m.page=(m.totalPages-1)}d(l)}function g(l){var m=l.config;m.page--;if(m.page<=0){m.page=0}d(l)}function d(l){var m=l.config;if(m.page<0||m.page>(m.totalPages-1)){m.page=0}h(l,m.rowsCopy)}function h(v,w){var u=v.config;var p=w.length;var x=(u.page*u.size);var t=(x+u.size);if(t>w.length){t=w.length}var n=a(v.tBodies[0]);a.tablesorter.clearTableBody(v);for(var r=x;r<t;r++){var m=w[r];var p=m.length;for(var q=0;q<p;q++){n[0].appendChild(m[q])}}e(v,n);a(v).trigger("applyWidgets");if(u.page>=u.totalPages){c(v)}k(u)}this.appender=function(l,m){var n=l.config;n.rowsCopy=m;n.totalRows=m.length;n.totalPages=Math.ceil(n.totalRows/n.size);h(l,m)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:true,appender:this.appender};this.construct=function(l){return this.each(function(){config=a.extend(this.config,a.tablesorterPager.defaults,l);var n=this,m=config.container;a(this).trigger("appendCache");config.size=parseInt(a(".pagesize",m).val());a(config.cssFirst,m).click(function(){f(n);return false});a(config.cssNext,m).click(function(){j(n);return false});a(config.cssPrev,m).click(function(){g(n);return false});a(config.cssLast,m).click(function(){c(n);return false});a(config.cssPageSize,m).change(function(){b(n,parseInt(a(this).val()));return false})})}}});a.fn.extend({tablesorterPager:a.tablesorterPager.construct})})(jQuery);!function(b){var a=function(d,c){this.init("tooltip",d,c)};a.prototype={constructor:a,init:function(f,e,d){var g,c;this.type=f;this.$element=b(e);this.options=this.getOptions(d);this.enabled=true;if(this.options.trigger!="manual"){g=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(g,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){return c.show()}clearTimeout(this.timeout);c.hoverState="in";this.timeout=setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)},leave:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!c.options.delay||!c.options.delay.hide){return c.hide()}c.hoverState="out";this.timeout=setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)},show:function(){var g,c,j,e,h,d,f;if(this.hasContent()&&this.enabled){g=this.tip();this.setContent();if(this.options.animation){g.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,g[0],this.$element[0]):this.options.placement;c=/in/.test(d);g.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);j=this.getPosition(c);e=g[0].offsetWidth;h=g[0].offsetHeight;switch(c?d.split(" ")[1]:d){case"bottom":f={top:j.top+j.height,left:j.left+j.width/2-e/2};break;case"top":f={top:j.top-h,left:j.left+j.width/2-e/2};break;case"left":f={top:j.top+j.height/2-h/2,left:j.left-e};break;case"right":f={top:j.top+j.height/2-h/2,left:j.left+j.width};break}g.css(f).addClass(d).addClass("in")}},isHTML:function(c){return typeof c!="string"||(c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(c)},setContent:function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.isHTML(c)?"html":"text"](c);d.removeClass("fade in top bottom left right")},hide:function(){var c=this,d=this.tip();d.removeClass("in");function e(){var f=setTimeout(function(){d.off(b.support.transition.end).remove()},500);d.one(b.support.transition.end,function(){clearTimeout(f);d.remove()})}b.support.transition&&this.$tip.hasClass("fade")?e():d.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,c=this.$element,d=this.options;e=c.attr("data-original-title")||(typeof d.title=="function"?d.title.call(c[0]):d.title);return e},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var f=b(this),e=f.data("tooltip"),d=typeof c=="object"&&c;if(!e){f.data("tooltip",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);var qq=function(b){return{hide:function(){b.style.display="none";return this},attach:function(a,d){b.addEventListener?b.addEventListener(a,d,!1):b.attachEvent&&b.attachEvent("on"+a,d);return function(){qq(b).detach(a,d)}},detach:function(a,d){b.removeEventListener?b.removeEventListener(a,d,!1):b.attachEvent&&b.detachEvent("on"+a,d);return this},contains:function(a){return b===a?!0:b.contains?b.contains(a):!!(a.compareDocumentPosition(b)&8)},insertBefore:function(a){a.parentNode.insertBefore(b,a);return this},remove:function(){b.parentNode.removeChild(b);return this},css:function(a){null!==a.opacity&&("string"!==typeof b.style.opacity&&"undefined"!==typeof b.filters)&&(a.filter="alpha(opacity="+Math.round(100*a.opacity)+")");qq.extend(b.style,a);return this},hasClass:function(a){return RegExp("(^| )"+a+"( |$)").test(b.className)},addClass:function(a){qq(b).hasClass(a)||(b.className+=" "+a);return this},removeClass:function(a){b.className=b.className.replace(RegExp("(^| )"+a+"( |$)")," ").replace(/^\s+|\s+$/g,"");return this},getByClass:function(a){var f,e=[];if(b.querySelectorAll){return b.querySelectorAll("."+a)}f=b.getElementsByTagName("*");qq.each(f,function(d,g){qq(g).hasClass(a)&&e.push(g)});return e},children:function(){for(var a=[],d=b.firstChild;d;){1===d.nodeType&&a.push(d),d=d.nextSibling}return a},setText:function(a){b.innerText=a;b.textContent=a;return this},clearText:function(){return qq(b).setText("")}}};qq.log=function(d,c){if(window.console){if(!c||"info"===c){window.console.log(d)}else{if(window.console[c]){window.console[c](d)}else{window.console.log("<"+c+"> "+d)}}}};qq.isObject=function(b){return null!==b&&b&&"object"===typeof b&&b.constructor===Object};qq.isFunction=function(b){return"function"===typeof b};qq.isString=function(b){return"[object String]"===Object.prototype.toString.call(b)};qq.trimStr=function(b){return String.prototype.trim?b.trim():b.replace(/^\s+|\s+$/g,"")};qq.isFileOrInput=function(b){if(window.File&&b instanceof File){return !0}if(window.HTMLInputElement){if(b instanceof HTMLInputElement&&b.type&&"file"===b.type.toLowerCase()){return !0}}else{if(b.tagName&&"input"===b.tagName.toLowerCase()&&b.type&&"file"===b.type.toLowerCase()){return !0}}return !1};qq.isBlob=function(b){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(b)};qq.isXhrUploadSupported=function(){var b=document.createElement("input");b.type="file";return void 0!==b.multiple&&"undefined"!==typeof File&&"undefined"!==typeof FormData&&"undefined"!==typeof(new XMLHttpRequest).upload};qq.isFolderDropSupported=function(b){return b.items&&b.items[0].webkitGetAsEntry};qq.isFileChunkingSupported=function(){return !qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)};qq.extend=function(e,d,f){qq.each(d,function(a,c){f&&qq.isObject(c)?(void 0===e[a]&&(e[a]={}),qq.extend(e[a],c,!0)):e[a]=c})};qq.indexOf=function(f,e,h){if(f.indexOf){return f.indexOf(e,h)}var h=h||0,g=f.length;for(0>h&&(h+=g);h<g;h+=1){if(f.hasOwnProperty(h)&&f[h]===e){return h}}return -1};qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var c=16*Math.random()|0;return("x"==d?c:c&3|8).toString(16)})};qq.ie=function(){return -1!==navigator.userAgent.indexOf("MSIE")};qq.ie10=function(){return -1!==navigator.userAgent.indexOf("MSIE 10")};qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")};qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")};qq.firefox=function(){return -1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor};qq.windows=function(){return"Win32"===navigator.platform};qq.android=function(){return -1!==navigator.userAgent.toLowerCase().indexOf("android")};qq.preventDefault=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1};qq.toElement=function(){var b=document.createElement("div");return function(a){b.innerHTML=a;a=b.firstChild;b.removeChild(a);return a}}();qq.each=function(f,e){var h,g;if(f){for(h in f){if(Object.prototype.hasOwnProperty.call(f,h)&&(g=e(h,f[h]),!1===g)){break}}}};qq.obj2url=function(h,g,n){var m,l=[],k="&",j=function(b,f){var e=g?/\[\]$/.test(g)?g:g+"["+f+"]":f;"undefined"!==e&&"undefined"!==f&&l.push("object"===typeof b?qq.obj2url(b,e,!0):"[object Function]"===Object.prototype.toString.call(b)?encodeURIComponent(e)+"="+encodeURIComponent(b()):encodeURIComponent(e)+"="+encodeURIComponent(b))};if(!n&&g){k=/\?/.test(g)?/\?$/.test(g)?"":"&":"?",l.push(g),l.push(qq.obj2url(h))}else{if("[object Array]"===Object.prototype.toString.call(h)&&"undefined"!==typeof h){m=-1;for(n=h.length;m<n;m+=1){j(h[m],m)}}else{if("undefined"!==typeof h&&null!==h&&"object"===typeof h){for(m in h){h.hasOwnProperty(m)&&j(h[m],m)}}else{l.push(encodeURIComponent(g)+"="+encodeURIComponent(h))}}}return g?l.join(k):l.join(k).replace(/^&/,"").replace(/%20/g,"+")};qq.obj2FormData=function(e,d,f){d||(d=new FormData);qq.each(e,function(b,c){b=f?f+"["+b+"]":b;qq.isObject(c)?qq.obj2FormData(c,d,b):qq.isFunction(c)?d.append(b,c()):d.append(b,c)});return d};qq.obj2Inputs=function(e,d){var f;d||(d=document.createElement("form"));qq.obj2FormData(e,{append:function(b,c){f=document.createElement("input");f.setAttribute("name",b);f.setAttribute("value",c);d.appendChild(f)}});return d};qq.setCookie=function(g,f,k){var j=new Date,h="";k&&(j.setTime(j.getTime()+86400000*k),h="; expires="+j.toGMTString());document.cookie=g+"="+f+h+"; path=/"};qq.getCookie=function(f){for(var f=f+"=",e=document.cookie.split(";"),h,g=0;g<e.length;g++){for(h=e[g];" "==h.charAt(0);){h=h.substring(1,h.length)}if(0===h.indexOf(f)){return h.substring(f.length,h.length)}}};qq.getCookieNames=function(e){var d=document.cookie.split(";"),f=[];qq.each(d,function(a,g){var g=qq.trimStr(g),c=g.indexOf("=");g.match(e)&&f.push(g.substr(0,c))});return f};qq.deleteCookie=function(b){qq.setCookie(b,"",-1)};qq.areCookiesEnabled=function(){var b="qqCookieTest:"+100000*Math.random();qq.setCookie(b,1);return qq.getCookie(b)?(qq.deleteCookie(b),!0):!1};qq.parseJson=function(a){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(a):eval("("+a+")")};qq.DisposeSupport=function(){var b=[];return{dispose:function(){var a;do{(a=b.shift())&&a()}while(a)},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(a){b.push(a)}}};qq.supportedFeatures=function(){var h,g,n,m,l,k;h=!0;try{g=document.createElement("input"),g.type="file",qq(g).hide(),g.disabled&&(h=!1)}catch(j){h=!1}n=(g=h&&qq.isXhrUploadSupported())&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);m=g&&qq.isFileChunkingSupported();l=g&&m&&qq.areCookiesEnabled();k=g&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);return{uploading:h,ajaxUploading:g,fileDrop:g,folderDrop:n,chunking:m,resume:l,uploadCustomHeaders:g,uploadNonMultipart:g,itemSizeValidation:g,uploadViaPaste:k,progressBar:g,uploadCors:h&&(void 0!==window.postMessage||g),deleteFileCors:g}}();qq.Promise=function(){var h,g,m,l,k,j=0;return{then:function(b,a){0===j?(m=b,l=a):-1===j&&a?a(g):b&&b(h);return this},done:function(b){0===j?k=b:b();return this},success:function(a){j=1;h=a;m&&m(a);k&&k();return this},failure:function(b){j=-1;g=b;l&&l(b);k&&k();return this}}};qq.UploadButton=function(g){function f(){var b=document.createElement("input");h.multiple&&b.setAttribute("multiple","multiple");h.acceptFiles&&b.setAttribute("accept",h.acceptFiles);b.setAttribute("type","file");b.setAttribute("name",h.name);qq(b).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});h.element.appendChild(b);j.attach(b,"change",function(){h.onChange(b)});j.attach(b,"mouseover",function(){qq(h.element).addClass(h.hoverClass)});j.attach(b,"mouseout",function(){qq(h.element).removeClass(h.hoverClass)});j.attach(b,"focus",function(){qq(h.element).addClass(h.focusClass)});j.attach(b,"blur",function(){qq(h.element).removeClass(h.focusClass)});window.attachEvent&&b.setAttribute("tabIndex","-1");return b}var k,j=new qq.DisposeSupport,h={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(h,g);qq(h.element).css({position:"relative",overflow:"hidden",direction:"ltr"});k=f();return{getInput:function(){return k},reset:function(){k.parentNode&&qq(k).remove();qq(h.element).removeClass(h.focusClass);k=f()}}};qq.PasteSupport=function(d){var c;c={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}};qq.extend(c,d);(function(){qq(c.targetElement).attach("paste",function(b){(b=b.clipboardData)&&qq.each(b.items,function(e,h){if(h.type&&0===h.type.indexOf("image/")){var g=h.getAsFile();c.callbacks.pasteReceived(g)}})})})();return{reset:function(){}}};qq.FineUploaderBasic=function(b){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(c){33<c.length&&(c=c.slice(0,19)+"..."+c.slice(-14));return c},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:"kB MB GB TB PB EB".split(" ")},deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}};qq.extend(this._options,b,!0);this._wrapCallbacks();this._disposeSupport=new qq.DisposeSupport;this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._netUploaded=this._netUploadedOrQueued=0;this._paramsStore=this._createParamsStore("request");this._deleteFileParamsStore=this._createParamsStore("deleteFile");this._endpointStore=this._createEndpointStore("request");this._deleteFileEndpointStore=this._createEndpointStore("deleteFile");this._handler=this._createUploadHandler();this._deleteHandler=this._createDeleteHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler());this._preventLeaveInProgress()};qq.FineUploaderBasic.prototype={log:function(d,c){this._options.debug&&(!c||"info"===c)?qq.log("[FineUploader] "+d):c&&"info"!==c&&qq.log("[FineUploader] "+d,c)},setParams:function(d,c){null==c?this._options.request.params=d:this._paramsStore.setParams(d,c)},setDeleteFileParams:function(d,c){null==c?this._options.deleteFile.params=d:this._deleteFileParamsStore.setParams(d,c)},setEndpoint:function(d,c){null==c?this._options.request.endpoint=d:this._endpointStore.setEndpoint(d,c)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){for(var b;this._storedIds.length;){b=this._storedIds.shift(),this._filesInProgress.push(b),this._handler.upload(b)}},clearStoredFiles:function(){this._storedIds=[]},retry:function(b){return this._onBeforeManualRetry(b)?(this._netUploadedOrQueued++,this._handler.retry(b),!0):!1},cancel:function(b){this._handler.cancel(b)},cancelAll:function(){var d=[],c=this;qq.extend(d,this._storedIds);qq.each(d,function(b,e){c.cancel(e)});this._handler.cancelAll()},reset:function(){this.log("Resetting uploader...");this._handler.reset();this._filesInProgress=[];this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._button.reset();this._paramsStore.reset();this._endpointStore.reset();this._netUploaded=this._netUploadedOrQueued=0;this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(h,g,m){var l=[],k,j;if(h){if(!window.FileList||!(h instanceof FileList)){h=[].concat(h)}for(k=0;k<h.length;k+=1){j=h[k],qq.isFileOrInput(j)?l.push(j):this.log(j+" is not a File or INPUT element!  Ignoring!","warn")}this.log("Processing "+l.length+" files or inputs...");this._uploadFileOrBlobDataList(l,g,m)}},addBlobs:function(g,f,k){if(g){var g=[].concat(g),j=[],h=this;qq.each(g,function(d,c){qq.isBlob(c)&&!qq.isFileOrInput(c)?j.push({blob:c,name:h._options.blobs.defaultName}):qq.isObject(c)&&c.blob&&c.name?j.push(c):h.log("addBlobs: entry at index "+d+" is not a Blob or a BlobData object","error")});this._uploadFileOrBlobDataList(j,f,k)}else{this.log("undefined or non-array parameter passed into addBlobs","error")}},getUuid:function(b){return this._handler.getUuid(b)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(b){return this._handler.getSize(b)},getName:function(b){return this._handler.getName(b)},getFile:function(b){return this._handler.getFile(b)},deleteFile:function(b){this._onSubmitDelete(b)},setDeleteFileEndpoint:function(d,c){null==c?this._options.deleteFile.endpoint=d:this._deleteFileEndpointStore.setEndpoint(d,c)},_createUploadButton:function(e){var d=this,f=new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.supportedFeatures.ajaxUploading,acceptFiles:this._options.validation.acceptFiles,onChange:function(b){d._onInputChange(b)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});this._disposeSupport.addDisposer(function(){f.dispose()});return f},_createUploadHandler:function(){var b=this;return new qq.UploadHandler({debug:this._options.debug,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(a,d){b.log(a,d)},onProgress:function(a,h,g,f){b._onProgress(a,h,g,f);b._options.callbacks.onProgress(a,h,g,f)},onComplete:function(a,h,g,f){b._onComplete(a,h,g,f);b._options.callbacks.onComplete(a,h,g,f)},onCancel:function(a,d){b._onCancel(a,d);b._options.callbacks.onCancel(a,d)},onUpload:function(a,d){b._onUpload(a,d);b._options.callbacks.onUpload(a,d)},onUploadChunk:function(a,f,e){b._options.callbacks.onUploadChunk(a,f,e)},onResume:function(a,f,e){return b._options.callbacks.onResume(a,f,e)},onAutoRetry:function(a,h,g,f){b._preventRetries[a]=g[b._options.retry.preventRetryResponseProperty];return b._shouldAutoRetry(a,h,g)?(b._maybeParseAndSendUploadError(a,h,g,f),b._options.callbacks.onAutoRetry(a,h,b._autoRetries[a]+1),b._onBeforeAutoRetry(a,h),b._retryTimeouts[a]=setTimeout(function(){b._onAutoRetry(a,h,g)},1000*b._options.retry.autoAttemptDelay),!0):!1}})},_createDeleteHandler:function(){var b=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(a,d){b.log(a,d)},onDelete:function(a){b._onDelete(a);b._options.callbacks.onDelete(a)},onDeleteComplete:function(a,f,e){b._onDeleteComplete(a,f,e);b._options.callbacks.onDeleteComplete(a,f,e)}})},_createPasteHandler:function(){var b=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(a,d){b.log(a,d)},pasteReceived:function(a){var d=b._options.callbacks.onPasteReceived;(d=d(a))&&d.then?d.then(function(e){b._handlePasteSuccess(a,e)},function(c){b.log("Ignoring pasted image per paste received callback.  Reason = '"+c+"'")}):b._handlePasteSuccess(a)}}})},_handlePasteSuccess:function(f,e){var h=f.type.split("/")[1],g=e;null==g&&(g=this._options.paste.defaultName);this.addBlobs({name:g+("."+h),blob:f})},_preventLeaveInProgress:function(){var b=this;this._disposeSupport.attach(window,"beforeunload",function(a){if(b._filesInProgress.length){return a=a||window.event,a.returnValue=b._options.messages.onLeave}})},_onSubmit:function(b){this._netUploadedOrQueued++;this._options.autoUpload&&this._filesInProgress.push(b)},_onProgress:function(){},_onComplete:function(f,e,h,g){h.success?this._netUploaded++:this._netUploadedOrQueued--;this._removeFromFilesInProgress(f);this._maybeParseAndSendUploadError(f,e,h,g)},_onCancel:function(b){this._netUploadedOrQueued--;this._removeFromFilesInProgress(b);clearTimeout(this._retryTimeouts[b]);b=qq.indexOf(this._storedIds,b);!this._options.autoUpload&&0<=b&&this._storedIds.splice(b,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||qq.supportedFeatures.deleteFileCors)},_onSubmitDelete:function(b){if(this._isDeletePossible()){!1!==this._options.callbacks.onSubmitDelete(b)&&this._deleteHandler.sendDelete(b,this.getUuid(b))}else{return this.log("Delete request ignored for ID "+b+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1}},_onDelete:function(){},_onDeleteComplete:function(f,e,h){var g=this._handler.getName(f);h?(this.log("Delete request for '"+g+"' has failed.","error"),this._options.callbacks.onError(f,g,"Delete request failed with response code "+e.status,e)):(this._netUploadedOrQueued--,this._netUploaded--,this.log("Delete request for '"+g+"' has succeeded."))},_removeFromFilesInProgress:function(b){b=qq.indexOf(this._filesInProgress,b);0<=b&&this._filesInProgress.splice(b,1)},_onUpload:function(){},_onInputChange:function(b){qq.supportedFeatures.ajaxUploading?this.addFiles(b.files):this.addFiles(b);this._button.reset()},_onBeforeAutoRetry:function(d,c){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+c+"...")},_onAutoRetry:function(d,c){this.log("Retrying "+c+"...");this._autoRetries[d]++;this._handler.retry(d)},_shouldAutoRetry:function(b){return !this._preventRetries[b]&&this._options.retry.enableAuto?(void 0===this._autoRetries[b]&&(this._autoRetries[b]=0),this._autoRetries[b]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(e){var d=this._options.validation.itemLimit;if(this._preventRetries[e]){return this.log("Retries are forbidden for id "+e,"warn"),!1}if(this._handler.isValid(e)){var f=this._handler.getName(e);if(!1===this._options.callbacks.onManualRetry(e,f)){return !1}if(0<d&&this._netUploadedOrQueued+1>d){return this._itemError("retryFailTooManyItems",""),!1}this.log("Retrying upload for '"+f+"' (id: "+e+")...");this._filesInProgress.push(e);return !0}this.log("'"+e+"' is not a valid file ID","error");return !1},_maybeParseAndSendUploadError:function(f,e,h,g){if(!h.success){if(g&&200!==g.status&&!h.error){this._options.callbacks.onError(f,e,"XHR returned response code "+g.status,g)}else{this._options.callbacks.onError(f,e,h.error?h.error:this._options.text.defaultResponseError,g)}}},_uploadFileOrBlobDataList:function(f,e,h){var g;if(this._isBatchValid(this._getValidationDescriptors(f))){if(0<f.length){for(g=0;g<f.length;g++){if(this._validateFileOrBlobData(f[g])){this._upload(f[g],e,h)}else{if(this._options.validation.stopOnFirstInvalidFile){break}}}}else{this._itemError("noFilesError","")}}},_upload:function(f,e,h){var f=this._handler.add(f),g=this._handler.getName(f);e&&this.setParams(e,f);h&&this.setEndpoint(h,f);!1!==this._options.callbacks.onSubmit(f,g)&&(this._onSubmit(f,g),this._options.callbacks.onSubmitted(f,g),this._options.autoUpload?this._handler.upload(f):this._storeForLater(f))},_storeForLater:function(b){this._storedIds.push(b)},_isBatchValid:function(e){var d;d=this._options.validation.itemLimit;var f=this._netUploadedOrQueued+e.length;if(e=!1!==this._options.callbacks.onValidateBatch(e)){0===d||f<=d?e=!0:(e=!1,d=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,f).replace(/\{itemLimit\}/g,d),this._batchError(d))}return e},_validateFileOrBlobData:function(f){var e,h,g;e=this._getValidationDescriptor(f);h=e.name;g=e.size;return !1===this._options.callbacks.onValidate(e)?!1:qq.isFileOrInput(f)&&!this._isAllowedExtension(h)?(this._itemError("typeError",h),!1):0===g?(this._itemError("emptyError",h),!1):g&&this._options.validation.sizeLimit&&g>this._options.validation.sizeLimit?(this._itemError("sizeError",h),!1):g&&g<this._options.validation.minSizeLimit?(this._itemError("minSizeError",h),!1):!0},_itemError:function(h,g){function p(d,c){o=o.replace(d,c)}var o=this._options.messages[h],n=[],m=[].concat(g),l=m[0],j;qq.each(this._options.validation.allowedExtensions,function(d,c){qq.isString(c)&&n.push(c)});j=n.join(", ").toLowerCase();p("{file}",this._options.formatFileName(l));p("{extensions}",j);p("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit));p("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit));j=o.match(/(\{\w+\})/g);null!==j&&qq.each(j,function(d,c){p(c,m[d])});this._options.callbacks.onError(null,l,o);return o},_batchError:function(b){this._options.callbacks.onError(null,null,b)},_isAllowedExtension:function(e){var d=this._options.validation.allowedExtensions,f=!1;if(!d.length){return !0}qq.each(d,function(a,c){if(qq.isString(c)&&null!=e.match(RegExp("\\."+c+"$","i"))){return f=!0,!1}});return f},_formatSize:function(d){var c=-1;do{d/=1024,c++}while(99<d);return Math.max(d,0.1).toFixed(1)+this._options.text.sizeSymbols[c]},_wrapCallbacks:function(){var e,d;e=this;d=function(a,j,h){try{return j.apply(e,h)}catch(g){e.log("Caught exception in '"+a+"' callback - "+g.message,"error")}};for(var f in this._options.callbacks){(function(){var b,a;b=f;a=e._options.callbacks[b];e._options.callbacks[b]=function(){return d(b,a,arguments)}})()}},_parseFileOrBlobDataName:function(b){return qq.isFileOrInput(b)?b.value?b.value.replace(/.*(\/|\\)/,""):null!==b.fileName&&void 0!==b.fileName?b.fileName:b.name:b.name},_parseFileOrBlobDataSize:function(d){var c;qq.isFileOrInput(d)?d.value||(c=null!==d.fileSize&&void 0!==d.fileSize?d.fileSize:d.size):c=d.blob.size;return c},_getValidationDescriptor:function(e){var d,f;f={};d=this._parseFileOrBlobDataName(e);e=this._parseFileOrBlobDataSize(e);f.name=d;void 0!==e&&(f.size=e);return f},_getValidationDescriptors:function(e){var d=this,f=[];qq.each(e,function(b,c){f.push(d._getValidationDescriptor(c))});return f},_createParamsStore:function(e){var d={},f=this;return{setParams:function(b,h){var g={};qq.extend(g,b);d[h]=g},getParams:function(b){var a={};null!=b&&d[b]?qq.extend(a,d[b]):qq.extend(a,f._options[e].params);return a},remove:function(b){return delete d[b]},reset:function(){d={}}}},_createEndpointStore:function(e){var d={},f=this;return{setEndpoint:function(b,g){d[g]=b},getEndpoint:function(a){return null!=a&&d[a]?d[a]:f._options[e].endpoint},remove:function(b){return delete d[b]},reset:function(){d={}}}}};qq.DragAndDrop=function(r){function q(b){var k,g,f=new qq.Promise;b.isFile?b.file(function(c){h.push(c);f.success()},function(a){m.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");f.failure()}):b.isDirectory&&(k=b.createReader(),k.readEntries(function(d){var e=d.length;for(g=0;g<d.length;g+=1){q(d[g]).done(function(){e=e-1;e===0&&f.success()})}d.length||f.success()},function(a){m.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");f.failure()}));return f}function p(b){var t,s,k=[],f=new qq.Promise;m.callbacks.processingDroppedFiles();j.dropDisabled(!0);if(1<b.files.length&&!m.allowMultipleItems){m.callbacks.processingDroppedFilesComplete([]),m.callbacks.dropError("tooManyFilesError",""),j.dropDisabled(!1),f.failure()}else{h=[];if(qq.isFolderDropSupported(b)){t=b.items;for(b=0;b<t.length;b+=1){(s=t[b].webkitGetAsEntry())&&(s.isFile?h.push(t[b].getAsFile()):k.push(q(s).done(function(){k.pop();k.length===0&&f.success()})))}}else{h=b.files}0===k.length&&f.success()}return f}function o(b){j=new qq.UploadDropZone({element:b,onEnter:function(a){qq(b).addClass(m.classes.dropActive);a.stopPropagation()},onLeaveNotDescendants:function(){qq(b).removeClass(m.classes.dropActive)},onDrop:function(a){m.hideDropZonesBeforeEnter&&qq(b).hide();qq(b).removeClass(m.classes.dropActive);p(a.dataTransfer).done(function(){var c=h;m.callbacks.dropLog("Grabbed "+c.length+" dropped files.");j.dropDisabled(!1);m.callbacks.processingDroppedFilesComplete(c)})}});l.addDisposer(function(){j.dispose()});m.hideDropZonesBeforeEnter&&qq(b).hide()}function n(d){var c;qq.each(d.dataTransfer.types,function(b,e){if("Files"===e){return c=!0,!1}});return c}var m,j,h=[],l=new qq.DisposeSupport;m={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks};qq.extend(m,r,!0);(function(){var b=m.dropZoneElements;qq.each(b,function(d,c){o(c)});b.length&&(!qq.ie()||qq.ie10())&&l.attach(document,"dragenter",function(a){!j.dropDisabled()&&n(a)&&qq.each(b,function(d,c){qq(c).css({display:"block"})})});l.attach(document,"dragleave",function(a){m.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(a)&&qq.each(b,function(d,c){qq(c).hide()})});l.attach(document,"drop",function(a){m.hideDropZonesBeforeEnter&&qq.each(b,function(d,c){qq(c).hide()});a.preventDefault()})})();return{setupExtraDropzone:function(b){m.dropZoneElements.push(b);o(b)},removeDropzone:function(e){var d,f=m.dropZoneElements;for(d in f){if(f[d]===e){return f.splice(d,1)}}},dispose:function(){l.dispose();j.dispose()}}};qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(d,c){qq.log("Drag & drop error code '"+d+" with these specifics: '"+c+"'","error")},dropLog:function(d,c){qq.log(d,c)}}};qq.UploadDropZone=function(r){function q(){return qq.safari()||qq.firefox()&&qq.windows()}function p(e){if(qq.ie()&&!qq.ie10()){return !1}var d=e.dataTransfer,f=qq.safari(),e=qq.ie10()?!0:"none"!==d.effectAllowed;return d&&e&&(d.files||!f&&d.types.contains&&d.types.contains("Files"))}function o(b){void 0!==b&&(j=b);return j}var n,m,j,h,l=new qq.DisposeSupport;n={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}};qq.extend(n,r);m=n.element;(function(){h||(q?l.attach(document,"dragover",function(b){b.preventDefault()}):l.attach(document,"dragover",function(b){b.dataTransfer&&(b.dataTransfer.dropEffect="none",b.preventDefault())}),h=!0)})();(function(){l.attach(m,"dragover",function(d){if(p(d)){var c=qq.ie()?null:d.dataTransfer.effectAllowed;d.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";d.stopPropagation();d.preventDefault()}});l.attach(m,"dragenter",function(b){if(!o()&&p(b)){n.onEnter(b)}});l.attach(m,"dragleave",function(d){if(p(d)){n.onLeave(d);var c=document.elementFromPoint(d.clientX,d.clientY);if(!qq(this).contains(c)){n.onLeaveNotDescendants(d)}}});l.attach(m,"drop",function(b){!o()&&p(b)&&(b.preventDefault(),n.onDrop(b))})})();return{dropDisabled:function(b){return o(b)},dispose:function(){l.dispose()}}};qq.FineUploader=function(b){qq.FineUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(!this._options.dragAndDrop||!this._options.dragAndDrop.disableDefaultDropzone?'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>':"")+(!this._options.button?'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>':"")+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(!this._options.listElement?'<ul class="qq-upload-list"></ul>':"")+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(c){setTimeout(function(){window.alert(c)},0)},showConfirm:function(e,g,f){setTimeout(function(){window.confirm(e)?g():f&&f()},0)},showPrompt:function(f,j){var h=new qq.Promise,g=window.prompt(f,j);null!=g&&0<qq.trimStr(g).length?h.success(g):h.failure("Undefined or invalid user-supplied value.");return h}},!0);qq.extend(this._options,b,!0);!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt())};qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype);qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments);this._listElement.innerHTML=""},addExtraDropzone:function(b){this._dnd.setupExtraDropzone(b)},removeExtraDropzone:function(b){return this._dnd.removeDropzone(b)},getItemByFileId:function(d){for(var c=this._listElement.firstChild;c;){if(c.qqFileId==d){return c}c=c.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments);this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button")));this._bindCancelAndRetryEvents();this._dnd.dispose();this._dnd=this._setupDragAndDrop()},_removeFileItem:function(b){b=this.getItemByFileId(b);qq(b).remove()},_setupDragAndDrop:function(){var f=this,e=this._find(this._element,"dropProcessing"),h=this._options.dragAndDrop.extraDropzones,g;g=function(b){b.preventDefault()};this._options.dragAndDrop.disableDefaultDropzone||h.push(this._find(this._options.element,"drop"));return new qq.DragAndDrop({dropZoneElements:h,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){var a=f._button.getInput();qq(e).css({display:"block"});qq(a).attach("click",g)},processingDroppedFilesComplete:function(b){var a=f._button.getInput();qq(e).hide();qq(a).detach("click",g);b&&f.addFiles(b)},dropError:function(a,d){f._itemError(a,d)},dropLog:function(a,d){f.log(a,d)}}})},_leaving_document_out:function(b){return(qq.chrome()||qq.safari()&&qq.windows())&&0==b.clientX&&0==b.clientY||qq.firefox()&&!b.relatedTarget},_storeForLater:function(d){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var c=this.getItemByFileId(d);qq(this._find(c,"spinner")).hide()},_find:function(e,d){var f=qq(e).getByClass(this._options.classes[d])[0];if(!f){throw Error("element not found "+d)}return f},_onSubmit:function(d,c){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(d,c)},_onProgress:function(h,g,p,o){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var n,m,l,j;n=this.getItemByFileId(h);m=this._find(n,"progressBar");l=Math.round(100*(p/o));p===o?(j=this._find(n,"cancel"),qq(j).hide(),qq(m).hide(),qq(this._find(n,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(h)):(this._displayFileSize(h,p,o),qq(m).css({display:"block"}));qq(m).css({width:l+"%"})},_onComplete:function(g,f,k,j){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var h=this.getItemByFileId(g);qq(this._find(h,"statusText")).clearText();qq(h).removeClass(this._classes.retrying);qq(this._find(h,"progressBar")).hide();(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&qq(this._find(h,"cancel")).hide();qq(this._find(h,"spinner")).hide();k.success?(this._isDeletePossible()&&this._showDeleteLink(g),qq(h).addClass(this._classes.success),this._classes.successIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.successIcon))):(qq(h).addClass(this._classes.fail),this._classes.failIcon&&(this._find(h,"finished").style.display="inline-block",qq(h).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[g]&&qq(h).addClass(this._classes.retryable),this._controlFailureTextDisplay(h,k))},_onUpload:function(d,c){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments);this._showSpinner(d)},_onCancel:function(d,c){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments);this._removeFileItem(d)},_onBeforeAutoRetry:function(h){var g,m,l,k,j;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments);g=this.getItemByFileId(h);m=this._find(g,"progressBar");this._showCancelLink(g);m.style.width=0;qq(m).hide();this._options.retry.showAutoRetryNote&&(m=this._find(g,"statusText"),l=this._autoRetries[h]+1,k=this._options.retry.maxAutoAttempts,j=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,l),j=j.replace(/\{maxAuto\}/g,k),qq(m).setText(j),1===l&&qq(g).addClass(this._classes.retrying))},_onBeforeManualRetry:function(d){var c=this.getItemByFileId(d);if(qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)){return this._find(c,"progressBar").style.width=0,qq(c).removeClass(this._classes.fail),qq(this._find(c,"statusText")).clearText(),this._showSpinner(d),this._showCancelLink(c),!0}qq(c).addClass(this._classes.retryable);return !1},_onSubmitDelete:function(b){if(this._isDeletePossible()){!1!==this._options.callbacks.onSubmitDelete(b)&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(b):this._sendDeleteRequest(b))}else{return this.log("Delete request ignored for file ID "+b+", delete feature is disabled.","warn"),!1}},_onDeleteComplete:function(g,f,k){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var j=this.getItemByFileId(g),h=this._find(j,"spinner"),j=this._find(j,"statusText");qq(h).hide();k?(qq(j).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(g)):this._removeFileItem(g)},_sendDeleteRequest:function(e){var d=this.getItemByFileId(e),f=this._find(d,"deleteButton"),d=this._find(d,"statusText");qq(f).hide();this._showSpinner(e);qq(d).setText(this._options.deleteFile.deletingStatusText);this._deleteHandler.sendDelete(e,this.getUuid(e))},_showDeleteConfirm:function(e){var d=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,this._handler.getName(e));this.getUuid(e);var f=this;this._options.showConfirm(d,function(){f._sendDeleteRequest(e)})},_addToList:function(f,e){var h=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var g=this._find(h,"cancel");qq(g).remove()}h.qqFileId=f;g=this._find(h,"file");qq(g).setText(this._options.formatFileName(e));qq(this._find(h,"size")).hide();this._options.multiple||(this._handler.cancelAll(),this._clearList());this._listElement.appendChild(h);this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(f)},_clearList:function(){this._listElement.innerHTML="";this.clearStoredFiles()},_displayFileSize:function(f,e,h){var g=this.getItemByFileId(f),f=this._formatSize(this.getSize(f)),g=this._find(g,"size");void 0!==e&&void 0!==h&&(f=this._formatProgress(e,h));qq(g).css({display:"inline"});qq(g).setText(f)},_bindCancelAndRetryEvents:function(){var b=this;this._disposeSupport.attach(this._listElement,"click",function(a){var a=a||window.event,d=a.target||a.srcElement;if(qq(d).hasClass(b._classes.cancel)||qq(d).hasClass(b._classes.retry)||qq(d).hasClass(b._classes.deleteButton)){qq.preventDefault(a);for(a=d.parentNode;void 0===a.qqFileId;){a=a.parentNode}qq(d).hasClass(b._classes.deleteButton)?b.deleteFile(a.qqFileId):qq(d).hasClass(b._classes.cancel)?b.cancel(a.qqFileId):(qq(a).removeClass(b._classes.retryable),b.retry(a.qqFileId))}})},_formatProgress:function(f,e){var h=this._options.text.formatProgress,g=Math.round(100*(f/e)),h=h.replace("{percent}",g),g=this._formatSize(e);return h=h.replace("{total_size}",g)},_controlFailureTextDisplay:function(h,g){var m,l,k,j;m=this._options.failedUploadTextDisplay.mode;l=this._options.failedUploadTextDisplay.maxChars;k=this._options.failedUploadTextDisplay.responseProperty;"custom"===m?((m=g[k])?m.length>l&&(j=m.substring(0,l)+"..."):(m=this._options.text.failUpload,this.log("'"+k+"' is not a valid property on the server response.","warn")),qq(this._find(h,"statusText")).setText(j||m),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(h,m)):"default"===m?qq(this._find(h,"statusText")).setText(this._options.text.failUpload):"none"!==m&&this.log("failedUploadTextDisplay.mode value of '"+m+"' is not valid","warn")},_showTooltip:function(d,c){d.title=c},_showSpinner:function(b){this._find(this.getItemByFileId(b),"spinner").style.display="inline-block"},_showCancelLink:function(b){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading){b=this._find(b,"cancel"),qq(b).css({display:"inline"})}},_showDeleteLink:function(b){b=this._find(this.getItemByFileId(b),"deleteButton");qq(b).css({display:"inline"})},_itemError:function(d,c){this._options.showMessage(qq.FineUploaderBasic.prototype._itemError.apply(this,arguments))},_batchError:function(b){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments);this._options.showMessage(b)},_setupPastePrompt:function(){var b=this;this._options.callbacks.onPasteReceived=function(){return b._options.showPrompt(b._options.paste.namePromptMessage,b._options.paste.defaultName)}}});qq.AjaxRequestor=function(v){function u(e){var c=qq.indexOf(p,e),f=j.maxConnections;delete h[e];p.splice(c,1);p.length>=f&&c<f&&(e=p[f-1],t(e))}function t(e){var d=new XMLHttpRequest,w=q(),k={},l;j.onSend(e);j.paramsStore.getParams&&(k=j.paramsStore.getParams(e));l=k;var f=j.endpointStore.getEndpoint(e),m=h[e].addToPath;void 0!==m&&(f+="/"+m);l=n&&l?qq.obj2url(l,f):f;h[e].xhr=d;d.onreadystatechange=s(e);d.open(w,l,!0);j.cors.expected&&j.cors.sendCredentials&&(d.withCredentials=!0);r(e);o("Sending "+w+" request for "+e);!n&&k?d.send(qq.obj2url(k,"")):d.send()}function s(b){var d=h[b].xhr;return function(){if(4===d.readyState){var f=h[b].xhr,c=q(),a=!1;u(b);0<=qq.indexOf(j.successfulResponseCodes,f.status)||(a=!0,o(c+" request for "+b+" has failed - response code "+f.status,"error"));j.onComplete(b,f,a)}}}function r(d){var c=h[d].xhr,d=j.customHeaders;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.setRequestHeader("Cache-Control","no-cache");qq.each(d,function(b,e){c.setRequestHeader(b,e)})}function q(){return j.demoMode?"GET":j.method}var o,n,p=[],h=[],j={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};qq.extend(j,v);o=j.log;n="GET"===q()||"DELETE"===q();return{send:function(d,c){h[d]={addToPath:c};p.push(d)<=j.maxConnections&&t(d)},cancel:function(b){var f=h[b].xhr,e=q();f?(f.onreadystatechange=null,f.abort(),u(b),o("Cancelled "+e+" for "+b),j.onCancel(b),b=!0):b=!1;return b}}};qq.DeleteFileAjaxRequestor=function(e){var d,f={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};qq.extend(f,e);d=new qq.AjaxRequestor({method:"DELETE",endpointStore:f.endpointStore,paramsStore:f.paramsStore,maxConnections:f.maxConnections,customHeaders:f.customHeaders,successfulResponseCodes:[200,202,204],demoMode:f.demoMode,log:f.log,onSend:f.onDelete,onComplete:f.onDeleteComplete});return{sendDelete:function(b,c){d.send(b,c);f.log("Submitted delete file request for "+b)}}};qq.WindowReceiveMessage=function(d){var c={};qq.extend({log:function(){}},d);return{receiveMessage:function(b,g){var f=function(e){g(e.data)};window.postMessage?c[b]=qq(window).attach("message",f):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(b){window.postMessage&&(b=c[b])&&b()}}};qq.UploadHandler=function(h){var g=[],m,l,k,j;m={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){}};qq.extend(m,h);l=m.log;k=function(b){var b=qq.indexOf(g,b),c=m.maxConnections;0<=b&&(g.splice(b,1),g.length>=c&&b<c&&(b=g[c-1],j.upload(b)))};j=qq.supportedFeatures.ajaxUploading?new qq.UploadHandlerXhr(m,k,l):new qq.UploadHandlerForm(m,k,l);return{add:function(b){return j.add(b)},upload:function(b){if(g.push(b)<=m.maxConnections){return j.upload(b)}},retry:function(b){return 0<=qq.indexOf(g,b)?j.upload(b,!0):this.upload(b)},cancel:function(b){l("Cancelling "+b);m.paramsStore.remove(b);j.cancel(b);k(b)},cancelAll:function(){var b=this,d=[];qq.extend(d,g);qq.each(d,function(a,e){b.cancel(e)});g=[]},getName:function(b){return j.getName(b)},getSize:function(b){if(j.getSize){return j.getSize(b)}},getFile:function(b){if(j.getFile){return j.getFile(b)}},getQueue:function(){return g},reset:function(){l("Resetting upload handler");g=[];j.reset()},getUuid:function(b){return j.getUuid(b)},isValid:function(b){return j.isValid(b)},getResumableFilesData:function(){return j.getResumableFilesData?j.getResumableFilesData():[]}}};qq.UploadHandlerForm=function(F,D,C){function B(b){void 0!==H[b]&&(H[b](),delete H[b])}function A(e,d){var f=e.id;j[t[f]]=d;H[f]=qq(e).attach("load",function(){p[f]&&(n("Received iframe load event for CORS upload request (file id "+f+")"),G[f]=setTimeout(function(){var b="No valid message received from loaded iframe for file id "+f;n(b,"error");d({error:b})},1000))});E.receiveMessage(f,function(g){n("Received the following window message: '"+g+"'");var c=qq.parseJson(g),k=c.uuid;k&&j[k]?(clearTimeout(G[f]),delete G[f],B(f),g=j[k],delete j[k],E.stopReceivingMessages(f),g(c)):k||n("'"+g+"' does not contain a UUID - ignoring.")})}function z(d,c){y.cors.expected?A(d,c):H[d.id]=qq(d).attach("load",function(){n("Received response for "+d.id);if(d.parentNode){try{if(d.contentDocument&&d.contentDocument.body&&"false"==d.contentDocument.body.innerHTML){return}}catch(a){n("Error when attempting to access iframe during handling of upload response ("+a+")","error")}c()}})}function w(d){var c=qq.toElement('<iframe src="javascript:false;" name="'+d+'" />');c.setAttribute("id",d);c.style.display="none";document.body.appendChild(c);return c}function v(k,g){var q=y.paramsStore.getParams(k),o=qq.toElement('<form method="'+(y.demoMode?"GET":"POST")+'" enctype="multipart/form-data"></form>'),m=y.endpointStore.getEndpoint(k),l=m;q[y.uuidParamName]=t[k];y.paramsInBody?qq.obj2Inputs(q,o):l=qq.obj2url(q,m);o.setAttribute("action",l);o.setAttribute("target",g.name);o.style.display="none";document.body.appendChild(o);return o}var y=F,p=[],t=[],H={},G={},n=C,E=new qq.WindowReceiveMessage({log:n}),j={},h;return h={add:function(d){d.setAttribute("name",y.inputName);var c=p.push(d)-1;t[c]=qq.getUniqueId();d.parentNode&&qq(d).remove();return c},getName:function(b){if(h.isValid(b)){return p[b].value.replace(/.*(\/|\\)/,"")}n(b+" is not a valid item ID.","error")},isValid:function(b){return void 0!==p[b]},reset:function(){p=[];t=[];H={}},getUuid:function(b){return t[b]},cancel:function(b){y.onCancel(b,this.getName(b));delete p[b];delete t[b];delete H[b];y.cors.expected&&(clearTimeout(G[b]),delete G[b],E.stopReceivingMessages(b));if(b=document.getElementById(b)){b.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(b).remove()}},upload:function(d){var k=p[d],g=h.getName(d),b=w(d),f;if(!k){throw Error("file with passed id was not added, or already uploaded or cancelled")}y.onUpload(d,this.getName(d));f=v(d,b);f.appendChild(k);z(b,function(o){n("iframe loaded");if(!o){var m;try{var l=b.contentDocument||b.contentWindow.document,a=l.body.innerHTML;n("converting iframe's innerHTML to JSON");n("innerHTML = "+a);a&&a.match(/^<pre/i)&&(a=l.body.firstChild.firstChild.nodeValue);m=qq.parseJson(a)}catch(e){n("Error when attempting to parse form upload response ("+e+")","error"),m={success:!1}}o=m}B(d);y.cors.expected||qq(b).remove();if(o.success||!y.onAutoRetry(d,g,o)){y.onComplete(d,g,o),D(d)}});n("Sending upload request for "+d);f.submit();qq(f).remove();return d}}};qq.UploadHandlerXhr=function(ae,ad,ac){function ab(f,e,h){var g=R.getSize(f),f=R.getName(f);e[V.chunking.paramNames.partIndex]=h.part;e[V.chunking.paramNames.partByteOffset]=h.start;e[V.chunking.paramNames.chunkSize]=h.size;e[V.chunking.paramNames.totalParts]=h.count;e[V.totalFileSizeParamName]=g;F&&(e[V.chunking.paramNames.filename]=f)}function aa(h,f){var n=V.chunking.partSize,m=R.getSize(h),l=X[h].file||X[h].blobData.blob,k=n*f,n=k+n>=m?m:k+n,m=Z(h),j;l.slice?j=l.slice(k,n):l.mozSlice?j=l.mozSlice(k,n):l.webkitSlice&&(j=l.webkitSlice(k,n));return{part:f,start:k,end:n,count:m,blob:j,size:n-k}}function Z(b){b=R.getSize(b);return Math.ceil(b/V.chunking.partSize)}function W(d){var c=new XMLHttpRequest;return X[d].xhr=c}function U(v,u,t,s){var r=new FormData,q=V.demoMode?"GET":"POST",p=V.endpointStore.getEndpoint(s),o=p,j=R.getName(s),n=R.getSize(s),h=X[s].blobData;v[V.uuidParamName]=X[s].uuid;F&&(v[V.totalFileSizeParamName]=n,h&&(v[V.blobs.paramNames.name]=h.name));V.paramsInBody||(F||(v[V.inputName]=j),o=qq.obj2url(v,p));u.open(q,o,!0);V.cors.expected&&V.cors.sendCredentials&&(u.withCredentials=!0);return F?(V.paramsInBody&&qq.obj2FormData(v,r),r.append(V.inputName,t),r):t}function Y(f,e){var h=V.customHeaders,g=X[f].file||X[f].blobData.blob;e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.setRequestHeader("Cache-Control","no-cache");F||(e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("X-Mime-Type",g.type));qq.each(h,function(b,d){e.setRequestHeader(b,d)})}function S(g,f,k){var j=R.getName(g),h=R.getSize(g);X[g].attemptingResume=!1;V.onProgress(g,j,h,h);V.onComplete(g,j,f,k);delete X[g].xhr;M(g)}function T(h){var e=X[h].remainingChunkIdxs[0],n=aa(h,e),j=W(h),k=R.getSize(h),g=R.getName(h),d;void 0===X[h].loaded&&(X[h].loaded=0);G&&X[h].file&&E(h,n);j.onreadystatechange=Q(h,j);j.upload.onprogress=function(o){if(o.lengthComputable){var m=o.loaded+X[h].loaded,o=o.total,l=aa(h,e),o=o-l.size,b=R.getSize(h),l=l.count,a=o-X[h].initialRequestOverhead;X[h].lastRequestOverhead=o;if(e===0){X[h].lastChunkIdxProgress=0;X[h].initialRequestOverhead=o;X[h].estTotalRequestsSize=b+l*o}else{if(X[h].lastChunkIdxProgress!==e){X[h].lastChunkIdxProgress=e;X[h].estTotalRequestsSize=X[h].estTotalRequestsSize+a}}V.onProgress(h,g,m,X[h].estTotalRequestsSize)}};V.onUploadChunk(h,g,H(n));d=V.paramsStore.getParams(h);ab(h,d,n);X[h].attemptingResume&&(d[V.resume.paramNames.resuming]=!0);d=U(d,j,n.blob,h);Y(h,j);I("Sending chunked upload request for item "+h+": bytes "+(n.start+1)+"-"+n.end+" of "+k);j.send(d)}function J(b){I("Server has ordered chunking effort to be restarted on next attempt for item ID "+b,"error");G&&(N(b),X[b].attemptingResume=!1);X[b].remainingChunkIdxs=[];delete X[b].loaded;delete X[b].estTotalRequestsSize;delete X[b].initialRequestOverhead}function H(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}}function Q(d,c){return function(){if(4===c.readyState){var l;if(X[d]){I("xhr - server response received for "+d);I("responseText = "+c.responseText);try{l=qq.parseJson(c.responseText)}catch(j){I("Error when attempting to parse xhr response text ("+j+")","error"),l={}}if(200!==c.status||!l.success||l.reset){if(l.reset&&J(d),X[d].attemptingResume&&l.reset){X[d].attemptingResume=!1,I("Server has declared that it cannot handle resume for item ID "+d+" - starting from the first chunk","error"),J(d),R.upload(d,!0)}else{var h=R.getName(d);V.onAutoRetry(d,h,l,c)||S(d,l,c)}}else{if(O){var h=X[d].remainingChunkIdxs.shift(),e=aa(d,h);X[d].attemptingResume=!1;var h=X[d],b=h.loaded,e=e.size,a;a=F?X[d].lastRequestOverhead:0;h.loaded=b+(e+a);0<X[d].remainingChunkIdxs.length?T(d):(G&&N(d),S(d,l,c))}else{S(d,l,c)}}}}}}function E(j,h){var o=R.getUuid(j),n=X[j].loaded,m=X[j].initialRequestOverhead,l=X[j].estTotalRequestsSize,k=K(j);qq.setCookie(k,o+P+h.part+P+n+P+m+P+l,V.resume.cookiesExpireIn)}function N(b){X[b].file&&(b=K(b),qq.deleteCookie(b))}function K(e){var d=R.getName(e),e=R.getSize(e),f=V.chunking.partSize,d="qqfilechunk"+P+encodeURIComponent(d)+P+e+P+f;void 0!==D&&(d+=P+D);return d}function C(g){var f=X[g].file||X[g].blobData.blob,k=R.getName(g),j,h;X[g].loaded=0;j=W(g);j.upload.onprogress=function(a){a.lengthComputable&&(X[g].loaded=a.loaded,V.onProgress(g,k,a.loaded,a.total))};j.onreadystatechange=Q(g,j);h=V.paramsStore.getParams(g);f=U(h,j,f,g);Y(g,j);I("Sending upload request for "+g);j.send(f)}var V=ae,M=ad,I=ac,X=[],P="|",O=V.chunking.enabled&&qq.supportedFeatures.chunking,G=V.resume.enabled&&O&&qq.supportedFeatures.resume,D;D=null!==V.resume.id&&void 0!==V.resume.id&&!qq.isFunction(V.resume.id)&&!qq.isObject(V.resume.id)?V.resume.id:void 0;var F=V.forceMultipart||V.paramsInBody,R;return R={add:function(b){if(b instanceof File){b=X.push({file:b})-1}else{if(qq.isBlob(b.blob)){b=X.push({blobData:b})-1}else{throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)")}}X[b].uuid=qq.getUniqueId();return b},getName:function(d){if(R.isValid(d)){var c=X[d].file,d=X[d].blobData;return c?null!==c.fileName&&void 0!==c.fileName?c.fileName:c.name:d.name}I(d+" is not a valid item ID.","error")},getSize:function(b){b=X[b].file||X[b].blobData.blob;return qq.isFileOrInput(b)?null!=b.fileSize?b.fileSize:b.size:b.size},getFile:function(b){if(X[b]){return X[b].file||X[b].blobData.blob}},getLoaded:function(b){return X[b].loaded||0},isValid:function(b){return void 0!==X[b]},reset:function(){X=[]},getUuid:function(b){return X[b].uuid},upload:function(r,q){var p=this.getName(r);V.onUpload(r,p);if(O){var n=R.getName(r),p=0,l,j;if(!X[r].remainingChunkIdxs||0===X[r].remainingChunkIdxs.length){X[r].remainingChunkIdxs=[];if(G&&!q&&X[r].file){r:{l=qq.getCookie(K(r));j=R.getName(r);var h,f,e;if(l){l=l.split(P);if(5===l.length){j=l[0];h=parseInt(l[1],10);f=parseInt(l[2],10);e=parseInt(l[3],10);l=parseInt(l[4],10);l={uuid:j,part:h,lastByteSent:f,initialRequestOverhead:e,estTotalRequestsSize:l};break r}I("Ignoring previously stored resume/chunk cookie for "+j+" - old cookie format","warn")}l=void 0}l&&(j=aa(r,l.part),!1!==V.onResume(r,n,H(j))&&(p=l.part,X[r].uuid=l.uuid,X[r].loaded=l.lastByteSent,X[r].estTotalRequestsSize=l.estTotalRequestsSize,X[r].initialRequestOverhead=l.initialRequestOverhead,X[r].attemptingResume=!0,I("Resuming "+n+" at partition index "+p)))}for(n=Z(r)-1;n>=p;n-=1){X[r].remainingChunkIdxs.unshift(n)}}T(r)}else{C(r)}},cancel:function(d){var c=X[d].xhr;V.onCancel(d,this.getName(d));c&&(c.onreadystatechange=null,c.abort());G&&N(d);delete X[d]},getResumableFilesData:function(){var d=[],c=[];return O&&G?(d=void 0===D?qq.getCookieNames(RegExp("^qqfilechunk\\"+P+".+\\"+P+"\\d+\\"+P+V.chunking.partSize+"=")):qq.getCookieNames(RegExp("^qqfilechunk\\"+P+".+\\"+P+"\\d+\\"+P+V.chunking.partSize+"\\"+P+D+"=")),qq.each(d,function(b,h){var g=h.split(P),f=qq.getCookie(h).split(P);c.push({name:decodeURIComponent(g[1]),size:g[2],uuid:f[0],partIdx:f[1]})}),c):[]}}};(function(b){var a=function(){var c={},o={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},l={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},g={flat:false,starts:1,prev:"&laquo;",next:"&raquo;",lastSel:false,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return true},onShow:function(){return true},onBeforeShow:function(){return true},onHide:function(){return true},locale:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekMin:"kw"}},q=function(s){var v=b(s).data("datepicker");var z=b(s);var t=Math.floor(v.calendars/2),H,J,A,I,F=0,D,w,u,x,y,B;z.find("td>table tbody").remove();for(var G=0;G<v.calendars;G++){H=new Date(v.current);H.addMonths(-t+G);B=z.find("table").eq(G+1);switch(B[0].className){case"datepickerViewDays":A=r(H,"B, Y");break;case"datepickerViewMonths":A=H.getFullYear();break;case"datepickerViewYears":A=(H.getFullYear()-6)+" - "+(H.getFullYear()+5);break}B.find("thead tr:first th:eq(1) span").text(A);A=H.getFullYear()-6;J={data:[],className:"datepickerYears"};for(var E=0;E<12;E++){J.data.push(A+E)}y=tmpl(l.months.join(""),J);H.setDate(1);J={weeks:[],test:10};I=H.getMonth();var A=(H.getDay()-v.starts)%7;H.addDays(-(A+(A<0?7:0)));D=-1;F=0;while(F<42){u=parseInt(F/7,10);x=F%7;if(!J.weeks[u]){D=H.getWeekNumber();J.weeks[u]={week:D,days:[]}}J.weeks[u].days[x]={text:H.getDate(),classname:[]};if(I!=H.getMonth()){J.weeks[u].days[x].classname.push("datepickerNotInMonth")}if(H.getDay()==0){J.weeks[u].days[x].classname.push("datepickerSunday")}if(H.getDay()==6){J.weeks[u].days[x].classname.push("datepickerSaturday")}var C=v.onRender(H);var K=H.valueOf();if(C.selected||v.date==K||b.inArray(K,v.date)>-1||(v.mode=="range"&&K>=v.date[0]&&K<=v.date[1])){J.weeks[u].days[x].classname.push("datepickerSelected")}if(C.disabled){J.weeks[u].days[x].classname.push("datepickerDisabled")}if(C.className){J.weeks[u].days[x].classname.push(C.className)}J.weeks[u].days[x].classname=J.weeks[u].days[x].classname.join(" ");F++;H.addDays(1)}y=tmpl(l.days.join(""),J)+y;J={data:v.locale.monthsShort,className:"datepickerMonths"};y=tmpl(l.months.join(""),J)+y;B.append(y)}},e=function(t,D){if(t.constructor==Date){return new Date(t)}var x=t.split(/\W+/);var u=D.split(/\W+/),B,v,C,A,w,s=new Date();for(var z=0;z<x.length;z++){switch(u[z]){case"d":case"e":B=parseInt(x[z],10);break;case"m":v=parseInt(x[z],10)-1;break;case"Y":case"y":C=parseInt(x[z],10);C+=C>100?0:(C<29?2000:1900);break;case"H":case"I":case"k":case"l":A=parseInt(x[z],10);break;case"P":case"p":if(/pm/i.test(x[z])&&A<12){A+=12}else{if(/am/i.test(x[z])&&A>=12){A-=12}}break;case"M":w=parseInt(x[z],10);break}}return new Date(C===undefined?s.getFullYear():C,v===undefined?s.getMonth():v,B===undefined?s.getDate():B,A===undefined?s.getHours():A,w===undefined?s.getMinutes():w,0)},r=function(u,G){var v=u.getMonth();var E=u.getDate();var F=u.getFullYear();var H=u.getWeekNumber();var I=u.getDay();var M={};var J=u.getHours();var x=(J>=12);var C=(x)?(J-12):J;var K=u.getDayOfYear();if(C==0){C=12}var A=u.getMinutes();var D=u.getSeconds();var z=G.split(""),t;for(var B=0;B<z.length;B++){t=z[B];switch(z[B]){case"a":t=u.getDayName();break;case"A":t=u.getDayName(true);break;case"b":t=u.getMonthName();break;case"B":t=u.getMonthName(true);break;case"C":t=1+Math.floor(F/100);break;case"d":t=(E<10)?("0"+E):E;break;case"e":t=E;break;case"H":t=(J<10)?("0"+J):J;break;case"I":t=(C<10)?("0"+C):C;break;case"j":t=(K<100)?((K<10)?("00"+K):("0"+K)):K;break;case"k":t=J;break;case"l":t=C;break;case"m":t=(v<9)?("0"+(1+v)):(1+v);break;case"M":t=(A<10)?("0"+A):A;break;case"p":case"P":t=x?"PM":"AM";break;case"s":t=Math.floor(u.getTime()/1000);break;case"S":t=(D<10)?("0"+D):D;break;case"u":t=I+1;break;case"w":t=I;break;case"y":t=(""+F).substr(2,2);break;case"Y":t=F;break}z[B]=t}return z.join("")},f=function(s){if(Date.prototype.tempDate){return}Date.prototype.tempDate=null;Date.prototype.months=s.months;Date.prototype.monthsShort=s.monthsShort;Date.prototype.days=s.days;Date.prototype.daysShort=s.daysShort;Date.prototype.getMonthName=function(t){return this[t?"months":"monthsShort"][this.getMonth()]};Date.prototype.getDayName=function(t){return this[t?"days":"daysShort"][this.getDay()]};Date.prototype.addDays=function(t){this.setDate(this.getDate()+t);this.tempDate=this.getDate()};Date.prototype.addMonths=function(t){if(this.tempDate==null){this.tempDate=this.getDate()}this.setDate(1);this.setMonth(this.getMonth()+t);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.addYears=function(t){if(this.tempDate==null){this.tempDate=this.getDate()}this.setDate(1);this.setFullYear(this.getFullYear()+t);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.getMaxDays=function(){var u=new Date(Date.parse(this)),v=28,t;t=u.getMonth();v=28;while(u.getMonth()==t){v++;u.setDate(v)}return v-1};Date.prototype.getFirstDay=function(){var t=new Date(Date.parse(this));t.setDate(1);return t.getDay()};Date.prototype.getWeekNumber=function(){var t=new Date(this);t.setDate(t.getDate()-(t.getDay()+6)%7+3);var u=t.valueOf();t.setMonth(0);t.setDate(4);return Math.round((u-t.valueOf())/(604800000))+1};Date.prototype.getDayOfYear=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var v=new Date(this.getFullYear(),0,0,0,0,0);var u=t-v;return Math.floor(u/24*60*60*1000)}},j=function(w){var t=b(w).data("datepicker");var y=b("#"+t.id);if(!t.extraHeight){var v=b(w).find("div");t.extraHeight=v.get(0).offsetHeight+v.get(1).offsetHeight;t.extraWidth=v.get(2).offsetWidth+v.get(3).offsetWidth}var x=y.find("table:first").get(0);var u=x.offsetWidth;var s=x.offsetHeight;y.css({width:u+t.extraWidth+"px",height:s+t.extraHeight+"px"}).find("div.datepickerContainer").css({width:u+"px",height:s+"px"})},p=function(z){if(b(z.target).is("span")){z.target=z.target.parentNode}var u=b(z.target);if(u.is("a")){z.target.blur();if(u.hasClass("datepickerDisabled")){return false}var B=b(this).data("datepicker");var y=u.parent();var t=y.parent().parent().parent();var A=b("table",this).index(t.get(0))-1;var x=new Date(B.current);var w=false;var s=false;if(y.is("th")){if(y.hasClass("datepickerWeek")&&B.mode=="range"&&!y.next().hasClass("datepickerDisabled")){var v=parseInt(y.next().text(),10);x.addMonths(A-Math.floor(B.calendars/2));if(y.next().hasClass("datepickerNotInMonth")){x.addMonths(v>15?-1:1)}x.setDate(v);B.date[0]=(x.setHours(0,0,0,0)).valueOf();x.setHours(23,59,59,0);x.addDays(6);B.date[1]=x.valueOf();s=true;w=true;B.lastSel=false}else{if(y.hasClass("datepickerMonth")){x.addMonths(A-Math.floor(B.calendars/2));switch(t.get(0).className){case"datepickerViewDays":t.get(0).className="datepickerViewMonths";u.find("span").text(x.getFullYear());break;case"datepickerViewMonths":t.get(0).className="datepickerViewYears";u.find("span").text((x.getFullYear()-6)+" - "+(x.getFullYear()+5));break;case"datepickerViewYears":t.get(0).className="datepickerViewDays";u.find("span").text(r(x,"B, Y"));break}}else{if(y.parent().parent().is("thead")){switch(t.get(0).className){case"datepickerViewDays":B.current.addMonths(y.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":B.current.addYears(y.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":B.current.addYears(y.hasClass("datepickerGoPrev")?-12:12);break}s=true}}}}else{if(y.is("td")&&!y.hasClass("datepickerDisabled")){switch(t.get(0).className){case"datepickerViewMonths":B.current.setMonth(t.find("tbody.datepickerMonths td").index(y));B.current.setFullYear(parseInt(t.find("thead th.datepickerMonth span").text(),10));B.current.addMonths(Math.floor(B.calendars/2)-A);t.get(0).className="datepickerViewDays";break;case"datepickerViewYears":B.current.setFullYear(parseInt(u.text(),10));t.get(0).className="datepickerViewMonths";break;default:var v=parseInt(u.text(),10);x.addMonths(A-Math.floor(B.calendars/2));if(y.hasClass("datepickerNotInMonth")){x.addMonths(v>15?-1:1)}x.setDate(v);switch(B.mode){case"multiple":v=(x.setHours(0,0,0,0)).valueOf();if(b.inArray(v,B.date)>-1){b.each(B.date,function(C,D){if(D==v){B.date.splice(C,1);return false}})}else{B.date.push(v)}break;case"range":if(!B.lastSel){B.date[0]=(x.setHours(0,0,0,0)).valueOf()}v=(x.setHours(23,59,59,0)).valueOf();if(v<B.date[0]){B.date[1]=B.date[0]+86399000;B.date[0]=v-86399000}else{B.date[1]=v}B.lastSel=!B.lastSel;break;default:B.date=x.valueOf();break}w=true;break}s=true}}if(s){q(this)}if(w){B.onChange.apply(this,k(B))}}return false},k=function(s){var t;if(s.mode=="single"){t=new Date(s.date);return[r(t,s.format),t,s.el]}else{t=[[],[],s.el];b.each(s.date,function(v,w){var u=new Date(w);t[0].push(r(u,s.format));t[1].push(u)});return t}},d=function(){var s=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(s?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(s?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(s?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(s?document.documentElement.clientHeight:document.body.clientHeight)}},m=function(u,t,s){if(u==t){return true}if(u.contains){return u.contains(t)}if(u.compareDocumentPosition){return !!(u.compareDocumentPosition(t)&16)}var v=t.parentNode;while(v&&v!=s){if(v==u){return true}v=v.parentNode}return false},n=function(t){var x=b("#"+b(this).data("datepickerId"));if(!x.is(":visible")){var z=x.get(0);q(z);var s=x.data("datepicker");s.onBeforeShow.apply(this,[x.get(0)]);var y=b(this).offset();var w=d();var v=y.top;var u=y.left;x.css({visibility:"hidden",display:"block"});j(z);switch(s.position){case"top":v-=z.offsetHeight;break;case"left":u-=z.offsetWidth;break;case"right":u+=this.offsetWidth;break;case"bottom":v+=this.offsetHeight;break}if(v+z.offsetHeight>w.t+w.h){v=y.top-z.offsetHeight}if(v<w.t){v=y.top+this.offsetHeight+z.offsetHeight}if(u+z.offsetWidth>w.l+w.w){u=y.left-z.offsetWidth}if(u<w.l){u=y.left+this.offsetWidth}x.css({visibility:"visible",display:"block",top:v+"px",left:u+"px"});if(s.onShow.apply(this,[x.get(0)])!=false){x.show()}b(document).bind("mousedown",{cal:x,trigger:this},h)}return false},h=function(s){if(s.target!=s.data.trigger&&!m(s.data.cal.get(0),s.target,s.data.cal.get(0))){if(s.data.cal.data("datepicker").onHide.apply(this,[s.data.cal.get(0)])!=false){s.data.cal.hide()}b(document).unbind("mousedown",h)}};return{init:function(s){s=b.extend({},g,s||{});f(s.locale);s.calendars=Math.max(1,parseInt(s.calendars,10)||1);s.mode=/single|multiple|range/.test(s.mode)?s.mode:"single";return this.each(function(){if(!b(this).data("datepicker")){s.el=this;if(s.date.constructor==String){s.date=e(s.date,s.format);s.date.setHours(0,0,0,0)}if(s.mode!="single"){if(s.date.constructor!=Array){s.date=[s.date.valueOf()];if(s.mode=="range"){s.date.push(((new Date(s.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var v=0;v<s.date.length;v++){s.date[v]=(e(s.date[v],s.format).setHours(0,0,0,0)).valueOf()}if(s.mode=="range"){s.date[1]=((new Date(s.date[1])).setHours(23,59,59,0)).valueOf()}}}else{s.date=s.date.valueOf()}if(!s.current){s.current=new Date()}else{s.current=e(s.current,s.format)}s.current.setDate(1);s.current.setHours(0,0,0,0);var x="datepicker_"+parseInt(Math.random()*1000),u;s.id=x;b(this).data("datepickerId",s.id);var w=b(l.wrapper).attr("id",x).bind("click",p).data("datepicker",s);if(s.className){w.addClass(s.className)}var t="";for(var v=0;v<s.calendars;v++){u=s.starts;if(v>0){t+=l.space}t+=tmpl(l.head.join(""),{week:s.locale.weekMin,prev:s.prev,next:s.next,day1:s.locale.daysMin[(u++)%7],day2:s.locale.daysMin[(u++)%7],day3:s.locale.daysMin[(u++)%7],day4:s.locale.daysMin[(u++)%7],day5:s.locale.daysMin[(u++)%7],day6:s.locale.daysMin[(u++)%7],day7:s.locale.daysMin[(u++)%7]})}w.find("tr:first").append(t).find("table").addClass(o[s.view]);q(w.get(0));if(s.flat){w.appendTo(this).show().css("position","relative");j(w.get(0))}else{w.appendTo(document.body);b(this).bind(s.eventName,n)}}})},showPicker:function(){return this.each(function(){if(b(this).data("datepickerId")){n.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("datepickerId")){b("#"+b(this).data("datepickerId")).hide()}})},setDate:function(s,t){return this.each(function(){if(b(this).data("datepickerId")){var w=b("#"+b(this).data("datepickerId"));var u=w.data("datepicker");u.date=s;if(u.date.constructor==String){u.date=e(u.date,u.format);u.date.setHours(0,0,0,0)}if(u.mode!="single"){if(u.date.constructor!=Array){u.date=[u.date.valueOf()];if(u.mode=="range"){u.date.push(((new Date(u.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var v=0;v<u.date.length;v++){u.date[v]=(e(u.date[v],u.format).setHours(0,0,0,0)).valueOf()}if(u.mode=="range"){u.date[1]=((new Date(u.date[1])).setHours(23,59,59,0)).valueOf()}}}else{u.date=u.date.valueOf()}if(t){u.current=new Date(u.mode!="single"?u.date[0]:u.date)}q(w.get(0))}})},getDate:function(s){if(this.size()>0){return k(b("#"+b(this).data("datepickerId")).data("datepicker"))[s?0:1]}},clear:function(){return this.each(function(){if(b(this).data("datepickerId")){var t=b("#"+b(this).data("datepickerId"));var s=t.data("datepicker");if(s.mode!="single"){s.date=[];q(t.get(0))}}})},fixLayout:function(){return this.each(function(){if(b(this).data("datepickerId")){var t=b("#"+b(this).data("datepickerId"));var s=t.data("datepicker");if(s.flat){j(t.get(0))}}})}}}();b.fn.extend({DatePicker:a.init,DatePickerHide:a.hidePicker,DatePickerShow:a.showPicker,DatePickerSetDate:a.setDate,DatePickerGetDate:a.getDate,DatePickerClear:a.clear,DatePickerLayout:a.fixLayout})})(jQuery);(function(){var b={};this.tmpl=function a(e,d){var c=!/\W/.test(e)?b[e]=b[e]||a(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return d?c(d):c}})();(function(){var a;a=function(){function b(){this.options_index=0,this.parsed=[]}return b.prototype.add_node=function(c){return c.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(c):this.add_option(c)},b.prototype.add_group=function(h){var d,k,g,c,f,j;d=this.parsed.length,this.parsed.push({array_index:d,group:!0,label:h.label,children:0,disabled:h.disabled}),f=h.childNodes,j=[];for(g=0,c=f.length;g<c;g++){k=f[g],j.push(this.add_option(k,d,h.disabled))}return j},b.prototype.add_option=function(d,c,f){if(d.nodeName.toUpperCase()==="OPTION"){return d.text!==""?(c!=null&&(this.parsed[c].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:f===!0?f:d.disabled,group_array_index:c,classes:d.className,style:d.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1}},b}(),a.select_to_array=function(c){var g,e,b,d,f;e=new a,f=c.childNodes;for(b=0,d=f.length;b<d;b++){g=f[b],e.add_node(g)}return e.parsed},this.SelectParser=a}).call(this),function(){var b,a;a=this,b=function(){function c(d,e){this.form_field=d,this.options=e!=null?e:{};if(!c.browser_is_supported()){return}this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return c.prototype.set_default_values=function(){var d=this;return this.click_test_action=function(e){return d.test_active_click(e)},this.activate_action=function(e){return d.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1},c.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||c.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||c.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||c.default_no_result_text},c.prototype.mouse_enter=function(){return this.mouse_on_container=!0},c.prototype.mouse_leave=function(){return this.mouse_on_container=!1},c.prototype.input_focus=function(f){var d=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return d.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}},c.prototype.input_blur=function(f){var d=this;if(!this.mouse_on_container){return this.active_field=!1,setTimeout(function(){return d.blur_test()},100)}},c.prototype.result_add_option=function(f){var d,g;return f.disabled?"":(f.dom_id=this.container_id+"_o_"+f.array_index,d=f.selected&&this.is_multiple?[]:["active-result"],f.selected&&d.push("result-selected"),f.group_array_index!=null&&d.push("group-option"),f.classes!==""&&d.push(f.classes),g=f.style.cssText!==""?' style="'+f.style+'"':"",'<li id="'+f.dom_id+'" class="'+d.join(" ")+'"'+g+">"+f.html+"</li>")},c.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},c.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},c.prototype.results_search=function(d){return this.results_showing?this.winnow_results():this.results_show()},c.prototype.choices_click=function(d){d.preventDefault();if(!this.results_showing){return this.results_show()}},c.prototype.keyup_checker=function(f){var d,g;d=(g=f.which)!=null?g:f.keyCode,this.search_field_scale();switch(d){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}if(!this.pending_backstroke){return this.result_clear_highlight(),this.results_search()}break;case 13:f.preventDefault();if(this.results_showing){return this.result_select(f)}break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},c.prototype.generate_field_id=function(){var d;return d=this.generate_random_id(),this.form_field.id=d,d},c.prototype.generate_random_char=function(){var f,d,g;return f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",g=Math.floor(Math.random()*f.length),d=f.substring(g,g+1)},c.prototype.container_width=function(){var d;return this.options.width!=null?this.options.width:(d=window.getComputedStyle!=null?parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")):typeof jQuery!="undefined"&&jQuery!==null&&this.form_field_jq!=null?this.form_field_jq.outerWidth():this.form_field.getWidth(),d+"px")},c.browser_is_supported=function(){var d;return window.navigator.appName==="Microsoft Internet Explorer"?null!==(d=document.documentMode)&&d>=8:!0},c.default_multiple_text="Select Some Options",c.default_single_text="Select an Option",c.default_no_result_text="No results match",c}(),a.AbstractChosen=b}.call(this),function(){var d,b,f,c={}.hasOwnProperty,a=function(j,h){function g(){this.constructor=j}for(var k in h){c.call(h,k)&&(j[k]=h[k])}return g.prototype=h.prototype,j.prototype=new g,j.__super__=h.prototype,j};f=this,d=jQuery,d.fn.extend({chosen:function(e){return AbstractChosen.browser_is_supported()?this.each(function(h){var g;g=d(this);if(!g.hasClass("chzn-done")){return g.data("chosen",new b(this,e))}}):this}}),b=function(e){function g(){return g.__super__.constructor.apply(this,arguments)}return a(g,e),g.prototype.setup=function(){return this.form_field_jq=d(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},g.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},g.prototype.set_up_html=function(){var h,j;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",h=["chzn-container"],h.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&h.push(this.form_field.className),this.is_rtl&&h.push("chzn-rtl"),j={id:this.container_id,"class":h.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=d("<div />",j),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},g.prototype.register_observers=function(){var h=this;return this.container.mousedown(function(j){h.container_mousedown(j)}),this.container.mouseup(function(j){h.container_mouseup(j)}),this.container.mouseenter(function(j){h.mouse_enter(j)}),this.container.mouseleave(function(j){h.mouse_leave(j)}),this.search_results.mouseup(function(j){h.search_results_mouseup(j)}),this.search_results.mouseover(function(j){h.search_results_mouseover(j)}),this.search_results.mouseout(function(j){h.search_results_mouseout(j)}),this.search_results.bind("mousewheel DOMMouseScroll",function(j){h.search_results_mousewheel(j)}),this.form_field_jq.bind("liszt:updated",function(j){h.results_update_field(j)}),this.form_field_jq.bind("liszt:activate",function(j){h.activate_field(j)}),this.form_field_jq.bind("liszt:open",function(j){h.container_mousedown(j)}),this.search_field.blur(function(j){h.input_blur(j)}),this.search_field.keyup(function(j){h.keyup_checker(j)}),this.search_field.keydown(function(j){h.keydown_checker(j)}),this.search_field.focus(function(j){h.input_focus(j)}),this.is_multiple?this.search_choices.click(function(j){h.choices_click(j)}):this.container.click(function(j){j.preventDefault()})},g.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){return this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()}this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}},g.prototype.container_mousedown=function(h){if(!this.is_disabled){h&&h.type==="mousedown"&&!this.results_showing&&h.preventDefault();if(h==null||!d(h.target).hasClass("search-choice-close")){return this.active_field?!this.is_multiple&&h&&(d(h.target)[0]===this.selected_item[0]||d(h.target).parents("a.chzn-single").length)&&(h.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),d(document).click(this.click_test_action),this.results_show()),this.activate_field()}}},g.prototype.container_mouseup=function(h){if(h.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(h)}},g.prototype.search_results_mousewheel=function(k){var h,l,j;h=-((l=k.originalEvent)!=null?l.wheelDelta:void 0)||((j=k.originialEvent)!=null?j.detail:void 0);if(h!=null){return k.preventDefault(),k.type==="DOMMouseScroll"&&(h*=40),this.search_results.scrollTop(h+this.search_results.scrollTop())}},g.prototype.blur_test=function(h){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}},g.prototype.close_field=function(){return d(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},g.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},g.prototype.test_active_click=function(h){return d(h.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},g.prototype.results_build=function(){var m,j,l,h,k;this.parsing=!0,this.results_data=f.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),m="",k=this.results_data;for(l=0,h=k.length;l<h;l++){j=k[l],j.group?m+=this.result_add_group(j):j.empty||(m+=this.result_add_option(j),j.selected&&this.is_multiple?this.choice_build(j):j.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(j.text),this.allow_single_deselect&&this.single_deselect_control_build()))}return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(m),this.parsing=!1},g.prototype.result_add_group=function(h){return h.disabled?"":(h.dom_id=this.container_id+"_g_"+h.array_index,'<li id="'+h.dom_id+'" class="group-result">'+d("<div />").text(h.label).html()+"</li>")},g.prototype.result_do_highlight=function(m){var j,o,l,h,k;if(m.length){this.result_clear_highlight(),this.result_highlight=m,this.result_highlight.addClass("highlighted"),l=parseInt(this.search_results.css("maxHeight"),10),k=this.search_results.scrollTop(),h=l+k,o=this.result_highlight.position().top+this.search_results.scrollTop(),j=o+this.result_highlight.outerHeight();if(j>=h){return this.search_results.scrollTop(j-l>0?j-l:0)}if(o<k){return this.search_results.scrollTop(o)}}},g.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},g.prototype.results_show=function(){if(this.result_single_selected!=null){this.result_do_highlight(this.result_single_selected)}else{if(this.is_multiple&&this.max_selected_options<=this.choices){return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}}return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},g.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},g.prototype.set_tab_index=function(j){var h;if(this.form_field_jq.attr("tabindex")){return h=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",h)}},g.prototype.set_label_behavior=function(){var h=this;this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=d("label[for="+this.form_field.id+"]"));if(this.form_field_label.length>0){return this.form_field_label.click(function(j){return h.is_multiple?h.container_mousedown(j):h.activate_field()})}},g.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},g.prototype.search_results_mouseup=function(h){var j;j=d(h.target).hasClass("active-result")?d(h.target):d(h.target).parents(".active-result").first();if(j.length){return this.result_highlight=j,this.result_select(h),this.search_field.focus()}},g.prototype.search_results_mouseover=function(h){var j;j=d(h.target).hasClass("active-result")?d(h.target):d(h.target).parents(".active-result").first();if(j){return this.result_do_highlight(j)}},g.prototype.search_results_mouseout=function(h){if(d(h.target).hasClass("active-result")){return this.result_clear_highlight()}},g.prototype.choice_build=function(j){var m,l,h,k=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(m=this.container_id+"_c_"+j.array_index,this.choices+=1,j.disabled?l='<li class="search-choice search-choice-disabled" id="'+m+'"><span>'+j.html+"</span></li>":l='<li class="search-choice" id="'+m+'"><span>'+j.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+j.array_index+'"></a></li>',this.search_container.before(l),h=d("#"+m).find("a").first(),h.click(function(n){return k.choice_destroy_link_click(n)}))},g.prototype.choice_destroy_link_click=function(h){h.preventDefault(),h.stopPropagation();if(!this.is_disabled){return this.choice_destroy(d(h.target))}},g.prototype.choice_destroy=function(h){if(this.result_deselect(h.attr("rel"))){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),h.parents("li").first().remove(),this.search_field_scale()}},g.prototype.results_reset=function(){this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}},g.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},g.prototype.result_select=function(l){var j,m,k,h;if(this.result_highlight){return j=this.result_highlight,m=j.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(j):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=j,this.selected_item.removeClass("chzn-default")),j.addClass("result-selected"),h=m.substr(m.lastIndexOf("_")+1),k=this.results_data[h],k.selected=!0,this.form_field.options[k.options_index].selected=!0,this.is_multiple?this.choice_build(k):(this.selected_item.find("span").first().text(k.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!l.metaKey&&!l.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[k.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()}},g.prototype.result_activate=function(h){return h.addClass("active-result")},g.prototype.result_deactivate=function(h){return h.removeClass("active-result")},g.prototype.result_deselect=function(h){var k,j;return j=this.results_data[h],this.form_field.options[j.options_index].disabled?!1:(j.selected=!1,this.form_field.options[j.options_index].selected=!1,k=d("#"+this.container_id+"_o_"+h),k.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[j.options_index].value}),this.search_field_scale(),!0)},g.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}},g.prototype.winnow_results=function(){var w,C,z,F,x,B,q,M,I,E,K,G,A,J,k,D,H,j;this.no_results_clear(),I=0,E=this.search_field.val()===this.default_text?"":d("<div/>").text(d.trim(this.search_field.val())).html(),B=this.search_contains?"":"^",x=new RegExp(B+E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),A=new RegExp(E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),j=this.results_data;for(J=0,D=j.length;J<D;J++){C=j[J];if(!C.disabled&&!C.empty){if(C.group){d("#"+C.dom_id).css("display","none")}else{if(!this.is_multiple||!C.selected){w=!1,M=C.dom_id,q=d("#"+M);if(x.test(C.html)){w=!0,I+=1}else{if(this.enable_split_word_search&&(C.html.indexOf(" ")>=0||C.html.indexOf("[")===0)){F=C.html.replace(/\[|\]/g,"").split(" ");if(F.length){for(k=0,H=F.length;k<H;k++){z=F[k],x.test(z)&&(w=!0,I+=1)}}}}w?(E.length?(K=C.html.search(A),G=C.html.substr(0,K+E.length)+"</em>"+C.html.substr(K+E.length),G=G.substr(0,K)+"<em>"+G.substr(K)):G=C.html,q.html(G),this.result_activate(q),C.group_array_index!=null&&d("#"+this.results_data[C.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&M===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(q))}}}}return I<1&&E.length?this.no_results(E):this.winnow_results_set_highlight()},g.prototype.winnow_results_clear=function(){var j,m,l,h,k;this.search_field.val(""),m=this.search_results.find("li"),k=[];for(l=0,h=m.length;l<h;l++){j=m[l],j=d(j),j.hasClass("group-result")?k.push(j.css("display","auto")):!this.is_multiple||!j.hasClass("result-selected")?k.push(this.result_activate(j)):k.push(void 0)}return k},g.prototype.winnow_results_set_highlight=function(){var j,h;if(!this.result_highlight){h=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),j=h.length?h.first():this.search_results.find(".active-result").first();if(j!=null){return this.result_do_highlight(j)}}},g.prototype.no_results=function(h){var j;return j=d('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),j.find("span").first().html(h),this.search_results.append(j)},g.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},g.prototype.keydown_arrow=function(){var h,j;this.result_highlight?this.results_showing&&(j=this.result_highlight.nextAll("li.active-result").first(),j&&this.result_do_highlight(j)):(h=this.search_results.find("li.active-result").first(),h&&this.result_do_highlight(d(h)));if(!this.results_showing){return this.results_show()}},g.prototype.keyup_arrow=function(){var h;if(!this.results_showing&&!this.is_multiple){return this.results_show()}if(this.result_highlight){return h=this.result_highlight.prevAll("li.active-result"),h.length?this.result_do_highlight(h.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())}},g.prototype.keydown_backstroke=function(){var h;if(this.pending_backstroke){return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()}h=this.search_container.siblings("li.search-choice").last();if(h.length&&!h.hasClass("search-choice-disabled")){return this.pending_backstroke=h,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")}},g.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},g.prototype.keydown_checker=function(j){var h,k;h=(k=j.which)!=null?k:j.keyCode,this.search_field_scale(),h!==8&&this.pending_backstroke&&this.clear_backstroke();switch(h){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(j),this.mouse_on_container=!1;break;case 13:j.preventDefault();break;case 38:j.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},g.prototype.search_field_scale=function(){var l,v,p,k,m,q,j,h;if(this.is_multiple){v=0,q=0,k="position:absolute; left: -1000px; top: -1000px; display:none;",m=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(j=0,h=m.length;j<h;j++){p=m[j],k+=p+":"+this.search_field.css(p)+";"}return l=d("<div />",{style:k}),l.text(this.search_field.val()),d("body").append(l),q=l.width()+25,l.remove(),this.f_width||(this.f_width=this.container.outerWidth()),q>this.f_width-10&&(q=this.f_width-10),this.search_field.css({width:q+"px"})}},g.prototype.generate_random_id=function(){var h;h="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(d("#"+h).length>0){h+=this.generate_random_char()}return h},g}(AbstractChosen),f.Chosen=b}.call(this);var Runalyze=(function(e,o){var q={};var r={dontReloadForConfigFlag:"dont-reload-for-config",dontReloadForTrainingFlag:"dont-reload-for-training"};var c;var n=[];var k=[];var h=false;function a(s){r=e.extend({},r,s)}function j(){c=e("body")}function l(){e.ajaxSetup({error:function(s,t){if("status" in s){if(s.status==404){q.Log.add("ERROR","There was an error 404: The requested resource could not be found.")}else{if(s.status==500){q.Log.add("ERROR","There was an error 500: Internal Server Error.")}}}}})}function p(){e(window).resize(function(){if(typeof RunalyzePlot!="undefined"){RunalyzePlot.resizeTrainingCharts();RunalyzePlot.setFullscreenSize()}})}function m(){q.addLoadHook("create-flot",q.createFlot);q.addLoadHook("resize-trainings",RunalyzePlot.resizeTrainingCharts)}function g(){for(key in n){n[key]()}}function d(){for(key in k){k[key]()}}function f(){q.DataBrowser.reload();q.Statistics.reload();q.Panels.reloadAll(r.dontReloadForConfigFlag)}function b(){q.DataBrowser.reload();q.Statistics.reload();q.Panels.reloadAll(r.dontReloadForTrainingFlag)}q.addInitHook=function(s,t){n[s]=t};q.addLoadHook=function(s,t){k[s]=t};q.init=function(s){a(s);j();if(!h){l();p()}m();g();d();h=true};q.reinit=function(){d()};q.body=function(){return c};q.isReady=function(){return h};q.hasContainer=function(){return(e("#container, #data-browser, #statistics-inner").length>0)};q.createFlot=function(){e(document).trigger("createFlot")};q.flotChange=function(t,s){e(".flotChanger-"+t).addClass("unimportant");e(".flotChanger-id-"+s).removeClass("unimportant");e("#"+t+" .flot").addClass("flot-hide");e("#"+t+" #"+s).removeClass("flot-hide");q.createFlot();RunalyzePlot.resize(s)};q.toggleFieldset=function(s,w,v,u){s.blur();var t=e("#"+w);if(v===true){t.siblings().addClass("collapsed");t.removeClass("collapsed")}else{t.toggleClass("collapsed")}if(u.length>0){q.Config.setActivityFormLegend(u,!t.hasClass("collapsed"))}return false};q.goToNextMultiEditor=function(){var t=e("#ajax-navigation tr.highlight");if(t.next().length){t.next().click()}else{var s=t.siblings(":not(.edited):first");if(s.length){s.click()}else{t.click()}}};q.reloadPage=function(){location.reload()};q.reloadContent=function(){var u=e("#container").addClass(q.Options.loadingClass());var t="index.php?";var s=q.DataBrowser.currentTimes();if(q.Statistics.showsTraining()){t=t+"id="+q.Statistics.currentId()}else{t=t+"pluginid="+q.Statistics.currentId()}t=t+"&start="+s.start+"&end="+s.end+" #container > *";e.ajax({url:t}).done(function(w){var v=e("<div />").html(w).find("#container > *");e("#container").html(v);q.init();u.hide().removeClass(q.Options.loadingClass()).fadeIn()}).fail(function(v){e("#container").html('<p class="error">There was an error: '+v.status+" "+v.statusText+"</p>")})};q.reloadAllPlugins=function(s){if(typeof s=="undefined"||s==""){q.Statistics.reload();q.Panels.reloadAll()}else{q.reloadPlugin(s)}};q.reloadDataBrowserAndTraining=function(){q.DataBrowser.reload();q.Training.reload()};q.reloadPlugin=function(s){if(q.Statistics.shows(s)){q.Statistics.reload()}else{q.Panels.load(s)}};return q})(jQuery,undefined);(function(a,b){a.fn.extend({loadDiv:function(c,f,d){if(c=="#"){return this}var g=this;return g.addClass(b.Options.loadingClass()).load(c,f,function(h,e,j){if(e=="error"){g.html('<p class="error">There was an error: '+j.status+" "+j.statusText+"</p>")}if(g.attr("id")=="ajax"){b.reinit();b.Overlay.addCloseButton();g.removeClass(b.Options.loadingClass())}else{b.reinit();g.hide().removeClass(b.Options.loadingClass()).fadeIn()}if(d){if(d.success){d.success()}}})}})})(jQuery,Runalyze);var RunalyzePlot=(function(d,g){var l={};var m={};var e={};var n={};var f={options:{takeMaxWidth:true,minWidthForContainer:450,maxWidthForSmallSize:550,fixedWidth:false,defaultWidth:478,width:478}};var p={};var c={defaultPlotOptions:{showLegend:true,enableCrosshair:true,enableSelection:true,enablePanning:false},waitClass:"wait-img"};var q={colors:["#C61D17","#E68617","#8A1196","#E6BE17","#38219F"],legend:{backgroundColor:"#000",backgroundOpacity:0,margin:[0,-25],noColumns:99},series:{stack:null,points:{radius:1,lineWidth:3},lines:{lineWidth:1,steps:false},bars:{lineWidth:1,barWidth:0.6,align:"center",fill:0.9},curvedLines:{active:true,apply:false,fit:false,curvePointFactor:5}},yaxis:{color:"rgba(0,0,0,0.1)"},xaxis:{color:"rgba(0,0,0,0.1)",monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},grid:{color:"#000",backgroundColor:"rgba(255,255,255,0.5)",borderColor:{top:"transparent",right:"#999",bottom:"#999",left:"#999"},minBorderMargin:5,borderWidth:1,labelMargin:5,axisMargin:2,margin:{top:30,right:0,bottom:0,left:0}},canvas:true,font:"Verdana 9px"};function s(u){u.legend.show=true;u.legend.position="nw";u.legend.hideable=true;u.grid.hoverable=true;u.grid.autoHighlight=false;u.crosshair={mode:"x"};if(!u.series.bars.show){u.crosshair={color:"rgba(0, 0, 0, 0.80)",lineWidth:1,mode:"x"};u.selection=d.extend({},u.selection,{mode:"x",color:"rgba(170, 0, 0, 0.5)"})}else{u.series.curvedLines.apply=false}u.hooks={draw:[h]};return u}function h(x,u){var v=x.getPlaceholder().attr("id");if(typeof m[v]!=="undefined"){k(v);if(!m[v].showLegend){d("#"+v+" .legend").hide()}}else{var w=d("#"+v+" .legend");if(w.find(".legendLabel").length==1){w.hide()}}}function j(){d("#statistics-inner .training-chart").each(function(){if(d(this).width()!=f.options.width){d(this).width(f.options.width);r(d(this).attr("id"))}})}function o(u){m[u].setupGrid();m[u].draw()}function r(u){if(u in m&&d("#"+u).is(":visible")){m[u].resize();m[u].setupGrid();m[u].draw();n[u]=d("#"+u).width()}}function a(u){if(m.hasOwnProperty(u)){var v=l.getPlot(u).annotations;for(i in v){if(v[i].x!=null&&v[i].y!=null){v[i].id="annotation-"+u+v[i].x.toString().replace(".","")+v[i].y.toString().replace(".","");d("#"+u).append('<div id="'+v[i].id+'" class="annotation">'+v[i].text+"</div>");b(u,v[i])}}}}function b(v,w){var u=d("#"+w.id),x=l.getPlot(v).pointOffset({x:w.x,y:w.y});u.css({left:(x.left+w.toX)+"px",top:(x.top+w.toY)+"px"});if(x.top+w.toY<0){u.hide()}}function t(){for(key in m){k(key)}}function k(u){for(i in m[u].annotations){b(u,m[u].annotations[i])}}l.setOptions=function(u){c=d.extend({},c,u);return l};l.resize=function(u){r(u)};l.resizeAll=function(){for(key in m){r(key)}return l};l.clear=function(){for(key in m){l.remove(key)}return l};l.resizeTrainingCharts=function(){if(d(".training-row-plot:first").length==0){return}f.options.width=d(".training-row-plot:visible:first").width()-24;j()};l.addInitHook=function(u,v){p[u]=v};l.preparePlot=function(x,v,u,w){delete e.cssId;d(document).off("createFlot."+x).on("createFlot."+x,function(){var y=d("#"+x);if(!e.hasOwnProperty(x)&&y.width()>0&&y.is(":visible")&&!y.hasClass("flot-hide")){e.cssId=true;y.width(v).height(u);w();a(x);y.removeClass(c.waitClass);d(document).off("createFlot."+x)}})};l.addPlot=function(z,x,w,u,y){var v=d("#"+z);if(z in m&&v.length==0){l.remove(z)}if(v.hasClass("training-chart")){v.width(f.options.width)}w=d.extend(true,{},q,w);w=s(w);n[z]=v.width();m[z]=d.plot(v,x,w);m[z].options=d.extend(true,{},c.defaultPlotOptions,u);m[z].showLegend=(v.find(".legendLabel").length>1);if(typeof y!="undefined"){m[z].annotations=y}else{m[z].annotations=[]}for(key in p){p[key](z)}return l};l.getPlot=function(u){return m[u]};l.remove=function(u){if(u in m){m[u].shutdown();delete m[u]}return l};l.toggleLegend=function(u){d("#"+u+" .legend").toggle();m[u].showLegend=!m[u].showLegend};l.toggleSelection=function(v){var u=l.getPlot(v).getOptions().selection.mode=="x";l.getPlot(v).getOptions().selection.mode=u?null:"x";if(u){this.getPlot(v).clearSelection();d("#"+v+" .map-tooltip").hide()}};l.toggleCrosshair=function(u){var v=(l.getPlot(u).getOptions().crosshair.mode=="x");l.getPlot(u).getOptions().crosshair.mode=v?null:"x";if(v){d("#"+u+" .map-tooltip").hide()}};l.togglePanning=function(u){};l.toggleFullscreen=function(v){var u=d("#"+v);u.toggleClass("fullscreen");d("#"+v+" .flot-settings-fullscreen, #"+v+" .flot-settings-fullscreen-hide").toggleClass("hide");if(u.hasClass("fullscreen")){u.attr("data-width",u.width());u.attr("data-height",u.height());l.setFullscreenSize()}else{u.css({width:u.attr("data-width"),height:u.attr("data-height")})}r(v)};l.setFullscreenSize=function(){var u=d(".flot.fullscreen");if(u.length){u.css({width:d(window).width()-(u.outerWidth(true)-u.width()),height:d(window).height()-(u.outerHeight(true)-u.height())});r(u.attr("id"))}};return l})(jQuery,undefined);RunalyzePlot.Options=(function(f,l){var o={};var p={cssClass:"flot-options",cssClassOption:"flot-option"};function a(q){return f("#"+q+" ."+p.cssClass)}function k(q){f("#"+q).append('<div class="'+p.cssClass+'"/>');n(q);b(q);h(q);m(q);e(q);d(q)}function j(t,r,u,v,q){var s=f('<div class="'+p.cssClassOption+'"><i class="'+r+'" title="'+u+'"/></div>').appendTo(a(t)).click(function(){v(this)});if(q){q(s,t)}}function n(q){j(q,"fa fa-fw fa-expand","Fullscreen mode",function(){l.toggleFullscreen(q)})}function b(q){j(q,"fa fa-fw fa-floppy-o","Save plot",function(){l.Saver.save(q)})}function h(q){j(q,"fa fa-fw fa-list-ul","Toggle legend",function(r){l.toggleLegend(q);f(r).toggleClass("option-toggled")},function(r){var s=f("#"+q+" .legend");if(!s.length){r.remove()}else{if(!s.is(":visible")){r.addClass("option-toggled")}}})}function m(q){j(q,"fa fa-fw fa-tag","Toggle annotations",function(r){f(r).toggleClass("option-toggled");f("#"+q+" .annotation").toggle()},function(r){if(!l.getPlot(q).annotations.length){r.remove()}})}function e(q){j(q,"fa fa-fw fa-crosshairs","Toggle crosshair",function(r){f(r).toggleClass("option-toggled");l.toggleCrosshair(q)},function(r){if(l.getPlot(q).getOptions().series.bars.show){r.remove()}else{if(!l.getPlot(q).options.enableCrosshair){r.addClass("option-toggled")}}})}function d(q){j(q,"fa fa-fw fa-crop","Toggle selection",function(r){f(r).toggleClass("option-toggled");l.toggleSelection(q)},function(r){if(l.getPlot(q).getOptions().series.bars.show){r.remove()}else{if(!l.getPlot(q).options.enableSelection){r.addClass("option-toggled")}}})}function c(q){j(q,"fa fa-fw fa-arrows","Toggle panning",function(r){f("#"+q+" .zooming-link").parent().toggle();f(r).toggleClass("option-toggled");l.togglePanning(q)},function(r){if(!l.getPlot(q).options.enablePanning){r.addClass("option-toggled")}})}function g(q){j(q,"fa fa-fw fa-search-plus zooming-link","Zoom in",function(r){l.getPlot(q).zoom()},function(r){if(!l.getPlot(q).options.enablePanning){r.hide()}});j(q,"fa fa-fw fa-search-minus zooming-link","Zoom out",function(r){l.getPlot(q).zoomOut()},function(r){if(!l.getPlot(q).options.enablePanning){r.hide()}})}o.init=function(q){k(q);return o};l.addInitHook("init-options",o.init);return o})(jQuery,RunalyzePlot);RunalyzePlot.Saver=(function(e,c){var a={};var d=false,b={bgColor:"#ffffff",annotationBgColor:"#000000",annotationTextColor:"#ffffff",filename:"Plot.png",callback:"call/savePng.php",errorMessage:"Sorry, your browser is not able to save images from canvas."};function f(){if(!d){e("body").append('<form style="display:none;" action="'+b.callback+'" method="post" target="save-png-frame" id="save-png-form"><input type="hidden" name="filename" value="'+b.filename+'"><input type="hidden" name="image" id="save-png-input" value=""></form><iframe style="display:none;" name="save-png-frame" src="" width="1" height="1"></iframe>');d=true}}function g(j,h){j.getOptions().grid.canvasText.show=h;j.setupGrid();j.draw()}a.save=function(m){var p=c.getPlot(m),o=e("#"+m+" canvas.flot-base")[0],l=document.createElement("canvas");f();if(o.getContext){g(p,true);var k=l.getContext("2d"),n=o.height,j=o.width;l.height=n;l.width=j;k.height=n;k.width=j;k.fillStyle=b.bgColor;k.fillRect(0,0,j,n);k.drawImage(o,0,0);e("#"+m+" .annotation").each(function(){var s=e(this).position(),q=e(this).width(),h=e(this).height(),r=e(this).text();k.fillStyle=b.annotationBgColor;k.fillRect(s.left+2,s.top+2,q,h);k.fillStyle=b.annotationTextColor;k.textAlign="left";k.fillText(r,s.left+2,s.top+h-1)});e("#save-png-input").val(l.toDataURL("image/png"));e("#save-png-form").submit();g(p,false)}else{window.alert(b.errorMessage)}};return a})(jQuery,RunalyzePlot);RunalyzePlot.Events=(function(d,j){var l={};var n={atString:"at",tooltipClass:"tooltip",tooltipInnerClass:"tooltip-inner"};function m(p){return d("#"+p+" ."+n.tooltipClass)}function k(p){d("#"+p).append('<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>')}function o(p,q){return p+": <span>"+q+"</span><br>"}function h(p){d("#"+p).bind("plothover",g(p));d("#"+p).bind("mouseleave",b)}function c(p){var q=j.getPlot(p);q.selection=false;d("#"+p).bind("plotselected",a(p)).bind("plotunselected",function(r){q.selection=false;m(p).removeClass("in").removeClass("right")})}function g(p){return function(F,G,J){var D=j.getPlot(p),r=D.getOptions(),H=D.getAxes(),u={},B="",t="",w,v,C;if(r.crosshair.mode!="x"||D.selection){return}if(r.series.points.show){if(J){u.x=J.pageX;u.y=J.pageY;t="top";w=J.datapoint[0];v=J.datapoint[1];C=H.xaxis.max-H.xaxis.min;if(H.xaxis.options.ticks!=null&&H.xaxis.options.ticks.length>=w+1){w=H.xaxis.options.ticks[w][1]}else{if(H.xaxis.options.mode=="time"&&C/1000>86400*2){w=(new Date(w)).toLocaleDateString()}else{w=H.xaxis.tickFormatter(Math.round(w*100)/100,H.xaxis)}}B=B+o(n.atString,w)+o(J.series.label,J.series.yaxis.tickFormatter(Math.round(v*100)/100,J.series.yaxis))}}else{if(r.series.bars.show){if(J){u.x=J.pageX;u.y=J.pageY;t="top";v=J.datapoint[1]-J.datapoint[2];if(D.getData().length>0){B=J.series.label+": "}B=B+"<span>"+J.series.yaxis.tickFormatter(Math.round(v*100)/100,J.series.yaxis)+"</span>"}}else{if(G.x>=H.xaxis.min&&G.x<=H.xaxis.max&&G.y>=H.yaxis.min&&G.y<=H.yaxis.max){u.x=G.pageX+15;u.y=G.pageY+10;t="right";C=H.xaxis.max-H.xaxis.min;if(H.xaxis.options.mode=="time"&&C/1000>86400*2){w=(new Date(G.x)).toLocaleDateString()}else{w=H.xaxis.tickFormatter(Math.round(G.x*100)/100,H.xaxis)}B=B+o(n.atString,w);var A=D.getData();for(var I=0;I<A.length;++I){var z=A[I];if(z.data.length==0){continue}for(var E=0;E<z.data.length;++E){if(z.data[E][0]>G.x){break}}var s=z.data[E-1],q=z.data[E];if(s==null){v=q[1]}else{if(q==null||Math.abs(q[0]-G.x)>Math.abs(G.x-s[0])){v=s[1]}else{v=q[1]}}B=B+o(z.label,z.yaxis.tickFormatter(Math.round(v*100)/100,z.yaxis))}}}}if(d("#"+p).is(".training-chart")){e(G.x)}f(p,u,B,t)}}function e(p){if(RunalyzeLeaflet&&RunalyzeLeaflet.Routes){RunalyzeLeaflet.Routes.movePosMarker(p)}}function b(){if(RunalyzeLeaflet&&RunalyzeLeaflet.Routes){RunalyzeLeaflet.Routes.unsetPosMarker()}}function a(p){return function(q,r,B){var z=j.getPlot(p),u=true;z.selection=true;var C=z.getAxes(),A="",F=parseFloat(r.xaxis.from.toFixed(1)),E=parseFloat(r.xaxis.to.toFixed(1));if(u){A=A+o(C.xaxis.tickFormatter(F,C.xaxis)+" - "+C.xaxis.tickFormatter(E,C.xaxis),C.xaxis.tickFormatter(Math.round((E-F)*10)/10,C.xaxis))}else{A=A+"<span>"+C.xaxis.tickFormatter(F,C.xaxis)+" - "+C.xaxis.tickFormatter(E,C.xaxis)+"</span><br>"}var w,t,s=z.getData();for(w=0;w<s.length;++w){var v=s[w],x=0,y=0;for(t=0;t<v.data.length;++t){if(v.data[t][0]>=F&&v.data[t][0]<=E){y=y+v.data[t][1];x=x+1}}A=A+o(v.label,"&oslash; "+v.yaxis.tickFormatter(Math.round((y/x)*100)/100,v.yaxis))}var D={y:15+q.pageY,x:15+q.pageX};f(p,D,A,"right")}}function f(p,s,q,r){if(s.hasOwnProperty("x")&&s.hasOwnProperty("y")){m(p).children("."+n.tooltipInnerClass).html(q);if(r=="top"){s.x=s.x-m(p).width()/2;s.y=s.y-m(p).height()-10}m(p).css("top",s.y-d(document).scrollTop()).css("left",s.x-d(document).scrollLeft()).children("."+n.tooltipInnerClass).html(q).parent().addClass(r).addClass("in")}else{m(p).removeClass("in").removeClass(r)}}l.init=function(p){k(p);h(p);c(p);return l};j.addInitHook("init-events",l.init);return l})(jQuery,RunalyzePlot);Runalyze.Tablesorter=(function(d,b){var a={};var c=[];a.update=function(){for(var e=0;e<c.length;e++){if(d("#"+c[e]).length==0){delete c[e]}}return a};a.has=function(e){return(d.inArray(e,c)!=-1)};a.add=function(e){c.push(e)};b.addLoadHook("update-tablesorter",a.update);return a})(jQuery,Runalyze);(function(d,b,c){var a=function(e){return d.trim(d(e).text()).replace(/[\/km]/,"")};d.fn.extend({tablesorterAutosort:function(e){var f=this.attr("id");if(typeof e=="undefined"){if(c.has(f)){this.trigger("update");return this}c.add(f)}return this.addClass("sortable").tablesorter({textExtraction:a})},tablesorterWithPager:function(e){var f=this.attr("id");if(typeof e=="undefined"){if(c.has(f)){this.trigger("update");return this}c.add(f)}return this.addClass("sortable").tablesorter({textExtraction:a}).tablesorterPager({container:d("#pager"),seperator:" of ",positionFixed:false,size:20})}});b.addParser({id:"germandate",is:function(e){return false},format:function(f){var e=f.split(".");if(e.length<2){return 0}e[1]=e[1].replace(/^[0]+/g,"");return new Date(e.reverse().join("/")).getTime()},type:"numeric"});b.addParser({id:"distance",is:function(e){return false},format:function(e){if(e.indexOf("km")!==-1){return parseFloat(e.replace(/[ km]/g,"").replace(/[.]/g,"").replace(/[,]/g,"."))}if(e.indexOf("m")!==-1){return parseFloat(e.replace(/[m]/g,"").replace(/[.]/g,""))/1000}return parseFloat(e)},type:"numeric"});b.addParser({id:"temperature",is:function(e){return false},format:function(e){if(isNaN(parseFloat(e))||isFinite(e)){return -99}return e.replace(/[ °C]/g,"")},type:"numeric"});b.addParser({id:"resulttime",is:function(e){return false},format:function(k){var l,j,e;var f=k.split(",");var g=f[0].split(":");f=(f.length>1)?f[1].replace(/[s]/g,""):0;if(g.length==3){l=g[0].split("d ");if(l.length==2){j=24*parseInt(l[0])+parseInt(l[1])}else{j=l[0]}e=g[1];k=g[2]}else{if(g.length==2){j=0;e=g[0];k=g[1]}else{j=0;e=0;k=g[0]}}return j*60*60+e*60+k+f/100},type:"numeric"});b.addParser({id:"x",is:function(e){return false},format:function(e){return e.replace(/[x]/g,"")},type:"numeric"})})(jQuery,jQuery.tablesorter,Runalyze.Tablesorter);Runalyze.Log=(function(c,a){var k={};var b="error-toolbar";var e=0;var h=null;var j=null;function d(l){return"log-"+l}function f(l){return'<span onclick="Runalyze.Log.remove('+l+');" class="link"><i class="fa fa-fw fa-times fa-grey"></i></span>'}function g(){if(h.children("tr").length==0){j.hide()}else{j.show()}}k.init=function(){if(j){return}c("body").append('<div id="'+b+'" class="toolbar at-top"></div>');j=c("#"+b);var l='<span onclick="Runalyze.Log.clear();" class="link"><i class="fa fa-fw fa-times"></i></span>',m='<i class="fa fa-fw fa-minus-circle link margin-5" id="log-filter-ERROR" onclick="Runalyze.Log.filter(\'ERROR\');" />',o='<i class="fa fa-fw fa-warning link margin-5" id="log-filter-WARNING" onclick="Runalyze.Log.filter(\'WARNING\');" />',q='<i class="fa fa-fw fa-info-circle link margin-5" id="log-filter-INFO" onclick="Runalyze.Log.filter(\'INFO\');" />',n=m+o+q,p='<table class="fullwidth nomargin"><thead><tr><th style="width:100px;">'+n+'</th><th>Errors</th><th style="width:70px;"></th><th style="width:3px;">'+l+'</th></thead><tbody id="errorTable"></tbody></table>';j.append('<div class="toolbar-content" style="max-height:200px;overflow-y:scroll;">'+p+"</div>");j.append('<div class="toolbar-nav"><div class="toolbar-opener"></div>');h=c("#errorTable");g()};k.remove=function(l){c("#"+d(l)).remove();g();return k};k.clear=function(l){h.empty();g();return k};k.filter=function(l){c("#log-filter-"+l).toggleClass("unimportant");h.children("."+l).toggleClass("hide");if(l=="INFO"){h.children(".TODO, .DEBUG, .NOTICE").toggleClass("hide")}};k.addArray=function(m){for(var l in m){k.add(m[l]["type"],m[l]["message"])}};k.add=function(l,m){e++;h.prepend('<tr id="'+d(e)+'" class="'+l+'"><td class="b errortype">'+l+"</td><td>"+m+'</td><td class="small">'+(new Date()).toTimeString().split(" ")[0]+"</td><td>"+f(e)+"</td></tr>");a.Feature.initToggle();g();return k};a.addInitHook("init-log",k.init);return k})(jQuery,Runalyze);Runalyze.Options=(function(d,c){var a={};var b={sharedView:false,fadeSpeed:200,loadingClass:"loading"};a.setSharedView=function(e){b.sharedView=e||true};a.isSharedView=function(){return b.sharedView};a.fadeSpeed=function(){return b.fadeSpeed};a.loadingClass=function(){return b.loadingClass};return a})(jQuery,Runalyze);Runalyze.Config=(function(c,b){var a={};function d(e,f){if(!b.Options.isSharedView()){c.ajax("call/ajax.change.Config.php?key="+e+"&value="+f)}}a.ignoreActivityID=function(e){d("garmin-ignore",e)};a.setLeafletLayer=function(e){d("leaflet-layer",e)};a.setActivityFormLegend=function(f,e){d("show-"+f,e)};return a})(jQuery,Runalyze);Runalyze.Overlay=(function(b,a){var m={};var n={selectorContainer:"#ajax",selectorBackground:"#overlay",selectorAll:"#overlay, #ajax, #ajax-navigation",selectorOuter:"#ajax-outer",classBig:"big-window",classSmall:"small-window",classFullscreen:"fullscreen",classBody:"overlay"};var l;var d;var c;var k;function f(){l=b(n.selectorContainer);d=b(n.selectorBackground);c=b(n.selectorAll);k=b(n.selectorOuter)}function h(){a.body().addClass(n.classBody)}function e(){a.body().removeClass(n.classBody)}function j(){b("body > :not(#flot-loader, #copy, #error-toolbar, script)").wrapAll('<div id="ajax-outer"><div id="ajax" class="panel"></div></div>');a.body().prepend('<div id="overlay"></div>');h();b("#ajax").css("margin-top","50px");b("#ajax, #overlay").show().fadeTo(a.Options.fadeSpeed(),1)}function g(){a.body().prepend('<div id="overlay"></div><div id="ajax-outer"><div id="ajax" class="panel"></div></div>')}m.init=function(){if(!a.hasContainer()){j()}else{if(!a.isReady()){g()}}f();k.click(function(o){if(o.target==o.currentTarget){m.close()}});return m};m.bindLinks=function(){b("a.window").unbind("click").click(function(o){o.preventDefault();m.load(b(this).attr("href"),{size:b(this).attr("data-size")});return false})};m.container=function(){return l};m.load=function(o,p,q){h();if(!d.is(":visible")){l.removeClass(n.classSmall).removeClass(n.classBig)}if(p&&p.size){if(p.size=="small"){l.removeClass(n.classBig);l.addClass(n.classSmall)}else{if(p.size=="big"){l.removeClass(n.classSmall);l.addClass(n.classBig)}}}d.show().fadeTo(a.Options.fadeSpeed(),1);l.addClass(a.Options.loadingClass()).show().fadeTo(a.Options.fadeSpeed(),1);l.loadDiv(o,q,p)};m.addCloseButton=function(){if(b("#close").length==0){l.prepend('<div id="close" class="black-rounded-icon" onclick="Runalyze.Overlay.close()"><i class="fa fa-fw fa-times"></i></div>')}};m.close=function(){if(a.hasContainer()){c.fadeTo(a.Options.fadeSpeed(),0,function(){c.hide();m.removeClasses();e()})}};m.toggleFullscreen=function(){l.toggleClass(n.classFullscreen)};m.removeClasses=function(){l.removeClass(n.classBig).removeClass(n.classSmall).removeClass(n.classFullscreen)};a.addInitHook("init-overlay",m.init);a.addLoadHook("init-overlay-links",m.bindLinks);return m})(jQuery,Runalyze);Runalyze.Panels=(function(e,c){var a={};var b={urlSingle:"call/call.Plugin.display.php?id=",urlReload:"call/call.ContentPanels.php",urlClap:"call/call.PluginPanel.clap.php",urlMove:"call/call.PluginPanel.move.php"};function f(){e("#panels .clap").unbind("click").click(function(){e(this).closest(".panel").find(".panel-content").toggle(c.Options.fadeSpeed(),function(){e(this).closest(".content").find(".flot").each(function(){RunalyzePlot.resize(e(this).attr("id"))})});e.get(b.urlClap,{id:e(this).attr("rel")})})}function d(){e("#panels .up, #panels .down").unbind("click").click(function(){if(e(this).hasClass("up")){e(this).closest(".panel").after(e(this).closest(".panel").prev(".panel"));e.get(b.urlMove,{mode:"up",id:e(this).attr("rel")})}else{e(this).closest(".panel").next(".panel").after(e(this).closest(".panel"));e.get(b.urlMove,{mode:"down",id:e(this).attr("rel")})}})}a.init=function(){f();d()};a.load=function(g){e("#panel-"+g).loadDiv(b.urlSingle+g)};a.reloadAll=function(g){if(typeof g=="undefined"){e("#panels").loadDiv(b.urlReload)}else{g=":not(."+g+")";e("#panels div.panel"+g).each(function(){a.load(e(this).attr("id").substring(6))})}};c.addLoadHook("init-panels",a.init);return a})(jQuery,Runalyze);Runalyze.DataBrowser=(function(d,c){var a={};var b={selectorContainer:"#statistics-nav",selectorReload:"#refreshDataBrowser"};var f;function e(){f=d(b.selectorContainer)}a.init=function(){e()};a.reload=function(){d(b.selectorReload).trigger("click")};a.currentTimes=function(){var h=d(b.selectorReload).attr("href");var l;var m;var g;h=h.substr(h.indexOf("?")+1);l=h.split("&");for(var j=0;j<l.length;j++){var k=l[j].split("=");if(k[0]=="start"){m=k[1]}else{if(k[0]=="end"){g=k[1]}}}return{start:m,end:g}};c.addInitHook("init-databrowser",a.init);return a})(jQuery,Runalyze);Runalyze.Statistics=(function(d,b){var j={};var k={selectorMenu:"#statistics-nav",selectorMenuItems:"#statistics-nav li",selectorContent:"#statistics-inner",activeClass:"active",urlStat:"call/call.Plugin.display.php?id="};var a;var f;var c;var h;function g(){a=d(k.selectorMenu);f=d(k.selectorMenuItems);c=d(k.selectorContent);if(!b.isReady()){j.resetUrl()}else{f.removeClass(k.activeClass);f.children("a[href='"+j.currentTabContentUrl+"']").parent().addClass("active")}}function e(){f.unbind("click").click(function(l){l.preventDefault();b.Training.removeHighlighting();f.removeClass(k.activeClass);d(this).addClass(k.activeClass);j.load(d(this).find("a").attr("href"));return false})}j.init=function(){g();e()};j.currentUrl=function(){return h};j.setUrl=function(l){h=l};j.resetUrl=function(){h=d(k.selectorMenuItems+":first a").attr("href")};j.showsTraining=function(){return b.Training.isUrl(h)};j.shows=function(l){return(h.lastIndexOf(k.urlStat+l.toString(),0)===0)};j.currentId=function(){if(j.showsTraining()){return h.substr(b.Training.url("").length)}return h.substr(k.urlStat.length)};j.reload=function(){if(h!=""){var l=f.children("a[href='"+j.currentTabContentUrl+"']");if(l.length){b.Training.removeHighlighting();f.removeClass(k.activeClass);l.addClass(k.activeClass)}j.load(h)}};j.load=function(l){c.loadDiv(l);h=l};j.loadTraining=function(l){f.removeClass(k.activeClass);j.load(l)};b.addInitHook("init-statistics",j.init);return j})(jQuery,Runalyze);Runalyze.Training=(function(d,c){var a={};var b={url:"call/call.Training.display.php?id=",urlSaveTCX:"call/ajax.saveTcx.php",highlightClass:"highlight"};a.initLinks=function(){d("a.training").unbind("click").click(function(f){f.preventDefault();a.load(d(this).attr("rel"));return false})};a.load=function(f,e){c.Statistics.load(e||a.url(f));a.removeHighlighting();a.addHighlighting(f)};a.reload=function(){if(c.Statistics.showsTraining()){c.Statistics.reload()}};a.isUrl=function(e){return(e.lastIndexOf(b.url,0)===0)};a.url=function(e){return b.url+e.toString()};a.removeHighlighting=function(){d("#data-browser tr.training").removeClass(b.highlightClass)};a.addHighlighting=function(e){d("#training_"+e).addClass(b.highlightClass)};a.saveTcx=function(g,e,f,h,j){d.post(b.urlSaveTCX,{activityId:e,data:g},function(){if(f==h){a.loadSavedTcxs(j)}})};a.loadSavedTcxs=function(e){c.Overlay.container().loadDiv(d("form#training").attr("action"),{activityIds:e,data:"FINISHED"})};a.loadXML=function(e){c.Overlay.container().loadDiv(d("form#training").attr("action"),{data:e})};c.addLoadHook("init-training-links",a.initLinks);return a})(jQuery,Runalyze);Runalyze.Feature=(function(d,a){var n={};var o={};function c(){d("a.ajax").unbind("click").click(function(r){r.preventDefault();var p=d(this).attr("href");var q=d(this).attr("target");if(p!="#"){if(q=="statistics-inner"){a.Statistics.setUrl(p)}d("#"+q).loadDiv(p,d(this).attr("data-size"))}return false})}function l(){d("body > .tooltip").remove();d("[rel=tooltip].atLeft").tooltip({animation:true,placement:"left"});d("[rel=tooltip].atRight").tooltip({animation:true,placement:"right"});d("[rel=tooltip]:not(.atLeft):not(.atRight)").tooltip({animation:true});return this}function g(){d(".toggle").unbind("click").click(function(p){p.preventDefault();d("#"+d(this).attr("rel")).animate({opacity:"toggle"})})}function b(){d(".toolbar-opener").unbind("click").click(function(){d(this).parent().parent().toggleClass("open")})}function f(){d("a.change").each(function(){if(d("a.change[target="+d(this).attr("target")+"].triggered").length==0){d("a.change[target="+d(this).attr("target")+"]:first").addClass("triggered").parent().addClass("triggered")}else{d("a.change[target="+d(this).attr("target")+"].triggered").parent().addClass("triggered")}});d("a.change").unbind("click").click(function(t){t.preventDefault();d("a.change[target="+d(this).attr("target")+"]").removeClass("triggered").parent().removeClass("triggered");d(this).addClass("triggered").parent().addClass("triggered");var s="#"+d(this).attr("target"),p=d(s),q=d(s+" > .change:visible, "+s+" > .panel-content > .change:visible, "+s+" > .statistics-container > .change:visible"),r=d("#"+d(this).attr("href").split("#").pop());p.addClass("loading");q.fadeOut(a.Options.fadeSpeed(),function(){r.fadeTo(a.Options.fadeSpeed(),1,function(){p.hide().removeClass(a.Options.loadingClass()).fadeIn();a.createFlot();RunalyzePlot.resizeAll()})});return false})}function m(){d("#calendar-link").unbind("click").bind("click",function(){var p=d("#data-browser-calendar");p.toggle();if(p.is(":visible")){h()}})}function h(){var p=d("#widget-calendar");if(p.text().trim().length>0){return this}p.DatePicker({flat:true,format:"d B Y",date:[new Date(parseInt(d("#calendar-start").val())),new Date(parseInt(d("#calendar-end").val()))],calendars:3,mode:"range",starts:1});d("#calendar-submit").unbind("click").bind("click",function(){var r=p.DatePickerGetDate(),s=Math.round(r[0].getTime()/1000),q=Math.round(r[1].getTime()/1000);d("#data-browser-inner").loadDiv("call/call.DataBrowser.display.php?start="+s+"&end="+q)});return this}function j(){k();e()}function k(){d(".chzn-select").chosen();d(".pick-a-date:not(.has-a-datepicker)").each(function(){var p=d(this);p.addClass("has-a-datepicker");p.DatePicker({format:"d.m.Y",date:p.val(),current:p.val(),calendars:1,starts:1,position:"bottom",mode:"single",onBeforeShow:function(){p.DatePickerSetDate(p.val(),true)},onChange:function(r,q){p.val(r);p.DatePickerHide()}})})}function e(){d("#ajax form.ajax").unbind("submit").submit(function(u){u.preventDefault();if(d(this).children(":submit").hasClass("debug")){window.alert(d(this).serialize());return false}d("body > .datepicker").remove();var t=d(this).attr("id");var q=d(this).hasClass("no-automatic-reload");var s=d(this).serializeArray();var p=d(this).attr("action");var r=d("#ajax");s.push({name:"submit",value:"submit"});if(t=="search"&&d("form.ajax input[name=send_to_multiEditor]:checked").length==0){d("#searchResult").loadDiv(p+"?pager=true",s);return false}if(d("#ajax #pluginTool").length){r=d("#pluginTool")}r.loadDiv(p,s,{success:function(){d("#submit-info").fadeIn().delay(4000).fadeOut();if(t!="search"&&t!="tcxUpload"&&!q){a.reloadContent()}}});return false})}n.init=function(){c();l();g();b();f();m();j()};n.initToggle=function(){g()};a.addLoadHook("init-feature",n.init);return n})(jQuery,Runalyze);(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var d=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function b(l){var g,j,e;var k,h,f;e=l.length;j=0;g="";while(j<e){k=l.charCodeAt(j++)&255;if(j==e){g+=a.charAt(k>>2);g+=a.charAt((k&3)<<4);g+="==";break}h=l.charCodeAt(j++);if(j==e){g+=a.charAt(k>>2);g+=a.charAt(((k&3)<<4)|((h&240)>>4));g+=a.charAt((h&15)<<2);g+="=";break}f=l.charCodeAt(j++);g+=a.charAt(k>>2);g+=a.charAt(((k&3)<<4)|((h&240)>>4));g+=a.charAt(((h&15)<<2)|((f&192)>>6));g+=a.charAt(f&63)}return g}function c(m){var l,k,h,f;var j,e,g;e=m.length;j=0;g="";while(j<e){do{l=d[m.charCodeAt(j++)&255]}while(j<e&&l==-1);if(l==-1){break}do{k=d[m.charCodeAt(j++)&255]}while(j<e&&k==-1);if(k==-1){break}g+=String.fromCharCode((l<<2)|((k&48)>>4));do{h=m.charCodeAt(j++)&255;if(h==61){return g}h=d[h]}while(j<e&&h==-1);if(h==-1){break}g+=String.fromCharCode(((k&15)<<4)|((h&60)>>2));do{f=m.charCodeAt(j++)&255;if(f==61){return g}f=d[f]}while(j<e&&f==-1);if(f==-1){break}g+=String.fromCharCode(((h&3)<<6)|f)}return g}if(!window.btoa){window.btoa=b}if(!window.atob){window.atob=c}})();(function(b){b.color={},b.color.make=function(d,g,f,c){var e={};return e.r=d||0,e.g=g||0,e.b=f||0,e.a=c!=null?c:1,e.add=function(j,h){for(var k=0;k<j.length;++k){e[j.charAt(k)]+=h}return e.normalize()},e.scale=function(j,h){for(var k=0;k<j.length;++k){e[j.charAt(k)]*=h}return e.normalize()},e.toString=function(){return e.a>=1?"rgb("+[e.r,e.g,e.b].join(",")+")":"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"},e.normalize=function(){function h(k,j,l){return j<k?k:j>l?l:j}return e.r=h(0,parseInt(e.r),255),e.g=h(0,parseInt(e.g),255),e.b=h(0,parseInt(e.b),255),e.a=h(0,e.a,1),e},e.clone=function(){return b.color.make(e.r,e.b,e.g,e.a)},e.normalize()},b.color.extract=function(c,e){var d;do{d=c.css(e).toLowerCase();if(d!=""&&d!="transparent"){break}c=c.parent()}while(!b.nodeName(c.get(0),"body"));return d=="rgba(0, 0, 0, 0)"&&(d="transparent"),b.color.parse(d)},b.color.parse=function(f){var e,c=b.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10))}if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]))}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55)}if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55,parseFloat(e[4]))}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return c(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16))}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return c(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16))}var d=b.trim(f).toLowerCase();return d=="transparent"?c(255,255,255,0):(e=a[d]||[0,0,0],c(e[0],e[1],e[2]))};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(d){function f(g,l){var j=l.children("."+g)[0];if(j==null){j=document.createElement("canvas"),j.className=g,d(j).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(l);if(!j.getContext){if(!window.G_vmlCanvasManager){throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}j=window.G_vmlCanvasManager.initElement(j)}}this.element=j;var e=this.context=j.getContext("2d"),h=window.devicePixelRatio||1,k=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=h/k,this.resize(l.width(),l.height()),this.textContainer=null,this.text={},this._textCache={}}function c(aV,aY,aW,a2){function aC(h,g){g=[aS].concat(g);for(var j=0;j<h.length;++j){h[j].apply(this,g)}}function ag(){var h={Canvas:f};for(var j=0;j<a2.length;++j){var g=a2[j];g.init(aS,h),g.options&&d.extend(!0,bg,g.options)}}function aR(m){d.extend(!0,bg,m),m&&m.colors&&(bg.colors=m.colors),bg.xaxis.color==null&&(bg.xaxis.color=d.color.parse(bg.grid.color).scale("a",0.22).toString()),bg.yaxis.color==null&&(bg.yaxis.color=d.color.parse(bg.grid.color).scale("a",0.22).toString()),bg.xaxis.tickColor==null&&(bg.xaxis.tickColor=bg.grid.tickColor||bg.xaxis.color),bg.yaxis.tickColor==null&&(bg.yaxis.tickColor=bg.grid.tickColor||bg.yaxis.color),bg.grid.borderColor==null&&(bg.grid.borderColor=bg.grid.color),bg.grid.tickColor==null&&(bg.grid.tickColor=d.color.parse(bg.grid.color).scale("a",0.22).toString());var k,h,j,l={style:aV.css("font-style"),size:Math.round(0.8*(+aV.css("font-size").replace("px","")||13)),variant:aV.css("font-variant"),weight:aV.css("font-weight"),family:aV.css("font-family")};l.lineHeight=l.size*1.15,j=bg.xaxes.length||1;for(k=0;k<j;++k){h=bg.xaxes[k],h&&!h.tickColor&&(h.tickColor=h.color),h=d.extend(!0,{},bg.xaxis,h),bg.xaxes[k]=h,h.font&&(h.font=d.extend({},l,h.font),h.font.color||(h.font.color=h.color))}j=bg.yaxes.length||1;for(k=0;k<j;++k){h=bg.yaxes[k],h&&!h.tickColor&&(h.tickColor=h.color),h=d.extend(!0,{},bg.yaxis,h),bg.yaxes[k]=h,h.font&&(h.font=d.extend({},l,h.font),h.font.color||(h.font.color=h.color))}bg.xaxis.noTicks&&bg.xaxis.ticks==null&&(bg.xaxis.ticks=bg.xaxis.noTicks),bg.yaxis.noTicks&&bg.yaxis.ticks==null&&(bg.yaxis.ticks=bg.yaxis.noTicks),bg.x2axis&&(bg.xaxes[1]=d.extend(!0,{},bg.xaxis,bg.x2axis),bg.xaxes[1].position="top"),bg.y2axis&&(bg.yaxes[1]=d.extend(!0,{},bg.yaxis,bg.y2axis),bg.yaxes[1].position="right"),bg.grid.coloredAreas&&(bg.grid.markings=bg.grid.coloredAreas),bg.grid.coloredAreasColor&&(bg.grid.markingsColor=bg.grid.coloredAreasColor),bg.lines&&d.extend(!0,bg.series.lines,bg.lines),bg.points&&d.extend(!0,bg.series.points,bg.points),bg.bars&&d.extend(!0,bg.series.bars,bg.bars),bg.shadowSize!=null&&(bg.series.shadowSize=bg.shadowSize),bg.highlightColor!=null&&(bg.series.highlightColor=bg.highlightColor);for(k=0;k<bg.xaxes.length;++k){am(bd,k+1).options=bg.xaxes[k]}for(k=0;k<bg.yaxes.length;++k){am(aT,k+1).options=bg.yaxes[k]}for(var g in bf){bg.hooks[g]&&bg.hooks[g].length&&(bf[g]=bf[g].concat(bg.hooks[g]))}aC(bf.processOptions,[bg])}function ae(g){aU=an(g),ao(),bh()}function an(h){var k=[];for(var j=0;j<h.length;++j){var g=d.extend(!0,{},bg.series);h[j].data!=null?(g.data=h[j].data,delete h[j].data,d.extend(!0,g,h[j]),h[j].data=g.data):g.data=h[j],k.push(g)}return k}function aF(h,g){var j=h[g+"axis"];return typeof j=="object"&&(j=j.n),typeof j!="number"&&(j=1),j}function a6(){return d.grep(bd.concat(aT),function(g){return g})}function ap(j){var g={},k,h;for(k=0;k<bd.length;++k){h=bd[k],h&&h.used&&(g["x"+h.n]=h.c2p(j.left))}for(k=0;k<aT.length;++k){h=aT[k],h&&h.used&&(g["y"+h.n]=h.c2p(j.top))}return g.x1!==undefined&&(g.x=g.x1),g.y1!==undefined&&(g.y=g.y1),g}function aH(k){var h={},l,j,g;for(l=0;l<bd.length;++l){j=bd[l];if(j&&j.used){g="x"+j.n,k[g]==null&&j.n==1&&(g="x");if(k[g]!=null){h.left=j.p2c(k[g]);break}}}for(l=0;l<aT.length;++l){j=aT[l];if(j&&j.used){g="y"+j.n,k[g]==null&&j.n==1&&(g="y");if(k[g]!=null){h.top=j.p2c(k[g]);break}}}return h}function am(g,h){return g[h-1]||(g[h-1]={n:h,direction:g==bd?"x":"y",options:d.extend(!0,{},g==bd?bg.xaxis:bg.yaxis)}),g[h-1]}function ao(){var C=aU.length,u=-1,j;for(j=0;j<aU.length;++j){var x=aU[j].color;x!=null&&(C--,typeof x=="number"&&x>u&&(u=x))}C<=u&&(C=u+1);var D,q=[],A=bg.colors,w=A.length,B=0;for(j=0;j<C;j++){D=d.color.parse(A[j%w]||"#666"),j%w==0&&j&&(B>=0?B<0.5?B=-B-0.2:B=0:B=-B),q[j]=D.scale("rgb",1+B)}var y=0,k;for(j=0;j<aU.length;++j){k=aU[j],k.color==null?(k.color=q[y].toString(),++y):typeof k.color=="number"&&(k.color=q[k.color].toString());if(k.lines.show==null){var v,z=!0;for(v in k){if(k[v]&&k[v].show){z=!1;break}}z&&(k.lines.show=!0)}k.lines.zero==null&&(k.lines.zero=!!k.lines.fill),k.xaxis=am(bd,aF(k,"x")),k.yaxis=am(aT,aF(k,"y"))}}function bh(){function E(h,g,l){g<h.datamin&&g!=-K&&(h.datamin=g),l>h.datamax&&l!=K&&(h.datamax=l)}var H=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,K=Number.MAX_VALUE,X,I,R,bk,at,W,bj,Y,Q,bi,G,V,Z,D,F,k;d.each(a6(),function(h,g){g.datamin=H,g.datamax=U,g.used=!1});for(X=0;X<aU.length;++X){W=aU[X],W.datapoints={points:[]},aC(bf.processRawData,[W,W.data,W.datapoints])}for(X=0;X<aU.length;++X){W=aU[X],F=W.data,k=W.datapoints.format;if(!k){k=[],k.push({x:!0,number:!0,required:!0}),k.push({y:!0,number:!0,required:!0});if(W.bars.show||W.lines.show&&W.lines.fill){var j=!!(W.bars.show&&W.bars.zero||W.lines.show&&W.lines.zero);k.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:j}),W.bars.horizontal&&(delete k[k.length-1].y,k[k.length-1].x=!0)}W.datapoints.format=k}if(W.datapoints.pointsize!=null){continue}W.datapoints.pointsize=k.length,Y=W.datapoints.pointsize,bj=W.datapoints.points;var u=W.lines.show&&W.lines.steps;W.xaxis.used=W.yaxis.used=!0;for(I=R=0;I<F.length;++I,R+=Y){D=F[I];var J=D==null;if(!J){for(bk=0;bk<Y;++bk){V=D[bk],Z=k[bk],Z&&(Z.number&&V!=null&&(V=+V,isNaN(V)?V=null:V==Infinity?V=K:V==-Infinity&&(V=-K)),V==null&&(Z.required&&(J=!0),Z.defaultValue!=null&&(V=Z.defaultValue))),bj[R+bk]=V}}if(J){for(bk=0;bk<Y;++bk){V=bj[R+bk],V!=null&&(Z=k[bk],Z.autoscale&&(Z.x&&E(W.xaxis,V,V),Z.y&&E(W.yaxis,V,V))),bj[R+bk]=null}}else{if(u&&R>0&&bj[R-Y]!=null&&bj[R-Y]!=bj[R]&&bj[R-Y+1]!=bj[R+1]){for(bk=0;bk<Y;++bk){bj[R+Y+bk]=bj[R+bk]}bj[R+1]=bj[R-Y+1],R+=Y}}}}for(X=0;X<aU.length;++X){W=aU[X],aC(bf.processDatapoints,[W,W.datapoints])}for(X=0;X<aU.length;++X){W=aU[X],bj=W.datapoints.points,Y=W.datapoints.pointsize,k=W.datapoints.format;var B=H,P=H,q=U,z=U;for(I=0;I<bj.length;I+=Y){if(bj[I]==null){continue}for(bk=0;bk<Y;++bk){V=bj[I+bk],Z=k[bk];if(!Z||Z.autoscale===!1||V==K||V==-K){continue}Z.x&&(V<B&&(B=V),V>q&&(q=V)),Z.y&&(V<P&&(P=V),V>z&&(z=V))}}if(W.bars.show){var bl;switch(W.bars.align){case"left":bl=0;break;case"right":bl=-W.bars.barWidth;break;case"center":bl=-W.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+W.bars.align)}W.bars.horizontal?(P+=bl,z+=bl+W.bars.barWidth):(B+=bl,q+=bl+W.bars.barWidth)}E(W.xaxis,B,q),E(W.yaxis,P,z)}d.each(a6(),function(h,g){g.datamin==H&&(g.datamin=null),g.datamax==U&&(g.datamax=null)})}function aD(){aV.css("padding",0).children(":not(.flot-base,.flot-overlay)").remove(),aV.css("position")=="static"&&aV.css("position","relative"),bb=new f("flot-base",aV),a5=new f("flot-overlay",aV),a9=bb.context,a0=a5.context,be=d(a5.element).unbind();var g=aV.data("plot");g&&(g.shutdown(),a5.clear()),aV.data("plot",aS)}function ak(){bg.grid.hoverable&&(be.mousemove(af),be.bind("mouseleave",aJ)),bg.grid.clickable&&be.click(aL),aC(bf.bindEvents,[be])}function ax(){aM&&clearTimeout(aM),be.unbind("mousemove",af),be.unbind("mouseleave",aJ),be.unbind("click",aL),aC(bf.shutdown,[be])}function aG(l){function h(o){return o}var m,k,g=l.options.transform||h,j=l.options.inverseTransform;l.direction=="x"?(m=l.scale=ba/Math.abs(g(l.max)-g(l.min)),k=Math.min(g(l.max),g(l.min))):(m=l.scale=aQ/Math.abs(g(l.max)-g(l.min)),m=-m,k=Math.max(g(l.max),g(l.min))),g==h?l.p2c=function(o){return(o-k)*m}:l.p2c=function(o){return(g(o)-k)*m},j?l.c2p=function(o){return j(k+o/m)}:l.c2p=function(o){return k+o/m}}function a8(l){var q=l.options,j=l.ticks||[],g=q.labelWidth||0,k=q.labelHeight||0,v=g||l.direction=="x"?Math.floor(bb.width/(j.length||1)):null;legacyStyles=l.direction+"Axis "+l.direction+l.n+"Axis",layer="flot-"+l.direction+"-axis flot-"+l.direction+l.n+"-axis "+legacyStyles,font=q.font||"flot-tick-label tickLabel";for(var h=0;h<j.length;++h){var p=j[h];if(!p.label){continue}var m=bb.getTextInfo(layer,p.label,font,null,v);g=Math.max(g,m.width),k=Math.max(k,m.height)}l.labelWidth=q.labelWidth||g,l.labelHeight=q.labelHeight||k}function aA(B){var q=B.labelWidth,j=B.labelHeight,w=B.options.position,C=B.options.tickLength,m=bg.grid.axisMargin,A=bg.grid.labelMargin,v=B.direction=="x"?bd:aT,z,x,k=d.grep(v,function(g){return g&&g.options.position==w&&g.reserveSpace});d.inArray(B,k)==k.length-1&&(m=0);if(C==null){var y=d.grep(v,function(g){return g&&g.reserveSpace});x=d.inArray(B,y)==0,x?C="full":C=5}isNaN(+C)||(A+=+C),B.direction=="x"?(j+=A,w=="bottom"?(a4.bottom+=j+m,B.box={top:bb.height-a4.bottom,height:j}):(B.box={top:a4.top+m,height:j},a4.top+=j+m)):(q+=A,w=="left"?(B.box={left:a4.left+m,width:q},a4.left+=q+m):(a4.right+=q+m,B.box={left:bb.width-a4.right,width:q})),B.position=w,B.tickLength=C,B.box.padding=A,B.innermost=x}function aw(g){g.direction=="x"?(g.box.left=a4.left-g.labelWidth/2,g.box.width=bb.width-a4.left-a4.right+g.labelWidth):(g.box.top=a4.top-g.labelHeight/2,g.box.height=bb.height-a4.bottom-a4.top+g.labelHeight)}function aZ(){var h=bg.grid.minBorderMargin,k={x:0,y:0},j,g;if(h==null){h=0;for(j=0;j<aU.length;++j){h=Math.max(h,2*(aU[j].points.radius+aU[j].points.lineWidth/2))}}k.x=k.y=Math.ceil(h),d.each(a6(),function(o,l){var m=l.direction;l.reserveSpace&&(k[m]=Math.ceil(Math.max(k[m],(m=="x"?l.labelWidth:l.labelHeight)/2)))}),a4.left=Math.max(k.x,a4.left),a4.right=Math.max(k.x,a4.right),a4.top=Math.max(k.y,a4.top),a4.bottom=Math.max(k.y,a4.bottom)}function ah(){var h,m=a6(),k=bg.grid.show;for(var g in a4){var j=bg.grid.margin||0;a4[g]=typeof j=="number"?j:j[g]||0}aC(bf.processOffset,[a4]);for(var g in a4){typeof bg.grid.borderWidth=="object"?a4[g]+=k?bg.grid.borderWidth[g]:0:a4[g]+=k?bg.grid.borderWidth:0}d.each(m,function(p,o){o.show=o.options.show,o.show==null&&(o.show=o.used),o.reserveSpace=o.show||o.options.reserveSpace,ad(o)});if(k){var l=d.grep(m,function(o){return o.reserveSpace});d.each(l,function(p,o){aP(o),ab(o),aa(o,o.ticks),a8(o)});for(h=l.length-1;h>=0;--h){aA(l[h])}aZ(),d.each(l,function(p,o){aw(o)})}ba=bb.width-a4.left-a4.right,aQ=bb.height-a4.bottom-a4.top,d.each(m,function(p,o){aG(o)}),k&&az(),aK()}function ad(l){var h=l.options,p=+(h.min!=null?h.min:l.datamin),k=+(h.max!=null?h.max:l.datamax),g=k-p;if(g==0){var j=k==0?1:0.01;h.min==null&&(p-=j);if(h.max==null||h.min!=null){k+=j}}else{var m=h.autoscaleMargin;m!=null&&(h.min==null&&(p-=g*m,p<0&&l.datamin!=null&&l.datamin>=0&&(p=0)),h.max==null&&(k+=g*m,k>0&&l.datamax!=null&&l.datamax<=0&&(k=0)))}l.min=p,l.max=k}function aP(D){var v=D.options,j;typeof v.ticks=="number"&&v.ticks>0?j=v.ticks:j=0.3*Math.sqrt(D.direction=="x"?bb.width:bb.height);var E=(D.max-D.min)/j,q=-Math.floor(Math.log(E)/Math.LN10),C=v.tickDecimals;C!=null&&q>C&&(q=C);var B=Math.pow(10,-q),x=E/B,A;x<1.5?A=1:x<3?(A=2,x>2.25&&(C==null||q+1<=C)&&(A=2.5,++q)):x<7.5?A=5:A=10,A*=B,v.minTickSize!=null&&A<v.minTickSize&&(A=v.minTickSize),D.delta=E,D.tickDecimals=Math.max(0,C!=null?C:q),D.tickSize=v.tickSize||A;if(v.mode=="time"&&!D.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}D.tickGenerator||(D.tickGenerator=function(m){var g=[],u=b(m.min,m.tickSize),l=0,h=Number.NaN,p;do{p=h,h=u+l*m.tickSize,g.push(h),++l}while(h<m.max&&h!=p);return g},D.tickFormatter=function(o,h){var p=h.tickDecimals?Math.pow(10,h.tickDecimals):1,m=""+Math.round(o*p)/p;if(h.tickDecimals!=null){var g=m.indexOf("."),l=g==-1?0:m.length-g-1;if(l<h.tickDecimals){return(l?m:m+".")+(""+p).substr(1,h.tickDecimals-l)}}return m}),d.isFunction(v.tickFormatter)&&(D.tickFormatter=function(h,g){return""+v.tickFormatter(h,g)});if(v.alignTicksWithAxis!=null){var y=(D.direction=="x"?bd:aT)[v.alignTicksWithAxis-1];if(y&&y.used&&y!=D){var k=D.tickGenerator(D);k.length>0&&(v.min==null&&(D.min=Math.min(D.min,k[0])),v.max==null&&k.length>1&&(D.max=Math.max(D.max,k[k.length-1]))),D.tickGenerator=function(l){var g=[],m,h;for(h=0;h<y.ticks.length;++h){m=(y.ticks[h].v-y.min)/(y.max-y.min),m=l.min+m*(l.max-l.min),g.push(m)}return g};if(!D.mode&&v.tickDecimals==null){var w=Math.max(0,-Math.floor(Math.log(D.delta)/Math.LN10)+1),z=D.tickGenerator(D);z.length>1&&/\..*0$/.test((z[1]-z[0]).toFixed(w))||(D.tickDecimals=w)}}}}function ab(j){var p=j.options.ticks,l=[];p==null||typeof p=="number"&&p>0?l=j.tickGenerator(j):p&&(d.isFunction(p)?l=p(j):l=p);var h,k;j.ticks=[];for(h=0;h<l.length;++h){var m=null,g=l[h];typeof g=="object"?(k=+g[0],g.length>1&&(m=g[1])):k=+g,m==null&&(m=j.tickFormatter(k,j)),isNaN(k)||j.ticks.push({v:k,label:m})}}function aa(h,g){h.options.autoscaleMargin&&g.length>0&&(h.options.min==null&&(h.min=Math.min(h.min,g[0].v)),h.options.max==null&&g.length>1&&(h.max=Math.max(h.max,g[g.length-1].v)))}function ac(){bb.clear(),aC(bf.drawBackground,[a9]);var h=bg.grid;h.show&&h.backgroundColor&&ar(),h.show&&!h.aboveData&&aj();for(var g=0;g<aU.length;++g){aC(bf.drawSeries,[a9,aU[g]]),n(aU[g])}aC(bf.draw,[a9]),h.show&&h.aboveData&&aj(),bb.render(),a3()}function au(l,q){var j,g,k,v,h=a6();for(var p=0;p<h.length;++p){j=h[p];if(j.direction==q){v=q+j.n+"axis",!l[v]&&j.n==1&&(v=q+"axis");if(l[v]){g=l[v].from,k=l[v].to;break}}}l[v]||(j=q=="x"?bd[0]:aT[0],g=l[q+"1"],k=l[q+"2"]);if(g!=null&&k!=null&&g>k){var m=g;g=k,k=m}return{from:g,to:k,axis:j}}function ar(){a9.save(),a9.translate(a4.left,a4.top),a9.fillStyle=aX(bg.grid.backgroundColor,aQ,0,"rgba(255, 255, 255, 0)"),a9.fillRect(0,0,ba,aQ),a9.restore()}function aj(){var G,k,g,w;a9.save(),a9.translate(a4.left,a4.top);var I=bg.grid.markings;if(I){d.isFunction(I)&&(k=aS.getAxes(),k.xmin=k.xaxis.min,k.xmax=k.xaxis.max,k.ymin=k.yaxis.min,k.ymax=k.yaxis.max,I=I(k));for(G=0;G<I.length;++G){var j=I[G],F=au(j,"x"),y=au(j,"y");F.from==null&&(F.from=F.axis.min),F.to==null&&(F.to=F.axis.max),y.from==null&&(y.from=y.axis.min),y.to==null&&(y.to=y.axis.max);if(F.to<F.axis.min||F.from>F.axis.max||y.to<y.axis.min||y.from>y.axis.max){continue}F.from=Math.max(F.from,F.axis.min),F.to=Math.min(F.to,F.axis.max),y.from=Math.max(y.from,y.axis.min),y.to=Math.min(y.to,y.axis.max);if(F.from==F.to&&y.from==y.to){continue}F.from=F.axis.p2c(F.from),F.to=F.axis.p2c(F.to),y.from=y.axis.p2c(y.from),y.to=y.axis.p2c(y.to),F.from==F.to||y.from==y.to?(a9.beginPath(),a9.strokeStyle=j.color||bg.grid.markingsColor,a9.lineWidth=j.lineWidth||bg.grid.markingsLineWidth,a9.moveTo(F.from,y.from),a9.lineTo(F.to,y.to),a9.stroke()):(a9.fillStyle=j.color||bg.grid.markingsColor,a9.fillRect(F.from,y.to,F.to-F.from,y.from-y.to))}}k=a6(),g=bg.grid.borderWidth;for(var m=0;m<k.length;++m){var A=k[m],h=A.box,z=A.tickLength,D,B,H,q;if(!A.show||A.ticks.length==0){continue}a9.lineWidth=1,A.direction=="x"?(D=0,z=="full"?B=A.position=="top"?0:aQ:B=h.top-a4.top+(A.position=="top"?h.height:0)):(B=0,z=="full"?D=A.position=="left"?0:ba:D=h.left-a4.left+(A.position=="left"?h.width:0)),A.innermost||(a9.strokeStyle=A.options.color,a9.beginPath(),H=q=0,A.direction=="x"?H=ba+1:q=aQ+1,a9.lineWidth==1&&(A.direction=="x"?B=Math.floor(B)+0.5:D=Math.floor(D)+0.5),a9.moveTo(D,B),a9.lineTo(D+H,B+q),a9.stroke()),a9.strokeStyle=A.options.tickColor,a9.beginPath();for(G=0;G<A.ticks.length;++G){var C=A.ticks[G].v;H=q=0;if(isNaN(C)||C<A.min||C>A.max||z=="full"&&(typeof g=="object"&&g[A.position]>0||g>0)&&(C==A.min||C==A.max)){continue}A.direction=="x"?(D=A.p2c(C),q=z=="full"?-aQ:z,A.position=="top"&&(q=-q)):(B=A.p2c(C),H=z=="full"?-ba:z,A.position=="left"&&(H=-H)),a9.lineWidth==1&&(A.direction=="x"?D=Math.floor(D)+0.5:B=Math.floor(B)+0.5),a9.moveTo(D,B),a9.lineTo(D+H,B+q)}a9.stroke()}g&&(w=bg.grid.borderColor,typeof g=="object"||typeof w=="object"?(typeof g!="object"&&(g={top:g,right:g,bottom:g,left:g}),typeof w!="object"&&(w={top:w,right:w,bottom:w,left:w}),g.top>0&&(a9.strokeStyle=w.top,a9.lineWidth=g.top,a9.beginPath(),a9.moveTo(0-g.left,0-g.top/2),a9.lineTo(ba,0-g.top/2),a9.stroke()),g.right>0&&(a9.strokeStyle=w.right,a9.lineWidth=g.right,a9.beginPath(),a9.moveTo(ba+g.right/2,0-g.top),a9.lineTo(ba+g.right/2,aQ),a9.stroke()),g.bottom>0&&(a9.strokeStyle=w.bottom,a9.lineWidth=g.bottom,a9.beginPath(),a9.moveTo(ba+g.right,aQ+g.bottom/2),a9.lineTo(0,aQ+g.bottom/2),a9.stroke()),g.left>0&&(a9.strokeStyle=w.left,a9.lineWidth=g.left,a9.beginPath(),a9.moveTo(0-g.left/2,aQ+g.bottom),a9.lineTo(0-g.left/2,0),a9.stroke())):(a9.lineWidth=g,a9.strokeStyle=bg.grid.borderColor,a9.strokeRect(-g/2,-g/2,ba+g,aQ+g))),a9.restore()}function az(){d.each(a6(),function(v,z){if(!z.show||z.ticks.length==0){return}var k=z.box,g=z.direction+"Axis "+z.direction+z.n+"Axis",p="flot-"+z.direction+"-axis flot-"+z.direction+z.n+"-axis "+g,A=z.options.font||"flot-tick-label tickLabel",j,y,x,m,w;bb.removeText(p);for(var q=0;q<z.ticks.length;++q){j=z.ticks[q];if(!j.label||j.v<z.min||j.v>z.max){continue}z.direction=="x"?(m="center",y=a4.left+z.p2c(j.v),z.position=="bottom"?x=k.top+k.padding:(x=k.top+k.height-k.padding,w="bottom")):(w="middle",x=a4.top+z.p2c(j.v),z.position=="left"?(y=k.left+k.width-k.padding,m="right"):y=k.left+k.padding),bb.addText(p,y,x,j.label,A,null,null,m,w)}})}function n(g){g.lines.show&&e(g),g.bars.show&&a7(g),g.points.show&&a1(g)}function e(l){function h(B,G,x,q,z){var H=B.points,w=B.pointsize,F=null,E=null;a9.beginPath();for(var A=w;A<H.length;A+=w){var y=H[A-w],D=H[A-w+1],v=H[A],C=H[A+1];if(y==null||v==null){continue}if(D<=C&&D<z.min){if(C<z.min){continue}y=(z.min-D)/(C-D)*(v-y)+y,D=z.min}else{if(C<=D&&C<z.min){if(D<z.min){continue}v=(z.min-D)/(C-D)*(v-y)+y,C=z.min}}if(D>=C&&D>z.max){if(C>z.max){continue}y=(z.max-D)/(C-D)*(v-y)+y,D=z.max}else{if(C>=D&&C>z.max){if(D>z.max){continue}v=(z.max-D)/(C-D)*(v-y)+y,C=z.max}}if(y<=v&&y<q.min){if(v<q.min){continue}D=(q.min-y)/(v-y)*(C-D)+D,y=q.min}else{if(v<=y&&v<q.min){if(y<q.min){continue}C=(q.min-y)/(v-y)*(C-D)+D,v=q.min}}if(y>=v&&y>q.max){if(v>q.max){continue}D=(q.max-y)/(v-y)*(C-D)+D,y=q.max}else{if(v>=y&&v>q.max){if(y>q.max){continue}C=(q.max-y)/(v-y)*(C-D)+D,v=q.max}}(y!=F||D!=E)&&a9.moveTo(q.p2c(y)+G,z.p2c(D)+x),F=v,E=C,a9.lineTo(q.p2c(v)+G,z.p2c(C)+x)}a9.stroke()}function p(K,z,E){var B=K.points,H=K.pointsize,A=Math.min(Math.max(0,E.min),E.max),D=0,x,O=!1,J=1,G=0,N=0;for(;;){if(H>0&&D>B.length+H){break}D+=H;var C=B[D-H],M=B[D-H+J],w=B[D],F=B[D+J];if(O){if(H>0&&C!=null&&w==null){N=D,H=-H,J=2;continue}if(H<0&&D==G+H){a9.fill(),O=!1,H=-H,J=1,D=G=N+H;continue}}if(C==null||w==null){continue}if(C<=w&&C<z.min){if(w<z.min){continue}M=(z.min-C)/(w-C)*(F-M)+M,C=z.min}else{if(w<=C&&w<z.min){if(C<z.min){continue}F=(z.min-C)/(w-C)*(F-M)+M,w=z.min}}if(C>=w&&C>z.max){if(w>z.max){continue}M=(z.max-C)/(w-C)*(F-M)+M,C=z.max}else{if(w>=C&&w>z.max){if(C>z.max){continue}F=(z.max-C)/(w-C)*(F-M)+M,w=z.max}}O||(a9.beginPath(),a9.moveTo(z.p2c(C),E.p2c(A)),O=!0);if(M>=E.max&&F>=E.max){a9.lineTo(z.p2c(C),E.p2c(E.max)),a9.lineTo(z.p2c(w),E.p2c(E.max));continue}if(M<=E.min&&F<=E.min){a9.lineTo(z.p2c(C),E.p2c(E.min)),a9.lineTo(z.p2c(w),E.p2c(E.min));continue}var I=C,q=w;M<=F&&M<E.min&&F>=E.min?(C=(E.min-M)/(F-M)*(w-C)+C,M=E.min):F<=M&&F<E.min&&M>=E.min&&(w=(E.min-M)/(F-M)*(w-C)+C,F=E.min),M>=F&&M>E.max&&F<=E.max?(C=(E.max-M)/(F-M)*(w-C)+C,M=E.max):F>=M&&F>E.max&&M<=E.max&&(w=(E.max-M)/(F-M)*(w-C)+C,F=E.max),C!=I&&a9.lineTo(z.p2c(I),E.p2c(M)),a9.lineTo(z.p2c(C),E.p2c(M)),a9.lineTo(z.p2c(w),E.p2c(F)),w!=q&&(a9.lineTo(z.p2c(w),E.p2c(F)),a9.lineTo(z.p2c(q),E.p2c(F)))}}a9.save(),a9.translate(a4.left,a4.top),a9.lineJoin="round";var k=l.lines.lineWidth,g=l.shadowSize;if(k>0&&g>0){a9.lineWidth=g,a9.strokeStyle="rgba(0,0,0,0.1)";var j=Math.PI/18;h(l.datapoints,Math.sin(j)*(k/2+g/2),Math.cos(j)*(k/2+g/2),l.xaxis,l.yaxis),a9.lineWidth=g/2,h(l.datapoints,Math.sin(j)*(k/2+g/4),Math.cos(j)*(k/2+g/4),l.xaxis,l.yaxis)}a9.lineWidth=k,a9.strokeStyle=l.color;var m=aN(l.lines,l.color,0,aQ);m&&(a9.fillStyle=m,p(l.datapoints,l.xaxis,l.yaxis)),k>0&&h(l.datapoints,0,0,l.xaxis,l.yaxis),a9.restore()}function a1(l){function h(B,F,x,q,z,G,w,E){var D=B.points,A=B.pointsize;for(var y=0;y<D.length;y+=A){var C=D[y],v=D[y+1];if(C==null||C<G.min||C>G.max||v<w.min||v>w.max){continue}a9.beginPath(),C=G.p2c(C),v=w.p2c(v)+q,E=="circle"?a9.arc(C,v,F,0,z?Math.PI:Math.PI*2,!1):E(a9,C,v,F,z),a9.closePath(),x&&(a9.fillStyle=x,a9.fill()),a9.stroke()}}a9.save(),a9.translate(a4.left,a4.top);var p=l.points.lineWidth,k=l.shadowSize,g=l.points.radius,j=l.points.symbol;p==0&&(p=0.0001);if(p>0&&k>0){var m=k/2;a9.lineWidth=m,a9.strokeStyle="rgba(0,0,0,0.1)",h(l.datapoints,g,null,m+m/2,!0,l.xaxis,l.yaxis,j),a9.strokeStyle="rgba(0,0,0,0.2)",h(l.datapoints,g,null,m/2,!0,l.xaxis,l.yaxis,j)}a9.lineWidth=p,a9.strokeStyle=l.color,h(l.datapoints,g,aN(l.points,l.color),0,!1,l.xaxis,l.yaxis,j),a9.restore()}function bc(M,z,E,B,H,A,D,x,Q,K,G,O){var I,C,N,q,F,J,j,P,k;G?(P=J=j=!0,F=!1,I=E,C=M,q=z+B,N=z+H,C<I&&(k=C,C=I,I=k,F=!0,J=!1)):(F=J=j=!0,P=!1,I=M+B,C=M+H,N=E,q=z,q<N&&(k=q,q=N,N=k,P=!0,j=!1));if(C<x.min||I>x.max||q<Q.min||N>Q.max){return}I<x.min&&(I=x.min,F=!1),C>x.max&&(C=x.max,J=!1),N<Q.min&&(N=Q.min,P=!1),q>Q.max&&(q=Q.max,j=!1),I=x.p2c(I),N=Q.p2c(N),C=x.p2c(C),q=Q.p2c(q),D&&(K.beginPath(),K.moveTo(I,N),K.lineTo(I,q),K.lineTo(C,q),K.lineTo(C,N),K.fillStyle=D(N,q),K.fill()),O>0&&(F||J||j||P)&&(K.beginPath(),K.moveTo(I,N+A),F?K.lineTo(I,q+A):K.moveTo(I,q+A),j?K.lineTo(C,q+A):K.moveTo(C,q+A),J?K.lineTo(C,N+A):K.moveTo(C,N+A),P?K.lineTo(I,N+A):K.moveTo(I,N+A),K.stroke())}function a7(j){function g(A,q,m,w,B,p,z){var y=A.points,x=A.pointsize;for(var v=0;v<y.length;v+=x){if(y[v]==null){continue}bc(y[v],y[v+1],y[v+2],q,m,w,B,p,z,a9,j.bars.horizontal,j.bars.lineWidth)}}a9.save(),a9.translate(a4.left,a4.top),a9.lineWidth=j.bars.lineWidth,a9.strokeStyle=j.color;var k;switch(j.bars.align){case"left":k=0;break;case"right":k=-j.bars.barWidth;break;case"center":k=-j.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+j.bars.align)}var h=j.bars.fill?function(l,m){return aN(j.bars,j.color,l,m)}:null;g(j.datapoints,k,k+j.bars.barWidth,0,h,j.xaxis,j.yaxis),a9.restore()}function aN(h,m,k,g){var j=h.fill;if(!j){return null}if(h.fillColor){return aX(h.fillColor,k,g,m)}var l=d.color.parse(m);return l.a=typeof j=="number"?j:0.4,l.normalize(),l.toString()}function aK(){aV.find(".legend").remove();if(!bg.legend.show){return}var q=[],j=[],u=!1,H=bg.legend.labelFormatter,m,A;for(var t=0;t<aU.length;++t){m=aU[t],m.label&&(A=H?H(m.label,m):m.label,A&&j.push({label:A,color:m.color}))}if(bg.legend.sorted){if(d.isFunction(bg.legend.sorted)){j.sort(bg.legend.sorted)}else{if(bg.legend.sorted=="reverse"){j.reverse()}else{var C=bg.legend.sorted!="descending";j.sort(function(h,g){return h.label==g.label?0:h.label<g.label!=C?1:-1})}}}for(var t=0;t<j.length;++t){var x=j[t];t%bg.legend.noColumns==0&&(u&&q.push("</tr>"),q.push("<tr>"),u=!0),q.push('<td class="legendColorBox"><div style="border:1px solid '+bg.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+x.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+x.label+"</td>")}u&&q.push("</tr>");if(q.length==0){return}var k='<table style="font-size:smaller;color:'+bg.grid.color+'">'+q.join("")+"</table>";if(bg.legend.container!=null){d(bg.legend.container).html(k)}else{var B="",G=bg.legend.position,z=bg.legend.margin;z[0]==null&&(z=[z,z]),G.charAt(0)=="n"?B+="top:"+(z[1]+a4.top)+"px;":G.charAt(0)=="s"&&(B+="bottom:"+(z[1]+a4.bottom)+"px;"),G.charAt(1)=="e"?B+="right:"+(z[0]+a4.right)+"px;":G.charAt(1)=="w"&&(B+="left:"+(z[0]+a4.left)+"px;");var E=d('<div class="legend">'+k.replace('style="','style="position:absolute;'+B+";")+"</div>").appendTo(aV);if(bg.legend.backgroundOpacity!=0){var D=bg.legend.backgroundColor;D==null&&(D=bg.grid.backgroundColor,D&&typeof D=="string"?D=d.color.parse(D):D=d.color.extract(E,"background-color"),D.a=1,D=D.toString());var F=E.children();d('<div style="position:absolute;width:'+F.width()+"px;height:"+F.height()+"px;"+B+"background-color:"+D+';"> </div>').prependTo(E).css("opacity",bg.legend.backgroundOpacity)}}}function aO(Y,G,O){var J=bg.grid.mouseActiveRadius,U=J*J+1,H=null,M=!1,X,Q,at;for(X=aU.length-1;X>=0;--X){if(!O(aU[X])){continue}var V=aU[X],K=V.xaxis,Z=V.yaxis,D=V.datapoints.points,P=K.c2p(Y),W=Z.c2p(G),z=J/K.scale,bi=J/Z.scale;at=V.datapoints.pointsize,K.options.inverseTransform&&(z=Number.MAX_VALUE),Z.options.inverseTransform&&(bi=Number.MAX_VALUE);if(V.lines.show||V.points.show){for(Q=0;Q<D.length;Q+=at){var B=D[Q],F=D[Q+1];if(B==null){continue}if(B-P>z||B-P<-z||F-W>bi||F-W<-bi){continue}var q=Math.abs(K.p2c(B)-Y),A=Math.abs(Z.p2c(F)-G),j=q*q+A*A;j<U&&(U=j,H=[X,Q/at])}}if(V.bars.show&&!H){var u=V.bars.align=="left"?0:-V.bars.barWidth/2,I=u+V.bars.barWidth;for(Q=0;Q<D.length;Q+=at){var B=D[Q],F=D[Q+1],R=D[Q+2];if(B==null){continue}if(aU[X].bars.horizontal?P<=Math.max(R,B)&&P>=Math.min(R,B)&&W>=F+u&&W<=F+I:P>=B+u&&P<=B+I&&W>=Math.min(R,F)&&W<=Math.max(R,F)){H=[X,Q/at]}}}}return H?(X=H[0],Q=H[1],at=aU[X].datapoints.pointsize,{datapoint:aU[X].datapoints.points.slice(Q*at,(Q+1)*at),dataIndex:Q,series:aU[X],seriesIndex:X}):null}function af(g){bg.grid.hoverable&&aI("plothover",g,function(h){return h.hoverable!=0})}function aJ(g){bg.grid.hoverable&&aI("plothover",g,function(h){return !1})}function aL(g){aI("plotclick",g,function(h){return h.clickable!=0})}function aI(v,k,g){var p=be.offset(),x=k.pageX-p.left-a4.left,j=k.pageY-p.top-a4.top,w=ap({left:x,top:j});w.pageX=k.pageX,w.pageY=k.pageY;var t=aO(x,j,g);t&&(t.pageX=parseInt(t.series.xaxis.p2c(t.datapoint[0])+p.left+a4.left,10),t.pageY=parseInt(t.series.yaxis.p2c(t.datapoint[1])+p.top+a4.top,10));if(bg.grid.autoHighlight){for(var m=0;m<ay.length;++m){var q=ay[m];q.auto==v&&(!t||q.series!=t.series||q.point[0]!=t.datapoint[0]||q.point[1]!=t.datapoint[1])&&aB(q.series,q.point)}t&&ai(t.series,t.datapoint,v)}aV.trigger(v,[w,t])}function a3(){var g=bg.interaction.redrawOverlayInterval;if(g==-1){av();return}aM||(aM=setTimeout(av,g))}function av(){aM=null,a0.save(),a5.clear(),a0.translate(a4.left,a4.top);var h,g;for(h=0;h<ay.length;++h){g=ay[h],g.series.bars.show?aE(g.series,g.point):al(g.series,g.point)}a0.restore(),aC(bf.drawOverlay,[a0])}function ai(k,h,l){typeof k=="number"&&(k=aU[k]);if(typeof h=="number"){var j=k.datapoints.pointsize;h=k.datapoints.points.slice(j*h,j*(h+1))}var g=aq(k,h);g==-1?(ay.push({series:k,point:h,auto:l}),a3()):l||(ay[g].auto=!1)}function aB(j,g){if(j==null&&g==null){ay=[],a3();return}typeof j=="number"&&(j=aU[j]);if(typeof g=="number"){var k=j.datapoints.pointsize;g=j.datapoints.points.slice(k*g,k*(g+1))}var h=aq(j,g);h!=-1&&(ay.splice(h,1),a3())}function aq(j,g){for(var k=0;k<ay.length;++k){var h=ay[k];if(h.series==j&&h.point[0]==g[0]&&h.point[1]==g[1]){return k}}return -1}function al(q,j){var g=j[0],k=j[1],v=q.xaxis,h=q.yaxis,p=typeof q.highlightColor=="string"?q.highlightColor:d.color.parse(q.color).scale("a",0.5).toString();if(g<v.min||g>v.max||k<h.min||k>h.max){return}var m=q.points.radius+q.points.lineWidth/2;a0.lineWidth=m,a0.strokeStyle=p;var l=1.5*m;g=v.p2c(g),k=h.p2c(k),a0.beginPath(),q.points.symbol=="circle"?a0.arc(g,k,l,0,2*Math.PI,!1):q.points.symbol(a0,g,k,l,!1),a0.closePath(),a0.stroke()}function aE(h,l){var k=typeof h.highlightColor=="string"?h.highlightColor:d.color.parse(h.color).scale("a",0.5).toString(),g=k,j=h.bars.align=="left"?0:-h.bars.barWidth/2;a0.lineWidth=h.bars.lineWidth,a0.strokeStyle=k,bc(l[0],l[1],l[2]||0,j,j+h.bars.barWidth,0,function(){return g},h.xaxis,h.yaxis,a0,h.bars.horizontal,h.bars.lineWidth)}function aX(q,j,g,k){if(typeof q=="string"){return q}var v=a9.createLinearGradient(0,g,0,j);for(var h=0,p=q.colors.length;h<p;++h){var m=q.colors[h];if(typeof m!="string"){var l=d.color.parse(k);m.brightness!=null&&(l=l.scale("rgb",m.brightness)),m.opacity!=null&&(l.a*=m.opacity),m=l.toString()}v.addColorStop(h/(p-1),m)}return v}var aU=[],bg={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},bb=null,a5=null,be=null,a9=null,a0=null,bd=[],aT=[],a4={left:0,right:0,top:0,bottom:0},ba=0,aQ=0,bf={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},aS=this;aS.setData=ae,aS.setupGrid=ah,aS.draw=ac,aS.getPlaceholder=function(){return aV},aS.getCanvas=function(){return bb.element},aS.getPlotOffset=function(){return a4},aS.width=function(){return ba},aS.height=function(){return aQ},aS.offset=function(){var g=be.offset();return g.left+=a4.left,g.top+=a4.top,g},aS.getData=function(){return aU},aS.getAxes=function(){var g={},h;return d.each(bd.concat(aT),function(j,k){k&&(g[k.direction+(k.n!=1?k.n:"")+"axis"]=k)}),g},aS.getXAxes=function(){return bd},aS.getYAxes=function(){return aT},aS.c2p=ap,aS.p2c=aH,aS.getOptions=function(){return bg},aS.highlight=ai,aS.unhighlight=aB,aS.triggerRedrawOverlay=a3,aS.pointOffset=function(g){return{left:parseInt(bd[aF(g,"x")-1].p2c(+g.x)+a4.left,10),top:parseInt(aT[aF(g,"y")-1].p2c(+g.y)+a4.top,10)}},aS.shutdown=ax,aS.resize=function(){var g=aV.width(),h=aV.height();bb.resize(g,h),a5.resize(g,h)},aS.hooks=bf,ag(aS),aR(aW),aD(),ae(aY),ah(),ac(),ak();var ay=[],aM=null}function b(h,g){return g*Math.floor(h/g)}var a=Object.prototype.hasOwnProperty;f.prototype.resize=function(k,h){if(k<=0||h<=0){throw new Error("Invalid dimensions for plot, width = "+k+", height = "+h)}var l=this.element,j=this.context,g=this.pixelRatio;this.width!=k&&(l.width=k*g,l.style.width=k+"px",this.width=k),this.height!=h&&(l.height=h*g,l.style.height=h+"px",this.height=h),j.restore(),j.save(),j.scale(g,g)},f.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},f.prototype.render=function(){var q=this._textCache;for(var j in q){if(a.call(q,j)){var g=this.getTextLayer(j),m=q[j];g.hide();for(var w in m){if(a.call(m,w)){var h=m[w];for(var v in h){if(a.call(h,v)){var t=h[v].positions;for(var p=0,k;k=t[p];p++){k.active?k.rendered||(g.append(k.element),k.rendered=!0):(t.splice(p--,1),k.rendered&&k.element.detach())}t.length==0&&delete h[v]}}}}g.show()}}},f.prototype.getTextLayer=function(e){var g=this.text[e];return g==null&&(this.textContainer==null&&(this.textContainer=d("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),g=this.text[e]=d("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),g},f.prototype.getTextInfo=function(v,h,e,k,w){var g,q,p,m;h=""+h,typeof e=="object"?g=e.style+" "+e.variant+" "+e.weight+" "+e.size+"px/"+e.lineHeight+"px "+e.family:g=e,q=this._textCache[v],q==null&&(q=this._textCache[v]={}),p=q[g],p==null&&(p=q[g]={}),m=p[h];if(m==null){var j=d("<div></div>").html(h).css({position:"absolute","max-width":w,top:-9999}).appendTo(this.getTextLayer(v));typeof e=="object"?j.css({font:g,color:e.color}):typeof e=="string"&&j.addClass(e),m=p[h]={width:j.outerWidth(!0),height:j.outerHeight(!0),element:j,positions:[]},j.detach()}return m},f.prototype.addText=function(w,A,k,g,p,B,j,z,y){var v=this.getTextInfo(w,g,p,B,j),m=v.positions;z=="center"?A-=v.width/2:z=="right"&&(A-=v.width),y=="middle"?k-=v.height/2:y=="bottom"&&(k-=v.height);for(var x=0,q;q=m[x];x++){if(q.x==A&&q.y==k){q.active=!0;return}}q={active:!0,rendered:!1,element:m.length?v.element.clone():v.element,x:A,y:k},m.push(q),q.element.css({top:Math.round(k),left:Math.round(A),"text-align":z})},f.prototype.removeText=function(x,m,g,t,B,k){if(t==null){var A=this._textCache[x];if(A!=null){for(var z in A){if(a.call(A,z)){var w=A[z];for(var q in w){if(a.call(w,q)){var y=w[q].positions;for(var v=0,j;j=y[v];v++){j.active=!1}}}}}}}else{var y=this.getTextInfo(x,t,B,k).positions;for(var v=0,j;j=y[v];v++){j.x==m&&j.y==g&&(j.active=!1)}}},d.plot=function(g,j,e){var h=new c(d(g),j,e,d.plot.plugins);return h},d.plot.version="0.8.1",d.plot.plugins=[],d.fn.plot=function(e,g){return this.each(function(){d.plot(this,e,g)})}}(jQuery);(function(m,w,g){function p(){x=w[d](function(){b.each(function(){var c=m(this),f=c.width(),e=c.height(),a=m.data(this,q);(f!==a.w||e!==a.h)&&c.trigger(v,[a.w=f,a.h=e])}),p()},j[k])}var b=m([]),j=m.resize=m.extend(m.resize,{}),x,d="setTimeout",v="resize",q=v+"-special-event",k="delay",h="throttleWindow";j[k]=250,j[h]=!0,m.event.special[v]={setup:function(){if(!j[h]&&this[d]){return !1}var a=m(this);b=b.add(a),m.data(this,q,{w:a.width(),h:a.height()}),b.length===1&&p()},teardown:function(){if(!j[h]&&this[d]){return !1}var a=m(this);b=b.not(a),a.removeData(q),b.length||clearTimeout(x)},add:function(a){function c(n,l,r){var y=m(this),f=m.data(this,q);f.w=l!==g?l:y.width(),f.h=r!==g?r:y.height(),e.apply(this,arguments)}if(!j[h]&&this[d]){return !1}var e;if(m.isFunction(a)){return e=a,c}e=a.handler,a.handler=c}}})(jQuery,this),function(b){function c(g){function d(){var e=g.getPlaceholder();if(e.width()==0||e.height()==0){return}g.resize(),g.setupGrid(),g.draw()}function h(j,k){j.getPlaceholder().resize(d)}function f(j,k){j.getPlaceholder().unbind("resize",d)}g.hooks.bindEvents.push(h),g.hooks.shutdown.push(f)}var a={};b.plot.plugins.push({init:c,options:a,name:"resize",version:"1.0"})}(jQuery);(function(a){function b(l){var q={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var n={};var s=null;function e(t){if(q.active){m(t);l.getPlaceholder().trigger("plotselecting",[g()])}}function o(t){if(l.getOptions().selection.mode==null){return}if(t.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&n.onselectstart==null){n.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&n.ondrag==null){n.ondrag=document.ondrag;document.ondrag=function(){return false}}d(q.first,t);q.active=true;s=function(u){k(u)};a(document).one("mouseup",s)}function k(t){if(l.getOptions().selection.mode==null){return false}s=null;if(document.onselectstart!==undefined){document.onselectstart=n.onselectstart}if(document.ondrag!==undefined){document.ondrag=n.ondrag}q.active=false;m(t);if(f()){j()}else{l.getPlaceholder().trigger("plotunselected",[]);l.getPlaceholder().trigger("plotselecting",[null])}return false}function g(){if(!f()){return null}if(!q.show){return null}var v={},u=q.first,t=q.second;a.each(l.getAxes(),function(w,x){if(x.used){var z=x.c2p(u[x.direction]),y=x.c2p(t[x.direction]);v[w]={from:Math.min(z,y),to:Math.max(z,y)}}});return v}function j(){var t=g();l.getPlaceholder().trigger("plotselected",[t]);if(t.xaxis&&t.yaxis){l.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}}function h(u,v,t){return v<u?u:(v>t?t:v)}function d(x,u){var w=l.getOptions();var v=l.getPlaceholder().offset();var t=l.getPlotOffset();x.x=h(0,u.pageX-v.left-t.left,l.width());x.y=h(0,u.pageY-v.top-t.top,l.height());if(w.selection.mode=="y"){x.x=x==q.first?0:l.width()}if(w.selection.mode=="x"){x.y=x==q.first?0:l.height()}}function m(t){if(t.pageX==null){return}d(q.second,t);if(f()){q.show=true;l.triggerRedrawOverlay()}else{r(true)}}function r(t){if(q.show){q.show=false;l.triggerRedrawOverlay();if(!t){l.getPlaceholder().trigger("plotunselected",[])}}}function c(t,x){var u,z,A,B,y=l.getAxes();for(var v in y){u=y[v];if(u.direction==x){B=x+u.n+"axis";if(!t[B]&&u.n==1){B=x+"axis"}if(t[B]){z=t[B].from;A=t[B].to;break}}}if(!t[B]){u=x=="x"?l.getXAxes()[0]:l.getYAxes()[0];z=t[x+"1"];A=t[x+"2"]}if(z!=null&&A!=null&&z>A){var w=z;z=A;A=w}return{from:z,to:A,axis:u}}function p(u,t){var w,v,x=l.getOptions();if(x.selection.mode=="y"){q.first.x=0;q.second.x=l.width()}else{v=c(u,"x");q.first.x=v.axis.p2c(v.from);q.second.x=v.axis.p2c(v.to)}if(x.selection.mode=="x"){q.first.y=0;q.second.y=l.height()}else{v=c(u,"y");q.first.y=v.axis.p2c(v.from);q.second.y=v.axis.p2c(v.to)}q.show=true;l.triggerRedrawOverlay();if(!t&&f()){j()}}function f(){var t=l.getOptions().selection.minSize;return Math.abs(q.second.x-q.first.x)>=t&&Math.abs(q.second.y-q.first.y)>=t}l.clearSelection=r;l.setSelection=p;l.getSelection=g;l.hooks.bindEvents.push(function(u,t){var v=u.getOptions();if(v.selection.mode!=null){t.mousemove(e);t.mousedown(o)}});l.hooks.drawOverlay.push(function(z,E){if(q.show&&f()){var u=z.getPlotOffset();var t=z.getOptions();E.save();E.translate(u.left,u.top);var A=a.color.parse(t.selection.color);E.strokeStyle=A.scale("a",0.8).toString();E.lineWidth=1;E.lineJoin=t.selection.shape;E.fillStyle=A.scale("a",0.4).toString();var C=Math.min(q.first.x,q.second.x)+0.5,B=Math.min(q.first.y,q.second.y)+0.5,D=Math.abs(q.second.x-q.first.x)-1,v=Math.abs(q.second.y-q.first.y)-1;E.fillRect(C,B,D,v);E.strokeRect(C,B,D,v);E.restore()}});l.hooks.shutdown.push(function(u,t){t.unbind("mousemove",e);t.unbind("mousedown",o);if(s){a(document).unbind("mouseup",s)}})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);(function(b){var a={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function c(h){var k={x:-1,y:-1,locked:false};h.setCrosshair=function e(m){if(!m){k.x=-1}else{var l=h.p2c(m);k.x=Math.max(0,Math.min(l.left,h.width()));k.y=Math.max(0,Math.min(l.top,h.height()))}h.triggerRedrawOverlay()};h.clearCrosshair=h.setCrosshair;h.lockCrosshair=function f(l){if(l){h.setCrosshair(l)}k.locked=true};h.unlockCrosshair=function g(){k.locked=false};function d(l){if(k.locked){return}if(k.x!=-1){k.x=-1;h.triggerRedrawOverlay()}}function j(l){if(k.locked){return}if(h.getSelection&&h.getSelection()){k.x=-1;return}var m=h.offset();k.x=Math.max(0,Math.min(l.pageX-m.left,h.width()));k.y=Math.max(0,Math.min(l.pageY-m.top,h.height()));h.triggerRedrawOverlay()}h.hooks.bindEvents.push(function(m,l){if(!m.getOptions().crosshair.mode){return}l.mouseout(d);l.mousemove(j)});h.hooks.drawOverlay.push(function(q,l){var r=q.getOptions().crosshair;if(!r.mode){return}var n=q.getPlotOffset();l.save();l.translate(n.left,n.top);if(k.x!=-1){var m=q.getOptions().crosshair.lineWidth%2===0?0:0.5;l.strokeStyle=r.color;l.lineWidth=r.lineWidth;l.lineJoin="round";l.beginPath();if(r.mode.indexOf("x")!=-1){var p=Math.round(k.x)+m;l.moveTo(p,0);l.lineTo(p,q.height())}if(r.mode.indexOf("y")!=-1){var o=Math.round(k.y)+m;l.moveTo(0,o);l.lineTo(q.width(),o)}l.stroke()}l.restore()});h.hooks.shutdown.push(function(m,l){l.unbind("mouseout",d);l.unbind("mousemove",j)})}b.plot.plugins.push({init:c,options:a,name:"crosshair",version:"1.0"})})(jQuery);(function(g){function k(e){var a,m=this,n=e.data||{};if(n.elem){m=e.dragTarget=n.elem,e.dragProxy=h.proxy||m,e.cursorOffsetX=n.pageX-n.left,e.cursorOffsetY=n.pageY-n.top,e.offsetX=e.pageX-e.cursorOffsetX,e.offsetY=e.pageY-e.cursorOffsetY}else{if(h.dragging||n.which>0&&e.which!=n.which||g(e.target).is(n.not)){return}}switch(e.type){case"mousedown":return g.extend(n,g(m).offset(),{elem:m,target:e.target,pageX:e.pageX,pageY:e.pageY}),c.add(document,"mousemove mouseup",k,n),l(m,!1),h.dragging=null,!1;case !h.dragging&&"mousemove":if(b(e.pageX-n.pageX)+b(e.pageY-n.pageY)<n.distance){break}e.target=n.target,a=d(e,"dragstart",m),a!==!1&&(h.dragging=m,h.proxy=e.dragProxy=g(a||m)[0]);case"mousemove":if(h.dragging){if(a=d(e,"drag",m),j.drop&&(j.drop.allowed=a!==!1,j.drop.handler(e)),a!==!1){break}e.type="mouseup"}case"mouseup":c.remove(document,"mousemove mouseup",k),h.dragging&&(j.drop&&j.drop.handler(e),d(e,"dragend",m)),l(m,!0),h.dragging=h.proxy=n.elem=!1}return !0}function d(e,o,m){e.type=o;var a=g.event.dispatch.call(m,e);return a===!1?!1:a||e.result}function b(a){return Math.pow(a,2)}function f(){return h.dragging===!1}function l(m,a){m&&(m.unselectable=a?"off":"on",m.onselectstart=function(){return a},m.style&&(m.style.MozUserSelect=a?"":"none"))}g.fn.drag=function(m,a,o){return a&&this.bind("dragstart",m),o&&this.bind("dragend",o),m?this.bind("drag",a?a:m):this.trigger("drag")};var c=g.event,j=c.special,h=j.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=g.extend({distance:h.distance,which:h.which,not:h.not},a||{}),a.distance=b(a.distance),c.add(this,"mousedown",k,a),this.attachEvent&&this.attachEvent("ondragstart",f)},teardown:function(){c.remove(this,"mousedown",k),this===h.dragging&&(h.dragging=h.proxy=!1),l(this,!0),this.detachEvent&&this.detachEvent("ondragstart",f)}};j.dragstart=j.dragend={setup:function(){},teardown:function(){}}})(jQuery),function(c){function a(f){var k=f||window.event,h=[].slice.call(arguments,1),e=0,g=0,j=0,f=c.event.fix(k);return f.type="mousewheel",k.wheelDelta&&(e=k.wheelDelta/120),k.detail&&(e=-k.detail/3),j=e,void 0!==k.axis&&k.axis===k.HORIZONTAL_AXIS&&(j=0,g=-1*e),void 0!==k.wheelDeltaY&&(j=k.wheelDeltaY/120),void 0!==k.wheelDeltaX&&(g=-1*k.wheelDeltaX/120),h.unshift(f,e,g,j),(c.event.dispatch||c.event.handle).apply(this,h)}var d=["DOMMouseScroll","mousewheel"];if(c.event.fixHooks){for(var b=d.length;b;){c.event.fixHooks[d[--b]]=c.event.mouseHooks}}c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var f=d.length;f;){this.addEventListener(d[--f],a,!1)}}else{this.onmousewheel=a}},teardown:function(){if(this.removeEventListener){for(var f=d.length;f;){this.removeEventListener(d[--f],a,!1)}}else{this.onmousewheel=null}}},c.fn.extend({mousewheel:function(f){return f?this.bind("mousewheel",f):this.trigger("mousewheel")},unmousewheel:function(f){return this.unbind("mousewheel",f)}})}(jQuery),function(b){function c(x){function g(h,l){var f=x.offset();f.left=h.pageX-f.left,f.top=h.pageY-f.top,l?x.zoomOut({center:f}):x.zoom({center:f})}function d(h,f){return h.preventDefault(),g(h,f<0),!1}function v(f){if(f.which!=1){return !1}var h=x.getPlaceholder().css("cursor");h&&(k=h),x.getPlaceholder().css("cursor",x.getOptions().pan.cursor),y=f.pageX,e=f.pageY}function p(f){var h=x.getOptions().pan.frameRate;if(w||!h){return}w=setTimeout(function(){x.pan({left:y-f.pageX,top:e-f.pageY}),y=f.pageX,e=f.pageY,w=null},1/h*1000)}function j(f){w&&(clearTimeout(w),w=null),x.getPlaceholder().css("cursor",k),x.pan({left:y-f.pageX,top:e-f.pageY})}function q(l,h){var f=l.getOptions();f.zoom.interactive&&(h[f.zoom.trigger](g),h.mousewheel(d)),f.pan.interactive&&(h.bind("dragstart",{distance:10},v),h.bind("drag",p),h.bind("dragend",j))}function m(h,f){f.unbind(h.getOptions().zoom.trigger,g),f.unbind("mousewheel",d),f.unbind("dragstart",v),f.unbind("drag",p),f.unbind("dragend",j),w&&clearTimeout(w)}var k="default",y=0,e=0,w=null;x.zoomOut=function(f){f||(f={}),f.amount||(f.amount=x.getOptions().zoom.amount),f.amount=1/f.amount,x.zoom(f)},x.zoom=function(D){D||(D={});var A=D.center,t=D.amount||x.getOptions().zoom.amount,z=x.width(),C=x.height();A||(A={left:z/2,top:C/2});var l=A.left/z,h=A.top/C,B={x:{min:A.left-l*z/t,max:A.left+(1-l)*z/t},y:{min:A.top-h*C/t,max:A.top+(1-h)*C/t}};b.each(x.getAxes(),function(H,K){var F=K.options,f=B[K.direction].min,G=B[K.direction].max,M=F.zoomRange,E=F.panRange;if(M===!1){return}f=K.c2p(f),G=K.c2p(G);if(f>G){var J=f;f=G,G=J}E&&(E[0]!=null&&f<E[0]&&(f=E[0]),E[1]!=null&&G>E[1]&&(G=E[1]));var I=G-f;if(M&&(M[0]!=null&&I<M[0]||M[1]!=null&&I>M[1])){return}F.min=f,F.max=G}),x.setupGrid(),x.draw(),D.preventEvent||x.getPlaceholder().trigger("plotzoom",[x,D])},x.pan=function(h){var f={x:+h.left,y:+h.top};isNaN(f.x)&&(f.x=0),isNaN(f.y)&&(f.y=0),b.each(x.getAxes(),function(B,z){var D=z.options,r,A,C=f[z.direction];r=z.c2p(z.p2c(z.min)+C),A=z.c2p(z.p2c(z.max)+C);var l=D.panRange;if(l===!1){return}l&&(l[0]!=null&&l[0]>r&&(C=l[0]-r,r+=C,A+=C),l[1]!=null&&l[1]<A&&(C=l[1]-A,r+=C,A+=C)),D.min=r,D.max=A}),x.setupGrid(),x.draw(),h.preventEvent||x.getPlaceholder().trigger("plotpan",[x,h])},x.hooks.bindEvents.push(q),x.hooks.shutdown.push(m)}var a={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}};b.plot.plugins.push({init:c,options:a,name:"navigate",version:"1.3"})}(jQuery);(function(b){function c(f){function d(k,h){var l=null;for(var j=0;j<h.length;++j){if(k==h[j]){break}h[j].stack==k.stack&&(l=h[j])}return l}function g(W,M,I){if(M.stack==null||M.stack===!1){return}var Q=d(M,W.getData());if(!Q){return}var G=I.pointsize,K=I.points,D=Q.datapoints.pointsize,aa=Q.datapoints.points,V=[],P,Y,R,J,X,B,O=M.lines.show,U=M.bars.horizontal,t=G>2&&(U?I.format[2].x:I.format[2].y),Z=O&&M.lines.steps,A=!0,F=U?1:0,k=U?0:1,z=0,j=0,q,H;for(;;){if(z>=K.length){break}q=V.length;if(K[z]==null){for(H=0;H<G;++H){V.push(K[z+H])}z+=G}else{if(j>=aa.length){if(!O){for(H=0;H<G;++H){V.push(K[z+H])}}z+=G}else{if(aa[j]==null){for(H=0;H<G;++H){V.push(null)}A=!0,j+=D}else{P=K[z+F],Y=K[z+k],J=aa[j+F],X=aa[j+k],B=0;if(P==J){for(H=0;H<G;++H){V.push(K[z+H])}V[q+k]+=X,B=X,z+=G,j+=D}else{if(P>J){if(O&&z>0&&K[z-G]!=null){R=Y+(K[z-G+k]-Y)*(J-P)/(K[z-G+F]-P),V.push(J),V.push(R+X);for(H=2;H<G;++H){V.push(K[z+H])}B=X}j+=D}else{if(A&&O){z+=G;continue}for(H=0;H<G;++H){V.push(K[z+H])}O&&j>0&&aa[j-D]!=null&&(B=X+(aa[j-D+k]-X)*(P-J)/(aa[j-D+F]-J)),V[q+k]+=B,z+=G}}A=!1,q!=V.length&&t&&(V[q+2]+=B)}}}if(Z&&q!=V.length&&q>0&&V[q]!=null&&V[q]!=V[q-G]&&V[q+1]!=V[q-G+1]){for(H=0;H<G;++H){V[q+G+H]=V[q+H]}V[q+1]=V[q-G+1]}}I.points=V}f.hooks.processDatapoints.push(g)}var a={series:{stack:null}};b.plot.plugins.push({init:c,options:a,name:"stack",version:"1.2"})})(jQuery);(function(b){var a={grid:{canvasText:{show:false,font:"sans 8px",series:null,seriesFont:"sans 8px",lineBreaks:{show:false,marginTop:3,marginBottom:5,lineSpacing:1}}}};function c(e){var f={};f.font="sans";f.fontSize=8;f.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:26,points:[[4,9],[22,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"â‰¥":{width:24,points:[[4,18],[20,12],[4,7],[-1,-1],[4,2],[20,2]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};f.letter=function(h){return f.letters[h]};f.ascent=function(){var h=f.fontName;var j=f.fontSize;return j};f.descent=function(){var h=f.fontName;var j=f.fontSize;return 7*j/25};f.measure=function(m){var j=f.fontName;var k=f.fontSize;var l=0;var h=m.length;for(i=0;i<h;i++){var n=f.letter(m.charAt(i));if(n){l+=n.width*k/25}}return l};f.fontFamily=function(h){var k=h.match(/ [0-9]?[0-9]px/gi);var j=h.match(/^[a-z]* /gi);f.fontName=j;f.fontSize=parseInt(k[0].replace("px","").replace(" ",""));return true};function g(h){if(typeof h!=="string"){return h}h=h.replace(/<(?:.|\n)*?>/gm,"");h=h.replace(/&Uuml;/g,"Ü");h=h.replace(/&uuml;/g,"ü");h=h.replace(/&Ouml;/g,"Ö");h=h.replace(/&ouml;/g,"ö");h=h.replace(/&Auml;/g,"Ä");h=h.replace(/&auml;/g,"ä");h=h.replace(/&szlig;/g,"ß");h=h.replace(/&nbsp;/g," ");return h}function d(k,h){var j=k.getOptions();if(j.grid.canvasText.show){if(j.legend.container==null){k.insertLegendCanvasText(h)}}}e.insertLegendCanvasText=function(D){var h=e.getOptions();var r=e.getData();var t=e.getPlotOffset();var E=e.height();var l=e.width();if(!h.legend.show){return}var w=h.legend.labelFormatter,u,n,v,j;v=0;j=0;for(var F=0;F<r.length;++F){u=r[F];n=u.label;if(!n){continue}if(w){n=w(n,u)}n=g(n);labelWidth=f.measure(n);if(labelWidth>v){v=labelWidth}}LEGEND_BOX_WIDTH=22;LEGEND_BOX_LINE_HEIGHT=18;v=v+LEGEND_BOX_WIDTH;j=(r.length*LEGEND_BOX_LINE_HEIGHT);var q,o;if(h.legend.container!=null){q=b(h.legend.container).offset().left;o=b(h.legend.container).offset().top}else{var k="",z=h.legend.position,C=h.legend.margin;if(C[0]==null){C=[C,C]}if(z.charAt(0)=="n"){o=Math.round(t.top+h.grid.borderWidth+C[1])}else{if(z.charAt(0)=="s"){o=Math.round(t.top+h.grid.borderWidth+E-C[0]-j)}}if(z.charAt(1)=="e"){q=Math.round(t.left+h.grid.borderWidth+l-C[0]-v)}else{if(z.charAt(1)=="w"){q=Math.round(t.left+h.grid.borderWidth+C[0])}}if(h.legend.backgroundOpacity!=0){var G=h.legend.backgroundColor;if(G==null){G=h.grid.backgroundColor}if(G&&typeof G=="string"){D.globalAlpha=h.legend.backgroundOpacity;D.fillStyle=G;D.fillRect(q,o,v,j);D.globalAlpha=1}}}var B,A;for(var F=0;F<r.length;++F){u=r[F];n=u.label;if(!n){continue}if(w){n=w(n,u)}n=g(n);A=o+(F*18);D.fillStyle=h.legend.labelBoxBorderColor;D.fillRect(q,A,18,14);D.fillStyle="#FFF";D.fillRect(q+1,A+1,16,12);D.fillStyle=u.color;D.fillRect(q+2,A+2,14,10);B=q+22;A=A+f.ascent()+2;D.fillStyle="#545454";D.fillText(n,B,A)}};e.hooks.draw.push(d)}b.plot.plugins.push({init:c,options:a,name:"flot.canvas.text",version:"0.1hc"})})(jQuery);(function(b){function c(o){var j;var u;var x;var v;var m=1;var g=false;function d(E,C,D){var A=null;if(q(C)){k(C);w(E);s(E);t(C);if(u>=2){var z=r(C);var F=0;var B=h();if(l(z)){F=-1*(n(j,z-1,Math.floor(u/2)-1))-B}else{F=n(j,Math.ceil(u/2),z-2)+B+v*2}A=e(D,C,F);D.points=A}}return A}function q(z){return z.bars!=null&&z.bars.show&&z.bars.order!=null}function w(C){var A=g?C.getPlaceholder().innerHeight():C.getPlaceholder().innerWidth();var B=g?y(C.getData(),1):y(C.getData(),0);var z=B[1]-B[0];m=z/A}function y(A,C){var B=new Array();for(var z=0;z<A.length;z++){B[0]=A[z].data[0][C];B[1]=A[z].data[A[z].data.length-1][C]}return B}function s(z){j=f(z.getData());u=j.length}function f(A){var B=new Array();for(var z=0;z<A.length;z++){if(A[z].bars.order!=null&&A[z].bars.show){B.push(A[z])}}return B.sort(p)}function p(B,A){var z=B.bars.order;var C=A.bars.order;return((z<C)?-1:((z>C)?1:0))}function t(z){x=z.bars.lineWidth?z.bars.lineWidth:2;v=x*m}function k(z){if(z.bars.horizontal){g=true}}function r(A){var B=0;for(var z=0;z<j.length;++z){if(A==j[z]){B=z;break}}return B+1}function h(){var z=0;if(u%2!=0){z=(j[Math.ceil(u/2)].bars.barWidth)/2}return z}function l(z){return z<=Math.ceil(u/2)}function n(C,D,A){var z=0;for(var B=D;B<=A;B++){z+=C[B].bars.barWidth+v*2}return z}function e(E,D,z){var F=E.pointsize;var C=E.points;var A=0;for(var B=g?1:0;B<C.length;B+=F){C[B]+=z;D.data[A][3]=C[B];A++}return C}o.hooks.processDatapoints.push(d)}var a={series:{bars:{order:null}}};b.plot.plugins.push({init:c,options:a,name:"orderBars",version:"0.2"})})(jQuery);(function(b){var a={};function c(k){var m=false;function j(o){var n=k.getData();for(var p=0;p<n.length;p++){if(n[p].label==o){return n[p]}}return null}function h(o,q){var p=j(o);if(!p){return}var n=k.getOptions();var r=false;if(typeof p.points.oldShow==="undefined"){p.points.oldShow=false}if(typeof p.lines.oldShow==="undefined"){p.lines.oldShow=false}if(p.points.show&&!p.points.oldShow){p.points.show=false;p.points.oldShow=true;r=true}if(p.lines.show&&!p.lines.oldShow){p.lines.show=false;p.lines.oldShow=true;r=true}if(r){p.oldColor=p.color;p.color="#fff";f(n,o,true)}else{var s=false;if(!p.points.show&&p.points.oldShow){p.points.show=true;p.points.oldShow=false;s=true}if(!p.lines.show&&p.lines.oldShow){p.lines.show=true;p.lines.oldShow=false;s=true}if(s){p.color=p.oldColor;f(n,o,false)}}k.setData(k.getData());k.setupGrid();k.draw()}function f(o,n,p){if(!o.legend.hidden){o.legend.hidden=[]}var q=o.legend.hidden.indexOf(n);if(p){if(q<0){o.legend.hidden.push(n)}}else{if(q>-1){o.legend.hidden.splice(q,1)}}}function g(n){n.mouseenter(function(){b(this).css("cursor","pointer")}).mouseleave(function(){b(this).css("cursor","default")}).unbind("click").click(function(){h(b(this).parent().text())})}function d(r){var n=r.getOptions();if(!n.legend.hideable){return}var q=r.getPlaceholder();g(q.find(".graphlabel"));g(q.find(".legendColorBox"));if(!m){m=true;if(n.legend.hidden){for(var o=0;o<n.legend.hidden.length;o++){h(n.legend.hidden[o],true)}}}}function e(o,n){if(!n.legend.hideable){return}n.legend.labelFormatter=function(p,q){return'<span class="graphlabel">'+p+"</span>"}}function l(q,o,p){var n=q.getOptions();if(!n.legend.hideable){return}if(n.legend.hidden&&n.legend.hidden.indexOf(o.label)>-1){var r=false;if(o.points.show){o.points.show=false;o.points.oldShow=true;r=true}if(o.lines.show){o.lines.show=false;o.lines.oldShow=true;r=true}if(r){o.oldColor=o.color;o.color="#fff"}}if(!o.points.show&&!o.lines.show){o.datapoints.format=[null,null]}}k.hooks.processOptions.push(e);k.hooks.draw.push(function(o,n){d(o)});k.hooks.processDatapoints.push(l)}b.plot.plugins.push({init:c,options:a,name:"hiddenGraphs",version:"1.1"})})(jQuery);(function(f){var b={canvas:true};var c,d,a;var e=Object.prototype.hasOwnProperty;function g(k,j){var h=j.Canvas;if(c==null){d=h.prototype.getTextInfo,a=h.prototype.addText,c=h.prototype.render}h.prototype.render=function(){if(!k.getOptions().canvas){return c.call(this)}var n=this.context,l=this._textCache;n.save();n.textBaseline="middle";for(var w in l){if(e.call(l,w)){var m=l[w];for(var v in m){if(e.call(m,v)){var p=m[v],r=true;for(var x in p){if(e.call(p,x)){var o=p[x],t=o.positions,z=o.lines;if(r){n.fillStyle=o.font.color;n.font=o.font.definition;r=false}for(var s=0,u;u=t[s];s++){if(u.active){for(var q=0,y;y=u.lines[q];q++){n.fillText(z[q].text,y[0],y[1])}}else{t.splice(s--,1)}}if(t.length==0){delete p[x]}}}}}}}n.restore()};h.prototype.getTextInfo=function(u,y,q,r,n){if(!k.getOptions().canvas){return d.call(this,u,y,q,r,n)}var v,l,p,o;y=""+y;if(typeof q==="object"){v=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family}else{v=q}l=this._textCache[u];if(l==null){l=this._textCache[u]={}}p=l[v];if(p==null){p=l[v]={}}o=p[y];if(o==null){var m=this.context;if(typeof q!=="object"){var t=f("<div>&nbsp;</div>").css("position","absolute").addClass(typeof q==="string"?q:null).appendTo(this.getTextLayer(u));q={lineHeight:t.height(),style:t.css("font-style"),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family"),color:t.css("color")};q.size=t.css("line-height",1).height();t.remove()}v=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family;o=p[y]={width:0,height:0,positions:[],lines:[],font:{definition:v,color:q.color}};m.save();m.font=v;var z=(y+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var s=0;s<z.length;++s){var x=z[s],w=m.measureText(x);o.width=Math.max(w.width,o.width);o.height+=q.lineHeight;o.lines.push({text:x,width:w.width,height:q.lineHeight})}m.restore()}return o};h.prototype.addText=function(t,w,u,z,n,o,l,s,v){if(!k.getOptions().canvas){return a.call(this,t,w,u,z,n,o,l,s,v)}var m=this.getTextInfo(t,z,n,o,l),q=m.positions,B=m.lines;u+=m.height/B.length/2;if(v=="middle"){u=Math.round(u-m.height/2)}else{if(v=="bottom"){u=Math.round(u-m.height)}else{u=Math.round(u)}}if(!!(window.opera&&window.opera.version().split(".")[0]<12)){u-=2}for(var p=0,r;r=q[p];p++){if(r.x==w&&r.y==u){r.active=true;return}}r={active:true,lines:[],x:w,y:u};q.push(r);for(var p=0,A;A=B[p];p++){if(s=="center"){r.lines.push([Math.round(w-A.width/2),u])}else{if(s=="right"){r.lines.push([Math.round(w-A.width),u])}else{r.lines.push([Math.round(w),u])}}u+=A.height}}}f.plot.plugins.push({init:g,options:b,name:"canvas",version:"1.0"})})(jQuery);(function(k){function d(f,a){return a*Math.floor(f/a)}function b(C,G,y,w){if(typeof C.strftime=="function"){return C.strftime(G)}var A=function(f,a){return f=""+f,a=""+(a==null?"0":a),f.length==1?a+f:f},H=[],x=!1,F=C.getHours(),E=F<12;y==null&&(y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var B;F>12?B=F-12:F==0?B=12:B=F;for(var z=0;z<G.length;++z){var D=G.charAt(z);if(x){switch(D){case"a":D=""+w[C.getDay()];break;case"b":D=""+y[C.getMonth()];break;case"d":D=A(C.getDate());break;case"e":D=A(C.getDate()," ");break;case"h":case"H":D=A(F);break;case"I":D=A(B);break;case"l":D=A(B," ");break;case"m":D=A(C.getMonth()+1);break;case"M":D=A(C.getMinutes());break;case"q":D=""+(Math.floor(C.getMonth()/3)+1);break;case"S":D=A(C.getSeconds());break;case"y":D=A(C.getFullYear()%100);break;case"Y":D=""+C.getFullYear();break;case"p":D=E?"am":"pm";break;case"P":D=E?"AM":"PM";break;case"w":D=""+C.getDay()}H.push(D),x=!1}else{D=="%"?x=!0:H.push(D)}}return H.join("")}function h(o){function f(x,u,y,w){x[u]=function(){return y[w].apply(y,arguments)}}var s={date:o};o.strftime!=undefined&&f(s,"strftime",o,"strftime"),f(s,"getTime",o,"getTime"),f(s,"setTime",o,"setTime");var l=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var a=0;a<l.length;a++){f(s,"get"+l[a],o,"getUTC"+l[a]),f(s,"set"+l[a],o,"setUTC"+l[a])}return s}function v(f,a){if(a.timezone=="browser"){return new Date(f)}if(!a.timezone||a.timezone=="utc"){return h(new Date(f))}if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var l=new timezoneJS.Date;return l.setTimezone(a.timezone),l.setTime(f),l}return h(new Date(f))}function g(a){a.hooks.processOptions.push(function(f,e){k.each(f.getAxes(),function(o,n){var l=n.options;l.mode=="time"&&(n.tickGenerator=function(F){var O=[],s=v(F.min,l),N=0,A=l.tickSize&&l.tickSize[1]==="quarter"||l.minTickSize&&l.minTickSize[1]==="quarter"?j:m;l.minTickSize!=null&&(typeof l.tickSize=="number"?N=l.tickSize:N=l.minTickSize[0]*c[l.minTickSize[1]]);for(var H=0;H<A.length-1;++H){if(F.delta<(A[H][0]*c[A[H][1]]+A[H+1][0]*c[A[H+1][1]])/2&&A[H][0]*c[A[H][1]]>=N){break}}var C=A[H][0],x=A[H][1];if(x=="year"){if(l.minTickSize!=null&&l.minTickSize[1]=="year"){C=Math.floor(l.minTickSize[0])}else{var G=Math.pow(10,Math.floor(Math.log(F.delta/c.year)/Math.LN10)),M=F.delta/c.year/G;M<1.5?C=1:M<3?C=2:M<7.5?C=5:C=10,C*=G}C<1&&(C=1)}F.tickSize=l.tickSize||[C,x];var z=F.tickSize[0];x=F.tickSize[1];var D=z*c[x];x=="second"?s.setSeconds(d(s.getSeconds(),z)):x=="minute"?s.setMinutes(d(s.getMinutes(),z)):x=="hour"?s.setHours(d(s.getHours(),z)):x=="month"?s.setMonth(d(s.getMonth(),z)):x=="quarter"?s.setMonth(3*d(s.getMonth()/3,z)):x=="year"&&s.setFullYear(d(s.getFullYear(),z)),s.setMilliseconds(0),D>=c.minute&&s.setSeconds(0),D>=c.hour&&s.setMinutes(0),D>=c.day&&s.setHours(0),D>=c.day*4&&s.setDate(1),D>=c.month*2&&s.setMonth(d(s.getMonth(),3)),D>=c.quarter*2&&s.setMonth(d(s.getMonth(),6)),D>=c.year&&s.setMonth(0);var J=0,I=Number.NaN,K;do{K=I,I=s.getTime(),O.push(I);if(x=="month"||x=="quarter"){if(z<1){s.setDate(1);var P=s.getTime();s.setMonth(s.getMonth()+(x=="quarter"?3:1));var B=s.getTime();s.setTime(I+J*c.hour+(B-P)*z),J=s.getHours(),s.setHours(0)}else{s.setMonth(s.getMonth()+z*(x=="quarter"?3:1))}}else{x=="year"?s.setFullYear(s.getFullYear()+z):s.setTime(I+D)}}while(I<F.max&&I!=K);return O},n.tickFormatter=function(z,D){var s=v(z,D.options);if(l.timeformat!=null){return b(s,l.timeformat,l.monthNames,l.dayNames)}var C=D.options.tickSize&&D.options.tickSize[1]=="quarter"||D.options.minTickSize&&D.options.minTickSize[1]=="quarter",B=D.tickSize[0]*c[D.tickSize[1]],y=D.max-D.min,w=l.twelveHourClock?" %p":"",A=l.twelveHourClock?"%I":"%H",x;B<c.minute?x=A+":%M:%S"+w:B<c.day?y<2*c.day?x=A+":%M"+w:x="%b %d "+A+":%M"+w:B<c.month?x="%b %d":C&&B<c.quarter||!C&&B<c.year?y<c.year?x="%b":x="%b %Y":C&&B<c.year?y<c.year?x="Q%q":x="Q%q %Y":x="%Y";var r=b(s,x,l.monthNames,l.dayNames);return r})})})}var q={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},c={second:1000,minute:60000,hour:3600000,day:86400000,month:2592000000,quarter:7776000000,year:525949.2*60*1000},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],m=p.concat([[3,"month"],[6,"month"],[1,"year"]]),j=p.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);k.plot.plugins.push({init:g,options:q,name:"time",version:"1.0"}),k.plot.formatDate=b})(jQuery);(function(b){var a={series:{curvedLines:{active:false,apply:false,fit:false,curvePointFactor:20,fitPointDist:undefined}}};function c(f){f.hooks.processOptions.push(g);function g(j,h){if(h.series.curvedLines.active){j.hooks.processDatapoints.unshift(e)}}function e(r,q,s){var l=s.points.length/s.pointsize;var m=0.5;if(q.curvedLines.apply==true&&q.originSeries===undefined&&l>(1+m)){if(q.lines.fill){var u=d(s,q.curvedLines,1),t=d(s,q.curvedLines,2);s.pointsize=3;s.points=[];var o=0;var n=0;var p=0;var h=2;while(p<u.length||o<t.length){if(u[p]==t[o]){s.points[n]=u[p];s.points[n+1]=u[p+1];s.points[n+2]=t[o+1];o+=h;p+=h}else{if(u[p]<t[o]){s.points[n]=u[p];s.points[n+1]=u[p+1];s.points[n+2]=n>0?s.points[n-1]:null;p+=h}else{s.points[n]=t[o];s.points[n+1]=n>1?s.points[n-2]:null;s.points[n+2]=t[o+1];o+=h}}n+=3}}else{if(q.lines.lineWidth>0){s.points=d(s,q.curvedLines,1);s.pointsize=2}}}}function d(m,W,C){var M=m.points,F=m.pointsize;var t=W.curvePointFactor*(M.length/F);var l=new Array;var D=new Array;var v=-1;var u=-1;var J=0;if(W.fit){var x;if(typeof W.fitPointDist=="undefined"){var S=M[0];var R=M[M.length-F];x=(R-S)/(500*100)}else{x=W.fitPointDist}for(var N=0;N<M.length;N+=F){var P;var q;v=N;u=N+C;P=M[v]-x;q=M[v]+x;var A=2;while(P==M[v]||q==M[v]){P=M[v]-(x*A);q=M[v]+(x*A);A++}l[J]=P;D[J]=M[u];J++;l[J]=M[v];D[J]=M[u];J++;l[J]=q;D[J]=M[u];J++}}else{for(var N=0;N<M.length;N+=F){v=N;u=N+C;l[J]=M[v];D[J]=M[u];J++}}var E=l.length;var o=new Array();var U=new Array();o[0]=0;o[E-1]=0;U[0]=0;for(var N=1;N<E-1;++N){var Q=(l[N+1]-l[N-1]);if(Q==0){return[]}var y=(l[N]-l[N-1])/Q;var B=y*o[N-1]+2;o[N]=(y-1)/B;U[N]=(D[N+1]-D[N])/(l[N+1]-l[N])-(D[N]-D[N-1])/(l[N]-l[N-1]);U[N]=(6*U[N]/(l[N+1]-l[N-1])-y*U[N-1])/B}for(var J=E-2;J>=0;--J){o[J]=o[J]*o[J+1]+U[J]}var r=(l[E-1]-l[0])/(t-1);var z=new Array;var I=new Array;var w=new Array;z[0]=l[0];I[0]=D[0];w.push(z[0]);w.push(I[0]);for(J=1;J<t;++J){z[J]=z[0]+J*r;var K=E-1;var G=0;while(K-G>1){var H=Math.round((K+G)/2);if(l[H]>z[J]){K=H}else{G=H}}var O=(l[K]-l[G]);if(O==0){return[]}var V=(l[K]-z[J])/O;var T=(z[J]-l[G])/O;I[J]=V*D[G]+T*D[K]+((V*V*V-V)*o[G]+(T*T*T-T)*o[K])*(O*O)/6;w.push(z[J]);w.push(I[J])}return w}}b.plot.plugins.push({init:c,options:a,name:"curvedLines",version:"0.5"})})(jQuery);!function(d,g,c){var j=d.L,h={};h.version="0.7.2","object"==typeof module&&"object"==typeof module.exports?module.exports=h:"function"==typeof define&&define.amd&&define(h),h.noConflict=function(){return d.L=j,this},d.L=h,h.Util={extend:function(k){var m,a,q,p,l=Array.prototype.slice.call(arguments,1);for(a=0,q=l.length;q>a;a++){p=l[a]||{};for(m in p){p.hasOwnProperty(m)&&(k[m]=p[m])}}return k},bind:function(k,l){var a=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return k.apply(l,a||arguments)}},stamp:function(){var a=0,k="_leaflet_id";return function(e){return e[k]=e[k]||++a,e[k]}}(),invokeEach:function(k,l,a){var p,m;if("object"==typeof k){m=Array.prototype.slice.call(arguments,3);for(p in k){l.apply(a,[p,k[p]].concat(m))}return !0}return !1},limitExecByInterval:function(k,m,a){var q,p;return function l(){var e=arguments;return q?void (p=!0):(q=!0,setTimeout(function(){q=!1,p&&(l.apply(a,e),p=!1)},m),void k.apply(a,e))}},falseFn:function(){return !1},formatNum:function(k,l){var a=Math.pow(10,l||5);return Math.round(k*a)/a},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return h.Util.trim(a).split(/\s+/)},setOptions:function(a,k){return a.options=h.extend({},a.options,k),a.options},getParamString:function(k,l,a){var p=[];for(var m in k){p.push(encodeURIComponent(a?m.toUpperCase():m)+"="+encodeURIComponent(k[m]))}return(l&&-1!==l.indexOf("?")?"&":"?")+p.join("&")},template:function(a,k){return a.replace(/\{ *([\w_]+) *\}/g,function(e,m){var l=k[m];if(l===c){throw new Error("No value provided for variable "+e)}return"function"==typeof l&&(l=l(k)),l})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function o(q){var a,s,r=["webkit","moz","o","ms"];for(a=0;a<r.length&&!s;a++){s=d[r[a]+q]}return s}function l(n){var a=+new Date,q=Math.max(0,16-(a-p));return p=a+q,d.setTimeout(n,q)}var p=0,m=d.requestAnimationFrame||o("RequestAnimationFrame")||l,k=d.cancelAnimationFrame||o("CancelAnimationFrame")||o("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};h.Util.requestAnimFrame=function(t,u,q,s){return t=h.bind(t,u),q&&m===l?void t():m.call(d,t,s)},h.Util.cancelAnimFrame=function(a){a&&k.call(d,a)}}(),h.extend=h.Util.extend,h.bind=h.Util.bind,h.stamp=h.Util.stamp,h.setOptions=h.Util.setOptions,h.Class=function(){},h.Class.extend=function(m){var p=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},l=function(){};l.prototype=this.prototype;var q=new l;q.constructor=p,p.prototype=q;for(var o in this){this.hasOwnProperty(o)&&"prototype"!==o&&(p[o]=this[o])}m.statics&&(h.extend(p,m.statics),delete m.statics),m.includes&&(h.Util.extend.apply(null,[q].concat(m.includes)),delete m.includes),m.options&&q.options&&(m.options=h.extend({},q.options,m.options)),h.extend(q,m),q._initHooks=[];var k=this;return p.__super__=k.prototype,q.callInitHooks=function(){if(!this._initHooksCalled){k.prototype.callInitHooks&&k.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,n=q._initHooks.length;n>a;a++){q._initHooks[a].call(this)}}},p},h.Class.include=function(a){h.extend(this.prototype,a)},h.Class.mergeOptions=function(a){h.extend(this.prototype.options,a)},h.Class.addInitHook=function(k){var l=Array.prototype.slice.call(arguments,1),a="function"==typeof k?k:function(){this[k].apply(this,l)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a)};var f="_leaflet_events";h.Mixin={},h.Mixin.Events={addEventListener:function(B,w,s){if(h.Util.invokeEach(B,this.addEventListener,this,w,s)){return this}var o,z,k,v,q,A,y,x=this[f]=this[f]||{},m=s&&s!==this&&h.stamp(s);for(B=h.Util.splitWords(B),o=0,z=B.length;z>o;o++){k={action:w,context:s||this},v=B[o],m?(q=v+"_idx",A=q+"_len",y=x[q]=x[q]||{},y[m]||(y[m]=[],x[A]=(x[A]||0)+1),y[m].push(k)):(x[v]=x[v]||[],x[v].push(k))}return this},hasEventListeners:function(a){var k=this[f];return !!k&&(a in k&&k[a].length>0||a+"_idx" in k&&k[a+"_idx_len"]>0)},removeEventListener:function(E,y,w){if(!this[f]){return this}if(!E){return this.clearAllEventListeners()}if(h.Util.invokeEach(E,this.removeEventListener,this,y,w)){return this}var q,B,k,x,v,D,A,z,o,C=this[f],s=w&&w!==this&&h.stamp(w);for(E=h.Util.splitWords(E),q=0,B=E.length;B>q;q++){if(k=E[q],D=k+"_idx",A=D+"_len",z=C[D],y){if(x=s&&z?z[s]:C[k]){for(v=x.length-1;v>=0;v--){x[v].action!==y||w&&x[v].context!==w||(o=x.splice(v,1),o[0].action=h.Util.falseFn)}w&&z&&0===x.length&&(delete z[s],C[A]--)}}else{delete C[k],delete C[D],delete C[A]}}return this},clearAllEventListeners:function(){return delete this[f],this},fireEvent:function(x,s){if(!this.hasEventListeners(x)){return this}var p,m,v,k,q,o=h.Util.extend({},s,{type:x,target:this}),w=this[f];if(w[x]){for(p=w[x].slice(),m=0,v=p.length;v>m;m++){p[m].action.call(p[m].context,o)}}k=w[x+"_idx"];for(q in k){if(p=k[q].slice()){for(m=0,v=p.length;v>m;m++){p[m].action.call(p[m].context,o)}}}return this},addOneTimeEventListener:function(k,l,a){if(h.Util.invokeEach(k,this.addOneTimeEventListener,this,l,a)){return this}var m=h.bind(function(){this.removeEventListener(k,l,a).removeEventListener(k,m,a)},this);return this.addEventListener(k,l,a).addEventListener(k,m,a)}},h.Mixin.Events.on=h.Mixin.Events.addEventListener,h.Mixin.Events.off=h.Mixin.Events.removeEventListener,h.Mixin.Events.once=h.Mixin.Events.addOneTimeEventListener,h.Mixin.Events.fire=h.Mixin.Events.fireEvent,function(){var E="ActiveXObject" in d,B=E&&!g.addEventListener,N=navigator.userAgent.toLowerCase(),C=-1!==N.indexOf("webkit"),H=-1!==N.indexOf("chrome"),G=-1!==N.indexOf("phantom"),A=-1!==N.indexOf("android"),M=-1!==N.search("android [23]"),K=-1!==N.indexOf("gecko"),D=typeof orientation!=c+"",O=d.navigator&&d.navigator.msPointerEnabled&&d.navigator.msMaxTouchPoints&&!d.PointerEvent,F=d.PointerEvent&&d.navigator.pointerEnabled&&d.navigator.maxTouchPoints||O,J="devicePixelRatio" in d&&d.devicePixelRatio>1||"matchMedia" in d&&d.matchMedia("(min-resolution:2ddpx)")&&d.matchMedia("(min-resolution:2dppx)").matches,I=g.documentElement,z=E&&"transition" in I.style,o="WebKitCSSMatrix" in d&&"m11" in new d.WebKitCSSMatrix&&!M,e="MozPerspective" in I.style,k="OTransition" in I.style,q=!d.L_DISABLE_3D&&(z||o||e||k)&&!G,t=!d.L_NO_TOUCH&&!G&&function(){var l="ontouchstart";if(F||l in I){return !0}var a=g.createElement("div"),m=!1;return a.setAttribute?(a.setAttribute(l,"return;"),"function"==typeof a[l]&&(m=!0),a.removeAttribute(l),a=null,m):!1}();h.Browser={ie:E,ielt9:B,webkit:C,gecko:K&&!C&&!d.opera&&!E,android:A,android23:M,chrome:H,ie3d:z,webkit3d:o,gecko3d:e,opera3d:k,any3d:q,mobile:D,mobileWebkit:D&&C,mobileWebkit3d:D&&o,mobileOpera:D&&d.opera,touch:t,msPointer:O,pointer:F,retina:J}}(),h.Point=function(k,l,a){this.x=a?Math.round(k):k,this.y=a?Math.round(l):l},h.Point.prototype={clone:function(){return new h.Point(this.x,this.y)},add:function(a){return this.clone()._add(h.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(h.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(k){k=h.point(k);var l=k.x-this.x,a=k.y-this.y;return Math.sqrt(l*l+a*a)},equals:function(a){return a=h.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=h.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+h.Util.formatNum(this.x)+", "+h.Util.formatNum(this.y)+")"}},h.point=function(a,k,l){return a instanceof h.Point?a:h.Util.isArray(a)?new h.Point(a[0],a[1]):a===c||null===a?a:new h.Point(a,k,l)},h.Bounds=function(k,l){if(k){for(var a=l?[k,l]:k,p=0,m=a.length;m>p;p++){this.extend(a[p])}}},h.Bounds.prototype={extend:function(a){return a=h.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new h.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new h.Point(this.min.x,this.max.y)},getTopRight:function(){return new h.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(k){var l,a;return k="number"==typeof k[0]||k instanceof h.Point?h.point(k):h.bounds(k),k instanceof h.Bounds?(l=k.min,a=k.max):l=a=k,l.x>=this.min.x&&a.x<=this.max.x&&l.y>=this.min.y&&a.y<=this.max.y},intersects:function(m){m=h.bounds(m);var q=this.min,l=this.max,u=m.min,o=m.max,k=o.x>=q.x&&u.x<=l.x,p=o.y>=q.y&&u.y<=l.y;return k&&p},isValid:function(){return !(!this.min||!this.max)}},h.bounds=function(a,k){return !a||a instanceof h.Bounds?a:new h.Bounds(a,k)},h.Transformation=function(k,l,a,m){this._a=k,this._b=l,this._c=a,this._d=m},h.Transformation.prototype={transform:function(a,k){return this._transform(a.clone(),k)},_transform:function(a,k){return k=k||1,a.x=k*(this._a*a.x+this._b),a.y=k*(this._c*a.y+this._d),a},untransform:function(a,k){return k=k||1,new h.Point((a.x/k-this._b)/this._a,(a.y/k-this._d)/this._c)}},h.DomUtil={get:function(a){return"string"==typeof a?g.getElementById(a):a},getStyle:function(e,a){var l=e.style[a];if(!l&&e.currentStyle&&(l=e.currentStyle[a]),(!l||"auto"===l)&&g.defaultView){var k=g.defaultView.getComputedStyle(e,null);l=k?k[a]:null}return"auto"===l?null:l},getViewportOffset:function(x){var o,k=0,y=0,v=x,e=g.body,p=g.documentElement;do{if(k+=v.offsetTop||0,y+=v.offsetLeft||0,k+=parseInt(h.DomUtil.getStyle(v,"borderTopWidth"),10)||0,y+=parseInt(h.DomUtil.getStyle(v,"borderLeftWidth"),10)||0,o=h.DomUtil.getStyle(v,"position"),v.offsetParent===e&&"absolute"===o){break}if("fixed"===o){k+=e.scrollTop||p.scrollTop||0,y+=e.scrollLeft||p.scrollLeft||0;break}if("relative"===o&&!v.offsetLeft){var m=h.DomUtil.getStyle(v,"width"),w=h.DomUtil.getStyle(v,"max-width"),q=v.getBoundingClientRect();("none"!==m||"none"!==w)&&(y+=q.left+v.clientLeft),k+=q.top+(e.scrollTop||p.scrollTop||0);break}v=v.offsetParent}while(v);v=x;do{if(v===e){break}k-=v.scrollTop||0,y-=v.scrollLeft||0,v=v.parentNode}while(v);return new h.Point(y,k)},documentIsLtr:function(){return h.DomUtil._docIsLtrCached||(h.DomUtil._docIsLtrCached=!0,h.DomUtil._docIsLtr="ltr"===h.DomUtil.getStyle(g.body,"direction")),h.DomUtil._docIsLtr},create:function(e,a,l){var k=g.createElement(e);return k.className=a,l&&l.appendChild(k),k},hasClass:function(a,k){if(a.classList!==c){return a.classList.contains(k)}var l=h.DomUtil._getClass(a);return l.length>0&&new RegExp("(^|\\s)"+k+"(\\s|$)").test(l)},addClass:function(l,p){if(l.classList!==c){for(var q=h.Util.splitWords(p),m=0,k=q.length;k>m;m++){l.classList.add(q[m])}}else{if(!h.DomUtil.hasClass(l,p)){var o=h.DomUtil._getClass(l);h.DomUtil._setClass(l,(o?o+" ":"")+p)}}},removeClass:function(a,k){a.classList!==c?a.classList.remove(k):h.DomUtil._setClass(a,h.Util.trim((" "+h.DomUtil._getClass(a)+" ").replace(" "+k+" "," ")))},_setClass:function(a,k){a.className.baseVal===c?a.className=k:a.className.baseVal=k},_getClass:function(a){return a.className.baseVal===c?a.className:a.className.baseVal},setOpacity:function(k,l){if("opacity" in k.style){k.style.opacity=l}else{if("filter" in k.style){var a=!1,p="DXImageTransform.Microsoft.Alpha";try{a=k.filters.item(p)}catch(m){if(1===l){return}}l=Math.round(100*l),a?(a.Enabled=100!==l,a.Opacity=l):k.style.filter+=" progid:"+p+"(opacity="+l+")"}}},testProp:function(e){for(var a=g.documentElement.style,k=0;k<e.length;k++){if(e[k] in a){return e[k]}}return !1},getTranslateString:function(k){var l=h.Browser.webkit3d,a="translate"+(l?"3d":"")+"(",m=(l?",0":"")+")";return a+k.x+"px,"+k.y+"px"+m},getScaleString:function(k,l){var a=h.DomUtil.getTranslateString(l.add(l.multiplyBy(-1*k))),m=" scale("+k+") ";return a+m},setPosition:function(k,l,a){k._leaflet_pos=l,!a&&h.Browser.any3d?k.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(l):(k.style.left=l.x+"px",k.style.top=l.y+"px")},getPosition:function(a){return a._leaflet_pos}},h.DomUtil.TRANSFORM=h.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),h.DomUtil.TRANSITION=h.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),h.DomUtil.TRANSITION_END="webkitTransition"===h.DomUtil.TRANSITION||"OTransition"===h.DomUtil.TRANSITION?h.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart" in g){h.extend(h.DomUtil,{disableTextSelection:function(){h.DomEvent.on(d,"selectstart",h.DomEvent.preventDefault)},enableTextSelection:function(){h.DomEvent.off(d,"selectstart",h.DomEvent.preventDefault)}})}else{var a=h.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);h.extend(h.DomUtil,{disableTextSelection:function(){if(a){var e=g.documentElement.style;this._userSelect=e[a],e[a]="none"}},enableTextSelection:function(){a&&(g.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}h.extend(h.DomUtil,{disableImageDrag:function(){h.DomEvent.on(d,"dragstart",h.DomEvent.preventDefault)},enableImageDrag:function(){h.DomEvent.off(d,"dragstart",h.DomEvent.preventDefault)}})}(),h.LatLng=function(a,k,l){if(a=parseFloat(a),k=parseFloat(k),isNaN(a)||isNaN(k)){throw new Error("Invalid LatLng object: ("+a+", "+k+")")}this.lat=a,this.lng=k,l!==c&&(this.alt=parseFloat(l))},h.extend(h.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),h.LatLng.prototype={equals:function(a){if(!a){return !1}a=h.latLng(a);var k=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return k<=h.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+h.Util.formatNum(this.lat,a)+", "+h.Util.formatNum(this.lng,a)+")"},distanceTo:function(y){y=h.latLng(y);var v=6378137,p=h.LatLng.DEG_TO_RAD,m=(y.lat-this.lat)*p,z=(y.lng-this.lng)*p,w=this.lat*p,k=y.lat*p,q=Math.sin(m/2),o=Math.sin(z/2),x=q*q+o*o*Math.cos(w)*Math.cos(k);return 2*v*Math.atan2(Math.sqrt(x),Math.sqrt(1-x))},wrap:function(k,l){var a=this.lng;return k=k||-180,l=l||180,a=(a+l)%(l-k)+(k>a||a===l?l:k),new h.LatLng(this.lat,a)}},h.latLng=function(a,k){return a instanceof h.LatLng?a:h.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new h.LatLng(a[0],a[1],a[2]):null:a===c||null===a?a:"object"==typeof a&&"lat" in a?new h.LatLng(a.lat,"lng" in a?a.lng:a.lon):k===c?null:new h.LatLng(a,k)},h.LatLngBounds=function(k,l){if(k){for(var a=l?[k,l]:k,p=0,m=a.length;m>p;p++){this.extend(a[p])}}},h.LatLngBounds.prototype={extend:function(a){if(!a){return this}var k=h.latLng(a);return a=null!==k?k:h.latLngBounds(a),a instanceof h.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new h.LatLng(a.lat,a.lng),this._northEast=new h.LatLng(a.lat,a.lng)):a instanceof h.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(k){var m=this._southWest,a=this._northEast,o=Math.abs(m.lat-a.lat)*k,l=Math.abs(m.lng-a.lng)*k;return new h.LatLngBounds(new h.LatLng(m.lat-o,m.lng-l),new h.LatLng(a.lat+o,a.lng+l))},getCenter:function(){return new h.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new h.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new h.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(k){k="number"==typeof k[0]||k instanceof h.LatLng?h.latLng(k):h.latLngBounds(k);var m,a,o=this._southWest,l=this._northEast;return k instanceof h.LatLngBounds?(m=k.getSouthWest(),a=k.getNorthEast()):m=a=k,m.lat>=o.lat&&a.lat<=l.lat&&m.lng>=o.lng&&a.lng<=l.lng},intersects:function(m){m=h.latLngBounds(m);var q=this._southWest,l=this._northEast,u=m.getSouthWest(),o=m.getNorthEast(),k=o.lat>=q.lat&&u.lat<=l.lat,p=o.lng>=q.lng&&u.lng<=l.lng;return k&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=h.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return !(!this._southWest||!this._northEast)}},h.latLngBounds=function(a,k){return !a||a instanceof h.LatLngBounds?a:new h.LatLngBounds(a,k)},h.Projection={},h.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(m){var p=h.LatLng.DEG_TO_RAD,l=this.MAX_LATITUDE,q=Math.max(Math.min(l,m.lat),-l),o=m.lng*p,k=q*p;return k=Math.log(Math.tan(Math.PI/4+k/2)),new h.Point(o,k)},unproject:function(k){var l=h.LatLng.RAD_TO_DEG,a=k.x*l,m=(2*Math.atan(Math.exp(k.y))-Math.PI/2)*l;return new h.LatLng(m,a)}},h.Projection.LonLat={project:function(a){return new h.Point(a.lng,a.lat)},unproject:function(a){return new h.LatLng(a.y,a.x)}},h.CRS={latLngToPoint:function(k,l){var a=this.projection.project(k),m=this.scale(l);return this.transformation._transform(a,m)},pointToLatLng:function(k,l){var a=this.scale(l),m=this.transformation.untransform(k,a);return this.projection.unproject(m)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var k=this.scale(a);return h.point(k,k)}},h.CRS.Simple=h.extend({},h.CRS,{projection:h.Projection.LonLat,transformation:new h.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),h.CRS.EPSG3857=h.extend({},h.CRS,{code:"EPSG:3857",projection:h.Projection.SphericalMercator,transformation:new h.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(k){var l=this.projection.project(k),a=6378137;return l.multiplyBy(a)}}),h.CRS.EPSG900913=h.extend({},h.CRS.EPSG3857,{code:"EPSG:900913"}),h.CRS.EPSG4326=h.extend({},h.CRS,{code:"EPSG:4326",projection:h.Projection.LonLat,transformation:new h.Transformation(1/360,0.5,-1/360,0.5)}),h.Map=h.Class.extend({includes:h.Mixin.Events,options:{crs:h.CRS.EPSG3857,fadeAnimation:h.DomUtil.TRANSITION&&!h.Browser.android23,trackResize:!0,markerZoomAnimation:h.DomUtil.TRANSITION&&h.Browser.any3d},initialize:function(a,k){k=h.setOptions(this,k),this._initContainer(a),this._initLayout(),this._onResize=h.bind(this._onResize,this),this._initEvents(),k.maxBounds&&this.setMaxBounds(k.maxBounds),k.center&&k.zoom!==c&&this.setView(h.latLng(k.center),k.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(k.layers)},setView:function(a,k){return k=k===c?this.getZoom():k,this._resetView(h.latLng(a),this._limitZoom(k)),this},setZoom:function(a,k){return this._loaded?this.setView(this.getCenter(),a,{zoom:k}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,k){return this.setZoom(this._zoom+(a||1),k)},zoomOut:function(a,k){return this.setZoom(this._zoom-(a||1),k)},setZoomAround:function(m,u,l){var v=this.getZoomScale(u),p=this.getSize().divideBy(2),k=m instanceof h.Point?m:this.latLngToContainerPoint(m),q=k.subtract(p).multiplyBy(1-1/v),o=this.containerPointToLatLng(p.add(q));return this.setView(o,u,{zoom:l})},fitBounds:function(w,u){u=u||{},w=w.getBounds?w.getBounds():h.latLngBounds(w);var p=h.point(u.paddingTopLeft||u.padding||[0,0]),m=h.point(u.paddingBottomRight||u.padding||[0,0]),x=this.getBoundsZoom(w,!1,p.add(m)),v=m.subtract(p).divideBy(2),k=this.project(w.getSouthWest(),x),q=this.project(w.getNorthEast(),x),o=this.unproject(k.add(q).divideBy(2).add(v),x);return x=u&&u.maxZoom?Math.min(u.maxZoom,x):x,this.setView(o,x,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,k){return this.setView(a,this._zoom,{pan:k})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(h.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=h.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(k,l){var a=this.getCenter(),m=this._limitCenter(a,this._zoom,k);return a.equals(m)?this:this.panTo(m,l)},addLayer:function(a){var k=h.stamp(a);return this._layers[k]?this:(this._layers[k]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[k]=a,this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&a instanceof h.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var k=h.stamp(a);return this._layers[k]?(this._loaded&&a.onRemove(this),delete this._layers[k],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[k]&&(delete this._zoomBoundLayers[k],this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&a instanceof h.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?h.stamp(a) in this._layers:!1},eachLayer:function(k,l){for(var a in this._layers){k.call(l,this._layers[a])}return this},invalidateSize:function(m){if(!this._loaded){return this}m=h.extend({animate:!1,pan:!0},m===!0?{animate:!0}:m);var p=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var l=this.getSize(),q=p.divideBy(2).round(),o=l.divideBy(2).round(),k=q.subtract(o);return k.x||k.y?(m.animate&&m.pan?this.panBy(k):(m.pan&&this._rawPanBy(k),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:l})):this},addHandler:function(k,l){if(!l){return this}var a=this[k]=new l(this);return this._handlers.push(a),this.options[k]&&a.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=c}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var k=this.getPixelBounds(),l=this.unproject(k.getBottomLeft()),a=this.unproject(k.getTopRight());return new h.LatLngBounds(l,a)},getMinZoom:function(){return this.options.minZoom===c?this._layersMinZoom===c?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===c?this._layersMaxZoom===c?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(y,v,p){y=h.latLngBounds(y);var m,z=this.getMinZoom()-(v?1:0),w=this.getMaxZoom(),k=this.getSize(),q=y.getNorthWest(),o=y.getSouthEast(),x=!0;p=h.point(p||[0,0]);do{z++,m=this.project(o,z).subtract(this.project(q,z)).add(p),x=v?m.x<k.x||m.y<k.y:k.contains(m)}while(x&&w>=z);return x&&v?null:v?z:z-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new h.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new h.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var k=this.options.crs;return k.scale(a)/k.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,k){return k=k===c?this._zoom:k,this.options.crs.latLngToPoint(h.latLng(a),k)},unproject:function(a,k){return k=k===c?this._zoom:k,this.options.crs.pointToLatLng(h.point(a),k)},layerPointToLatLng:function(a){var k=h.point(a).add(this.getPixelOrigin());return this.unproject(k)},latLngToLayerPoint:function(a){var k=this.project(h.latLng(a))._round();return k._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return h.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return h.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var k=this.containerPointToLayerPoint(h.point(a));return this.layerPointToLatLng(k)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(h.latLng(a)))},mouseEventToContainerPoint:function(a){return h.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var k=this._container=h.DomUtil.get(a);if(!k){throw new Error("Map container not found.")}if(k._leaflet){throw new Error("Map container is already initialized.")}k._leaflet=!0},_initLayout:function(){var a=this._container;h.DomUtil.addClass(a,"leaflet-container"+(h.Browser.touch?" leaflet-touch":"")+(h.Browser.retina?" leaflet-retina":"")+(h.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var k=h.DomUtil.getStyle(a,"position");"absolute"!==k&&"relative"!==k&&"fixed"!==k&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var k=" leaflet-zoom-hide";this.options.markerZoomAnimation||(h.DomUtil.addClass(a.markerPane,k),h.DomUtil.addClass(a.shadowPane,k),h.DomUtil.addClass(a.popupPane,k))},_createPane:function(a,k){return h.DomUtil.create("div",a,k||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(k){k=k?h.Util.isArray(k)?k:[k]:[];for(var l=0,a=k.length;a>l;l++){this.addLayer(k[l])}},_resetView:function(m,p,l,q){var o=this._zoom!==p;q||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=p,this._initialCenter=m,this._initialTopLeftPoint=this._getNewTopLeftPoint(m),l?this._initialTopLeftPoint._add(this._getMapPanePos()):h.DomUtil.setPosition(this._mapPane,new h.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var k=!this._loaded;this._loaded=!0,k&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!l}),this.fire("move"),(o||q)&&this.fire("zoomend"),this.fire("moveend",{hard:!l})},_rawPanBy:function(a){h.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,l=1/0,p=-1/0,m=this._getZoomSpan();for(a in this._zoomBoundLayers){var k=this._zoomBoundLayers[a];isNaN(k.options.minZoom)||(l=Math.min(l,k.options.minZoom)),isNaN(k.options.maxZoom)||(p=Math.max(p,k.options.maxZoom))}a===c?this._layersMaxZoom=this._layersMinZoom=c:(this._layersMaxZoom=p,this._layersMinZoom=l),m!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(l){if(h.DomEvent){l=l||"on",h.DomEvent[l](this._container,"click",this._onMouseClick,this);var a,m,k=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(a=0,m=k.length;m>a;a++){h.DomEvent[l](this._container,k[a],this._fireMouseEvent,this)}this.options.trackResize&&h.DomEvent[l](d,"resize",this._onResize,this)}},_onResize:function(){h.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=h.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||h.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(k){if(this._loaded&&!h.DomEvent._skipped(k)){var m=k.type;if(m="mouseenter"===m?"mouseover":"mouseleave"===m?"mouseout":m,this.hasEventListeners(m)){"contextmenu"===m&&h.DomEvent.preventDefault(k);var a=this.mouseEventToContainerPoint(k),o=this.containerPointToLayerPoint(a),l=this.layerPointToLatLng(o);this.fire(m,{latlng:l,layerPoint:o,containerPoint:a,originalEvent:k})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,k=this._handlers.length;k>a;a++){this._handlers[a].disable()}},whenReady:function(a,k){return this._loaded?a.call(k||this,this):this.on("load",a,k),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return h.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(k,l){var a=this.getSize()._divideBy(2);return this.project(k,l)._subtract(a)._round()},_latLngToNewLayerPoint:function(k,l,a){var m=this._getNewTopLeftPoint(a,l).add(this._getMapPanePos());return this.project(k,l)._subtract(m)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,q,l){if(!l){return m}var u=this.project(m,q),o=this.getSize().divideBy(2),k=new h.Bounds(u.subtract(o),u.add(o)),p=this._getBoundsOffset(k,l,q);return this.unproject(u.add(p),q)},_limitOffset:function(k,l){if(!l){return k}var a=this.getPixelBounds(),m=new h.Bounds(a.min.add(k),a.max.add(k));return k.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(m,q,l){var u=this.project(q.getNorthWest(),l).subtract(m.min),o=this.project(q.getSouthEast(),l).subtract(m.max),k=this._rebound(u.x,-o.x),p=this._rebound(u.y,-o.y);return new h.Point(k,p)},_rebound:function(a,k){return a+k>0?Math.round(a-k)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(k))},_limitZoom:function(k){var l=this.getMinZoom(),a=this.getMaxZoom();return Math.max(l,Math.min(a,k))}}),h.map=function(a,k){return new h.Map(a,k)},h.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(A){var v=h.LatLng.DEG_TO_RAD,p=this.MAX_LATITUDE,m=Math.max(Math.min(p,A.lat),-p),B=this.R_MAJOR,y=this.R_MINOR,k=A.lng*v*B,q=m*v,o=y/B,z=Math.sqrt(1-o*o),x=z*Math.sin(q);x=Math.pow((1-x)/(1+x),0.5*z);var w=Math.tan(0.5*(0.5*Math.PI-q))/x;return q=-B*Math.log(w),new h.Point(k,q)},unproject:function(D){for(var x,v=h.LatLng.RAD_TO_DEG,o=this.R_MAJOR,E=this.R_MINOR,A=D.x*v/o,k=E/o,w=Math.sqrt(1-k*k),q=Math.exp(-D.y/o),C=Math.PI/2-2*Math.atan(q),z=15,y=1e-7,m=z,B=0.1;Math.abs(B)>y&&--m>0;){x=w*Math.sin(C),B=Math.PI/2-2*Math.atan(q*Math.pow((1-x)/(1+x),0.5*w))-C,C+=B}return new h.LatLng(C*v,A)}},h.CRS.EPSG3395=h.extend({},h.CRS,{code:"EPSG:3395",projection:h.Projection.Mercator,transformation:function(){var k=h.Projection.Mercator,l=k.R_MAJOR,a=0.5/(Math.PI*l);return new h.Transformation(a,0.5,-a,0.5)}()}),h.TileLayer=h.Class.extend({includes:h.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:h.Browser.mobile,updateWhenIdle:h.Browser.mobile},initialize:function(k,l){l=h.setOptions(this,l),l.detectRetina&&h.Browser.retina&&l.maxZoom>0&&(l.tileSize=Math.floor(l.tileSize/2),l.zoomOffset++,l.minZoom>0&&l.minZoom--,this.options.maxZoom--),l.bounds&&(l.bounds=h.latLngBounds(l.bounds)),this._url=k;var a=this.options.subdomains;"string"==typeof a&&(this.options.subdomains=a.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=h.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,k){return this._url=a,k||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==c&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m,q){var l,u,r,p=m.children,k=-q(1/0,-1/0);for(u=0,r=p.length;r>u;u++){p[u]!==this._container&&(l=parseInt(p[u].style.zIndex,10),isNaN(l)||(k=q(k,l)))}this.options.zIndex=this._container.style.zIndex=(isFinite(k)?k:0)+q(1,-1)},_updateOpacity:function(){var a,k=this._tiles;if(h.Browser.ielt9){for(a in k){h.DomUtil.setOpacity(k[a],this.options.opacity)}}else{h.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=h.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var k="leaflet-tile-container";this._bgBuffer=h.DomUtil.create("div",k,this._container),this._tileContainer=h.DomUtil.create("div",k,this._container)}else{this._tileContainer=this._container}a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var k in this._tiles){this.fire("tileunload",{tile:this._tiles[k]})}this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var k=this._map,l=k.getZoom()+this.options.zoomOffset,a=this.options.maxNativeZoom,m=this.options.tileSize;return a&&l>a&&(m=Math.round(k.getZoomScale(l)/k.getZoomScale(a)*m)),m},_update:function(){if(this._map){var k=this._map,m=k.getPixelBounds(),a=k.getZoom(),o=this._getTileSize();if(!(a>this.options.maxZoom||a<this.options.minZoom)){var l=h.bounds(m.min.divideBy(o)._floor(),m.max.divideBy(o)._floor());this._addTilesFromCenterOut(l),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(l)}}},_addTilesFromCenterOut:function(o){var m,v,q,k=[],u=o.getCenter();for(m=o.min.y;m<=o.max.y;m++){for(v=o.min.x;v<=o.max.x;v++){q=new h.Point(v,m),this._tileShouldBeLoaded(q)&&k.push(q)}}var p=k.length;if(0!==p){k.sort(function(a,l){return a.distanceTo(u)-l.distanceTo(u)});var e=g.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=p,v=0;p>v;v++){this._addTile(k[v],e)}this._tileContainer.appendChild(e)}},_tileShouldBeLoaded:function(m){if(m.x+":"+m.y in this._tiles){return !1}var u=this.options;if(!u.continuousWorld){var l=this._getWrapTileNum();if(u.noWrap&&(m.x<0||m.x>=l.x)||m.y<0||m.y>=l.y){return !1}}if(u.bounds){var w=u.tileSize,v=m.multiplyBy(w),p=v.add([w,w]),k=this._map.unproject(v),q=this._map.unproject(p);if(u.continuousWorld||u.noWrap||(k=k.wrap(),q=q.wrap()),!u.bounds.intersects([k,q])){return !1}}return !0},_removeOtherTiles:function(k){var l,a,p,m;for(m in this._tiles){l=m.split(":"),a=parseInt(l[0],10),p=parseInt(l[1],10),(a<k.min.x||a>k.max.x||p<k.min.y||p>k.max.y)&&this._removeTile(m)}},_removeTile:function(a){var k=this._tiles[a];this.fire("tileunload",{tile:k,url:k.src}),this.options.reuseTiles?(h.DomUtil.removeClass(k,"leaflet-tile-loaded"),this._unusedTiles.push(k)):k.parentNode===this._tileContainer&&this._tileContainer.removeChild(k),h.Browser.android||(k.onload=null,k.src=h.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(k,l){var a=this._getTilePos(k),m=this._getTile();h.DomUtil.setPosition(m,a,h.Browser.chrome),this._tiles[k.x+":"+k.y]=m,this._loadTile(m,k),m.parentNode!==this._tileContainer&&l.appendChild(m)},_getZoomForUrl:function(){var a=this.options,k=this._map.getZoom();return a.zoomReverse&&(k=a.maxZoom-k),k+=a.zoomOffset,a.maxNativeZoom?Math.min(k,a.maxNativeZoom):k},_getTilePos:function(k){var l=this._map.getPixelOrigin(),a=this._getTileSize();return k.multiplyBy(a).subtract(l)},getTileUrl:function(a){return h.Util.template(this._url,h.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs,k=a.getSize(this._map.getZoom());return k.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(a){var k=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%k.x+k.x)%k.x),this.options.tms&&(a.y=k.y-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var k=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[k]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=h.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=h.Util.falseFn,h.Browser.ielt9&&this.options.opacity!==c&&h.DomUtil.setOpacity(a,this.options.opacity),h.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,k){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(k),a.src=this.getTileUrl(k),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&h.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(h.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==h.Util.emptyImageUrl&&(h.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var k=a.options.errorTileUrl;k&&(this.src=k),a._tileLoaded()}}),h.tileLayer=function(a,k){return new h.TileLayer(a,k)},h.TileLayer.WMS=h.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(k,m){this._url=k;var a=h.extend({},this.defaultWmsParams),o=m.tileSize||this.options.tileSize;a.width=a.height=m.detectRetina&&h.Browser.retina?2*o:o;for(var l in m){this.options.hasOwnProperty(l)||"crs"===l||(a[l]=m[l])}this.wmsParams=a,h.setOptions(this,m)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var k=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[k]=this._crs.code,h.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(w){var u=this._map,p=this.options.tileSize,m=w.multiplyBy(p),x=m.add([p,p]),v=this._crs.project(u.unproject(m,w.z)),k=this._crs.project(u.unproject(x,w.z)),q=this._wmsVersion>=1.3&&this._crs===h.CRS.EPSG4326?[k.y,v.x,v.y,k.x].join(","):[v.x,k.y,k.x,v.y].join(","),o=h.Util.template(this._url,{s:this._getSubdomain(w)});return o+h.Util.getParamString(this.wmsParams,o,!0)+"&BBOX="+q},setParams:function(a,k){return h.extend(this.wmsParams,a),k||this.redraw(),this}}),h.tileLayer.wms=function(a,k){return new h.TileLayer.WMS(a,k)},h.TileLayer.Canvas=h.TileLayer.extend({options:{async:!1},initialize:function(a){h.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles){this._redrawTile(this._tiles[a])}return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=h.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=h.Util.falseFn,a},_loadTile:function(a,k){a._layer=this,a._tilePoint=k,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),h.tileLayer.canvas=function(a){return new h.TileLayer.Canvas(a)},h.ImageOverlay=h.Class.extend({includes:h.Mixin.Events,options:{opacity:1},initialize:function(k,l,a){this._url=k,this._bounds=h.latLngBounds(l),h.setOptions(this,a)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&h.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=h.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&h.Browser.any3d?h.DomUtil.addClass(this._image,"leaflet-zoom-animated"):h.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),h.extend(this._image,{galleryimg:"no",onselectstart:h.Util.falseFn,onmousemove:h.Util.falseFn,onload:h.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(w){var u=this._map,p=this._image,m=u.getZoomScale(w.zoom),x=this._bounds.getNorthWest(),v=this._bounds.getSouthEast(),k=u._latLngToNewLayerPoint(x,w.zoom,w.center),q=u._latLngToNewLayerPoint(v,w.zoom,w.center)._subtract(k),o=k._add(q._multiplyBy(0.5*(1-1/m)));p.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(o)+" scale("+m+") "},_reset:function(){var k=this._image,l=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),a=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(l);h.DomUtil.setPosition(k,l),k.style.width=a.x+"px",k.style.height=a.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){h.DomUtil.setOpacity(this._image,this.options.opacity)}}),h.imageOverlay=function(k,l,a){return new h.ImageOverlay(k,l,a)},h.Icon=h.Class.extend({options:{className:""},initialize:function(a){h.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(k,l){var a=this._getIconUrl(k);if(!a){if("icon"===k){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var m;return m=l&&"IMG"===l.tagName?this._createImg(a,l):this._createImg(a),this._setIconStyles(m,k),m},_setIconStyles:function(k,m){var a,o=this.options,l=h.point(o[m+"Size"]);a=h.point("shadow"===m?o.shadowAnchor||o.iconAnchor:o.iconAnchor),!a&&l&&(a=l.divideBy(2,!0)),k.className="leaflet-marker-"+m+" "+o.className,a&&(k.style.marginLeft=-a.x+"px",k.style.marginTop=-a.y+"px"),l&&(k.style.width=l.x+"px",k.style.height=l.y+"px")},_createImg:function(e,a){return a=a||g.createElement("img"),a.src=e,a},_getIconUrl:function(a){return h.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),h.icon=function(a){return new h.Icon(a)},h.Icon.Default=h.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(k){var l=k+"Url";if(this.options[l]){return this.options[l]}h.Browser.retina&&"icon"===k&&(k+="-2x");var a=h.Icon.Default.imagePath;if(!a){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return a+"/marker-"+k+".png"}}),h.Icon.Default.imagePath=function(){var l,k,u,q,m,e=g.getElementsByTagName("script"),p=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(l=0,k=e.length;k>l;l++){if(u=e[l].src,q=u.match(p)){return m=u.split(p)[0],(m?m+"/":"")+"images"}}}(),h.Marker=h.Class.extend({includes:h.Mixin.Events,options:{icon:new h.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,k){h.setOptions(this,k),this._latlng=h.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=h.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var w=this.options,u=this._map,p=u.options.zoomAnimation&&u.options.markerZoomAnimation,m=p?"leaflet-zoom-animated":"leaflet-zoom-hide",x=w.icon.createIcon(this._icon),v=!1;x!==this._icon&&(this._icon&&this._removeIcon(),v=!0,w.title&&(x.title=w.title),w.alt&&(x.alt=w.alt)),h.DomUtil.addClass(x,m),w.keyboard&&(x.tabIndex="0"),this._icon=x,this._initInteraction(),w.riseOnHover&&h.DomEvent.on(x,"mouseover",this._bringToFront,this).on(x,"mouseout",this._resetZIndex,this);var k=w.icon.createShadow(this._shadow),q=!1;k!==this._shadow&&(this._removeShadow(),q=!0),k&&h.DomUtil.addClass(k,m),this._shadow=k,w.opacity<1&&this._updateOpacity();var o=this._map._panes;v&&o.markerPane.appendChild(this._icon),k&&q&&o.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&h.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){h.DomUtil.setPosition(this._icon,a),this._shadow&&h.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var k=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(k)},_initInteraction:function(){if(this.options.clickable){var k=this._icon,l=["dblclick","mousedown","mouseover","mouseout","contextmenu"];h.DomUtil.addClass(k,"leaflet-clickable"),h.DomEvent.on(k,"click",this._onMouseClick,this),h.DomEvent.on(k,"keypress",this._onKeyPress,this);for(var a=0;a<l.length;a++){h.DomEvent.on(k,l[a],this._fireMouseEvent,this)}h.Handler.MarkerDrag&&(this.dragging=new h.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var k=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||k)&&h.DomEvent.stopPropagation(a),k||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&h.DomEvent.preventDefault(a),"mousedown"!==a.type?h.DomEvent.stopPropagation(a):h.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){h.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&h.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),h.marker=function(a,k){return new h.Marker(a,k)},h.DivIcon=h.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var a=e&&"DIV"===e.tagName?e:g.createElement("div"),k=this.options;return a.innerHTML=k.html!==!1?k.html:"",k.bgPos&&(a.style.backgroundPosition=-k.bgPos.x+"px "+-k.bgPos.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}),h.divIcon=function(a){return new h.DivIcon(a)},h.Map.mergeOptions({closePopupOnClick:!0}),h.Popup=h.Class.extend({includes:h.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,k){h.setOptions(this,a),this._source=k,this._animated=h.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout();var k=a.options.fadeAnimation;k&&h.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this.update(),k&&h.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),h.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&h.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=h.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick" in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var k,m="leaflet-popup",a=m+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),o=this._container=h.DomUtil.create("div",a);this.options.closeButton&&(k=this._closeButton=h.DomUtil.create("a",m+"-close-button",o),k.href="#close",k.innerHTML="&#215;",h.DomEvent.disableClickPropagation(k),h.DomEvent.on(k,"click",this._onCloseButtonClick,this));var l=this._wrapper=h.DomUtil.create("div",m+"-content-wrapper",o);h.DomEvent.disableClickPropagation(l),this._contentNode=h.DomUtil.create("div",m+"-content",l),h.DomEvent.disableScrollPropagation(this._contentNode),h.DomEvent.on(l,"contextmenu",h.DomEvent.stopPropagation),this._tipContainer=h.DomUtil.create("div",m+"-tip-container",o),this._tip=h.DomUtil.create("div",m+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content){this._contentNode.innerHTML=this._content}else{for(;this._contentNode.hasChildNodes();){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var m=this._contentNode,p=m.style;p.width="",p.whiteSpace="nowrap";var l=m.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),p.width=l+1+"px",p.whiteSpace="",p.height="";var q=m.offsetHeight,o=this.options.maxHeight,k="leaflet-popup-scrolled";o&&q>o?(p.height=o+"px",h.DomUtil.addClass(m,k)):h.DomUtil.removeClass(m,k),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var k=this._map.latLngToLayerPoint(this._latlng),l=this._animated,a=h.point(this.options.offset);l&&h.DomUtil.setPosition(this._container,k),this._containerBottom=-a.y-(l?0:k.y),this._containerLeft=-Math.round(this._containerWidth/2)+a.x+(l?0:k.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var k=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);h.DomUtil.setPosition(this._container,k)},_adjustPan:function(){if(this.options.autoPan){var z=this._map,v=this._container.offsetHeight,p=this._containerWidth,m=new h.Point(this._containerLeft,-v-this._containerBottom);this._animated&&m._add(h.DomUtil.getPosition(this._container));var A=z.layerPointToContainerPoint(m),x=h.point(this.options.autoPanPadding),k=h.point(this.options.autoPanPaddingTopLeft||x),q=h.point(this.options.autoPanPaddingBottomRight||x),o=z.getSize(),y=0,w=0;A.x+p+q.x>o.x&&(y=A.x+p-o.x+q.x),A.x-y-k.x<0&&(y=A.x-k.x),A.y+v+q.y>o.y&&(w=A.y+v-o.y+q.y),A.y-w-k.y<0&&(w=A.y-k.y),(y||w)&&z.fire("autopanstart").panBy([y,w])}},_onCloseButtonClick:function(a){this._close(),h.DomEvent.stop(a)}}),h.popup=function(a,k){return new h.Popup(a,k)},h.Map.include({openPopup:function(k,l,a){if(this.closePopup(),!(k instanceof h.Popup)){var m=k;k=new h.Popup(a).setLatLng(l).setContent(m)}return k._isOpen=!0,this._popup=k,this.addLayer(k)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),h.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(k,l){var a=h.point(this.options.icon.options.popupAnchor||[0,0]);return a=a.add(h.Popup.prototype.options.offset),l&&l.offset&&(a=a.add(l.offset)),l=h.extend({offset:a},l),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),k instanceof h.Popup?(h.setOptions(k,l),this._popup=k):this._popup=new h.Popup(l,this).setContent(k),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),h.LayerGroup=h.Class.extend({initialize:function(k){this._layers={};var l,a;if(k){for(l=0,a=k.length;a>l;l++){this.addLayer(k[l])}}},addLayer:function(a){var k=this.getLayerId(a);return this._layers[k]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var k=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[k]&&this._map.removeLayer(this._layers[k]),delete this._layers[k],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a) in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(k){var l,a,m=Array.prototype.slice.call(arguments,1);for(l in this._layers){a=this._layers[l],a[k]&&a[k].apply(a,m)}return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(k,l){for(var a in this._layers){k.call(l,this._layers[a])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var k in this._layers){a.push(this._layers[k])}return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return h.stamp(a)}}),h.layerGroup=function(a){return new h.LayerGroup(a)},h.FeatureGroup=h.LayerGroup.extend({includes:h.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on" in a&&a.on(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,k){return this._popupContent=a,this._popupOptions=k,this.invoke("bindPopup",a,k)},openPopup:function(a){for(var k in this._layers){this._layers[k].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new h.LatLngBounds;return this.eachLayer(function(k){a.extend(k instanceof h.Marker?k.getLatLng():k.getBounds())}),a},_propagateEvent:function(a){a=h.extend({layer:a.target,target:this},a),this.fire(a.type,a)}}),h.featureGroup=function(a){return new h.FeatureGroup(a)},h.Path=h.Class.extend({includes:[h.Mixin.Events],statics:{CLIP_PADDING:function(){var k=h.Browser.mobile?1280:2000,a=(k/Math.max(d.outerWidth,d.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){h.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,h.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return h.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),h.Map.include({_updatePathViewport:function(){var k=h.Path.CLIP_PADDING,m=this.getSize(),a=h.DomUtil.getPosition(this._mapPane),o=a.multiplyBy(-1)._subtract(m.multiplyBy(k)._round()),l=o.add(m.multiplyBy(1+2*k)._round());this._pathViewport=new h.Bounds(o,l)}}),h.Path.SVG_NS="http://www.w3.org/2000/svg",h.Browser.svg=!(!g.createElementNS||!g.createElementNS(h.Path.SVG_NS,"svg").createSVGRect),h.Path=h.Path.extend({statics:{SVG:h.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,k=this._container;return k&&a.lastChild!==k&&a.appendChild(k),this},bringToBack:function(){var k=this._map._pathRoot,l=this._container,a=k.firstChild;return l&&a!==l&&k.insertBefore(l,a),this},getPathString:function(){},_createElement:function(a){return g.createElementNS(h.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&h.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(h.Browser.svg||!h.Browser.vml)&&h.DomUtil.addClass(this._path,"leaflet-clickable"),h.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],k=0;k<a.length;k++){h.DomEvent.on(this._container,a[k],this._fireMouseEvent,this)}}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(k){if(this.hasEventListeners(k.type)){var m=this._map,a=m.mouseEventToContainerPoint(k),o=m.containerPointToLayerPoint(a),l=m.layerPointToLatLng(o);this.fire(k.type,{latlng:l,layerPoint:o,containerPoint:a,originalEvent:k}),"contextmenu"===k.type&&h.DomEvent.preventDefault(k),"mousemove"!==k.type&&h.DomEvent.stopPropagation(k)}}}),h.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=h.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&h.Browser.any3d?(h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(k){var l=this.getZoomScale(k.zoom),a=this._getCenterOffset(k.center)._multiplyBy(-l)._add(this._pathViewport.min);this._pathRoot.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(a)+" scale("+l+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var m=this._pathViewport,q=m.min,l=m.max,u=l.x-q.x,o=l.y-q.y,k=this._pathRoot,p=this._panes.overlayPane;h.Browser.mobileWebkit&&p.removeChild(k),h.DomUtil.setPosition(k,q),k.setAttribute("width",u),k.setAttribute("height",o),k.setAttribute("viewBox",[q.x,q.y,u,o].join(" ")),h.Browser.mobileWebkit&&p.appendChild(k)}}}),h.Path.include({bindPopup:function(a,k){return a instanceof h.Popup?this._popup=a:((!this._popup||k)&&(this._popup=new h.Popup(k,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),h.Browser.vml=!h.Browser.svg&&function(){try{var e=g.createElement("div");e.innerHTML='<v:shape adj="1"/>';var a=e.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(k){return !1}}(),h.Path=h.Browser.svg||!h.Browser.vml?h.Path:h.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return g.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return g.createElement("<lvml:"+e+' class="lvml">')}}catch(a){return function(e){return g.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");h.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&h.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var k=this._stroke,l=this._fill,a=this.options,m=this._container;m.stroked=a.stroke,m.filled=a.fill,a.stroke?(k||(k=this._stroke=this._createElement("stroke"),k.endcap="round",m.appendChild(k)),k.weight=a.weight+"px",k.color=a.color,k.opacity=a.opacity,k.dashStyle=a.dashArray?h.Util.isArray(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):"",a.lineCap&&(k.endcap=a.lineCap.replace("butt","flat")),a.lineJoin&&(k.joinstyle=a.lineJoin)):k&&(m.removeChild(k),this._stroke=null),a.fill?(l||(l=this._fill=this._createElement("fill"),m.appendChild(l)),l.color=a.fillColor||a.color,l.opacity=a.fillOpacity):l&&(m.removeChild(l),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),h.Map.include(h.Browser.svg||!h.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=g.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),h.Browser.canvas=function(){return !!g.createElement("canvas").getContext}(),h.Path=h.Path.SVG&&!d.L_PREFER_CANVAS||!h.Browser.canvas?h.Path:h.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return h.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!h.Path._updateRequest&&(h.Path._updateRequest=h.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){h.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var m,p,l,q,o,k;for(this._ctx.beginPath(),m=0,l=this._parts.length;l>m;m++){for(p=0,q=this._parts[m].length;q>p;p++){o=this._parts[m][p],k=(0===p?"move":"line")+"To",this._ctx[k](o.x,o.y)}this instanceof h.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,k=this.options;this._drawPath(),a.save(),this._updateStyle(),k.fill&&(a.globalAlpha=k.fillOpacity,a.fill()),k.stroke&&(a.globalAlpha=k.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),h.Map.include(h.Path.SVG&&!d.L_PREFER_CANVAS||!h.Browser.canvas?{}:{_initPathRoot:function(){var e,a=this._pathRoot;a||(a=this._pathRoot=g.createElement("canvas"),a.style.position="absolute",e=this._canvasCtx=a.getContext("2d"),e.lineCap="round",e.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var k=this._pathViewport,l=k.min,a=k.max.subtract(l),m=this._pathRoot;h.DomUtil.setPosition(m,l),m.width=a.x,m.height=a.y,m.getContext("2d").translate(-l.x,-l.y)}}}),h.LineUtil={simplify:function(k,l){if(!l||!k.length){return k.slice()}var a=l*l;return k=this._reducePoints(k,a),k=this._simplifyDP(k,a)},pointToSegmentDistance:function(k,l,a){return Math.sqrt(this._sqClosestPointOnSegment(k,l,a,!0))},closestPointOnSegment:function(k,l,a){return this._sqClosestPointOnSegment(k,l,a)},_simplifyDP:function(l,q){var v=l.length,u=typeof Uint8Array!=c+""?Uint8Array:Array,m=new u(v);m[0]=m[v-1]=1,this._simplifyDPStep(l,m,q,0,v-1);var k,p=[];for(k=0;v>k;k++){m[k]&&p.push(l[k])}return p},_simplifyDPStep:function(w,u,p,m,l){var x,v,k,q=0;for(v=m+1;l-1>=v;v++){k=this._sqClosestPointOnSegment(w[v],w[m],w[l],!0),k>q&&(x=v,q=k)}q>p&&(u[x]=1,this._simplifyDPStep(w,u,p,m,x),this._simplifyDPStep(w,u,p,x,l))},_reducePoints:function(k,m){for(var a=[k[0]],q=1,p=0,l=k.length;l>q;q++){this._sqDist(k[q],k[p])>m&&(a.push(k[q]),p=q)}return l-1>p&&a.push(k[l-1]),a},clipSegment:function(w,u,p,m){var l,x,v,k=m?this._lastCode:this._getBitCode(w,p),q=this._getBitCode(u,p);for(this._lastCode=q;;){if(!(k|q)){return[w,u]}if(k&q){return !1}l=k||q,x=this._getEdgeIntersection(w,u,l,p),v=this._getBitCode(x,p),l===k?(w=x,k=v):(u=x,q=v)}},_getEdgeIntersection:function(m,u,l,v){var p=u.x-m.x,k=u.y-m.y,q=v.min,o=v.max;return 8&l?new h.Point(m.x+p*(o.y-m.y)/k,o.y):4&l?new h.Point(m.x+p*(q.y-m.y)/k,q.y):2&l?new h.Point(o.x,m.y+k*(o.x-m.x)/p):1&l?new h.Point(q.x,m.y+k*(q.x-m.x)/p):void 0},_getBitCode:function(k,l){var a=0;return k.x<l.min.x?a|=1:k.x>l.max.x&&(a|=2),k.y<l.min.y?a|=4:k.y>l.max.y&&(a|=8),a},_sqDist:function(k,l){var a=l.x-k.x,m=l.y-k.y;return a*a+m*m},_sqClosestPointOnSegment:function(y,v,p,m){var z,w=v.x,k=v.y,q=p.x-w,o=p.y-k,x=q*q+o*o;return x>0&&(z=((y.x-w)*q+(y.y-k)*o)/x,z>1?(w=p.x,k=p.y):z>0&&(w+=q*z,k+=o*z)),q=y.x-w,o=y.y-k,m?q*q+o*o:new h.Point(w,k)}},h.Polyline=h.Path.extend({initialize:function(a,k){h.Path.prototype.initialize.call(this,k),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,k=this._latlngs.length;k>a;a++){this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])}},getPathString:function(){for(var k=0,l=this._parts.length,a="";l>k;k++){a+=this._getPathPartStr(this._parts[k])}return a},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(h.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(A){for(var v,p,m=1/0,B=this._parts,y=null,k=0,q=B.length;q>k;k++){for(var o=B[k],z=1,x=o.length;x>z;z++){v=o[z-1],p=o[z];var w=h.LineUtil._sqClosestPointOnSegment(A,v,p,!0);m>w&&(m=w,y=h.LineUtil._sqClosestPointOnSegment(A,v,p))}}return y&&(y.distance=Math.sqrt(m)),y},getBounds:function(){return new h.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(k,m){var a,o,l=m?k:[];for(a=0,o=k.length;o>a;a++){if(h.Util.isArray(k[a])&&"number"!=typeof k[a][0]){return}l[a]=h.latLng(k[a])}return l},_initEvents:function(){h.Path.prototype._initEvents.call(this)},_getPathPartStr:function(m){for(var p,l=h.Path.VML,q=0,o=m.length,k="";o>q;q++){p=m[q],l&&p._round(),k+=(q?"L":"M")+p.x+" "+p.y}return k},_clipPoints:function(){var m,u,l,v=this._originalPoints,p=v.length;if(this.options.noClip){return void (this._parts=[v])}this._parts=[];var k=this._parts,q=this._map._pathViewport,o=h.LineUtil;for(m=0,u=0;p-1>m;m++){l=o.clipSegment(v[m],v[m+1],q,m),l&&(k[u]=k[u]||[],k[u].push(l[0]),(l[1]!==v[m+1]||m===p-2)&&(k[u].push(l[1]),u++))}},_simplifyPoints:function(){for(var k=this._parts,l=h.LineUtil,a=0,m=k.length;m>a;a++){k[a]=l.simplify(k[a],this.options.smoothFactor)}},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),h.Path.prototype._updatePath.call(this))}}),h.polyline=function(a,k){return new h.Polyline(a,k)},h.PolyUtil={},h.PolyUtil.clipPolygon=function(C,x){var v,o,D,A,k,w,q,B,z,y=[1,4,2,8],m=h.LineUtil;for(o=0,q=C.length;q>o;o++){C[o]._code=m._getBitCode(C[o],x)}for(A=0;4>A;A++){for(B=y[A],v=[],o=0,q=C.length,D=q-1;q>o;D=o++){k=C[o],w=C[D],k._code&B?w._code&B||(z=m._getEdgeIntersection(w,k,B,x),z._code=m._getBitCode(z,x),v.push(z)):(w._code&B&&(z=m._getEdgeIntersection(w,k,B,x),z._code=m._getBitCode(z,x),v.push(z)),v.push(k))}C=v}return C},h.Polygon=h.Polyline.extend({options:{fill:!0},initialize:function(a,k){h.Polyline.prototype.initialize.call(this,a,k),this._initWithHoles(a)},_initWithHoles:function(k){var l,a,m;if(k&&h.Util.isArray(k[0])&&"number"!=typeof k[0][0]){for(this._latlngs=this._convertLatLngs(k[0]),this._holes=k.slice(1),l=0,a=this._holes.length;a>l;l++){m=this._holes[l]=this._convertLatLngs(this._holes[l]),m[0].equals(m[m.length-1])&&m.pop()}}k=this._latlngs,k.length>=2&&k[0].equals(k[k.length-1])&&k.pop()},projectLatlngs:function(){if(h.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var k,l,a,m;for(k=0,a=this._holes.length;a>k;k++){for(this._holePoints[k]=[],l=0,m=this._holes[k].length;m>l;l++){this._holePoints[k][l]=this._map.latLngToLayerPoint(this._holes[k][l])}}}},setLatLngs:function(a){return a&&h.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):h.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var k=this._originalPoints,m=[];if(this._parts=[k].concat(this._holePoints),!this.options.noClip){for(var a=0,o=this._parts.length;o>a;a++){var l=h.PolyUtil.clipPolygon(this._parts[a],this._map._pathViewport);l.length&&m.push(l)}this._parts=m}},_getPathPartStr:function(a){var k=h.Polyline.prototype._getPathPartStr.call(this,a);return k+(h.Browser.svg?"z":"x")}}),h.polygon=function(a,k){return new h.Polygon(a,k)},function(){function a(e){return h.FeatureGroup.extend({initialize:function(k,l){this._layers={},this._options=l,this.setLatLngs(k)},setLatLngs:function(l){var k=0,m=l.length;for(this.eachLayer(function(n){m>k?n.setLatLngs(l[k++]):this.removeLayer(n)},this);m>k;){this.addLayer(new e(l[k++],this._options))}return this},getLatLngs:function(){var k=[];return this.eachLayer(function(l){k.push(l.getLatLngs())}),k}})}h.MultiPolyline=a(h.Polyline),h.MultiPolygon=a(h.Polygon),h.multiPolyline=function(k,l){return new h.MultiPolyline(k,l)},h.multiPolygon=function(k,l){return new h.MultiPolygon(k,l)}}(),h.Rectangle=h.Polygon.extend({initialize:function(a,k){h.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),k)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=h.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),h.rectangle=function(a,k){return new h.Rectangle(a,k)},h.Circle=h.Path.extend({initialize:function(k,l,a){h.Path.prototype.initialize.call(this,a),this._latlng=h.latLng(k),this._mRadius=l},options:{fill:!0},setLatLng:function(a){return this._latlng=h.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var k=this._getLngRadius(),l=this._latlng,a=this._map.latLngToLayerPoint([l.lat,l.lng-k]);this._point=this._map.latLngToLayerPoint(l),this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var k=this._getLngRadius(),l=this._mRadius/40075017*360,a=this._latlng;return new h.LatLngBounds([a.lat-l,a.lng-k],[a.lat+l,a.lng+k])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,k=this._radius;return this._checkIfEmpty()?"":h.Browser.svg?"M"+a.x+","+(a.y-k)+"A"+k+","+k+",0,1,1,"+(a.x-0.1)+","+(a.y-k)+" z":(a._round(),k=Math.round(k),"AL "+a.x+","+a.y+" "+k+","+k+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(h.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return !1}var k=this._map._pathViewport,l=this._radius,a=this._point;return a.x-l>k.max.x||a.y-l>k.max.y||a.x+l<k.min.x||a.y+l<k.min.y}}),h.circle=function(k,l,a){return new h.Circle(k,l,a)},h.CircleMarker=h.Circle.extend({options:{radius:10,weight:2},initialize:function(a,k){h.Circle.prototype.initialize.call(this,a,null,k),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){h.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){return h.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}}),h.circleMarker=function(a,k){return new h.CircleMarker(a,k)},h.Polyline.include(h.Path.CANVAS?{_containsPoint:function(y,v){var p,m,z,w,k,q,o,x=this.options.weight/2;for(h.Browser.touch&&(x+=10),p=0,w=this._parts.length;w>p;p++){for(o=this._parts[p],m=0,k=o.length,z=k-1;k>m;z=m++){if((v||0!==m)&&(q=h.LineUtil.pointToSegmentDistance(y,o[z],o[m]),x>=q)){return !0}}}return !1}}:{}),h.Polygon.include(h.Path.CANVAS?{_containsPoint:function(y){var v,p,m,z,w,k,q,o,x=!1;if(h.Polyline.prototype._containsPoint.call(this,y,!0)){return !0}for(z=0,q=this._parts.length;q>z;z++){for(v=this._parts[z],w=0,o=v.length,k=o-1;o>w;k=w++){p=v[w],m=v[k],p.y>y.y!=m.y>y.y&&y.x<(m.x-p.x)*(y.y-p.y)/(m.y-p.y)+p.x&&(x=!x)}}return x}}:{}),h.Circle.include(h.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(k){var l=this._point,a=this.options.stroke?this.options.weight/2:0;return k.distanceTo(l)<=this._radius+a}}:{}),h.CircleMarker.include(h.Path.CANVAS?{_updateStyle:function(){h.Path.prototype._updateStyle.call(this)}}:{}),h.GeoJSON=h.FeatureGroup.extend({initialize:function(a,k){h.setOptions(this,k),this._layers={},a&&this.addData(a)},addData:function(m){var q,l,u,o=h.Util.isArray(m)?m:m.features;if(o){for(q=0,l=o.length;l>q;q++){u=o[q],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(o[q])}return this}var k=this.options;if(!k.filter||k.filter(m)){var p=h.GeoJSON.geometryToLayer(m,k.pointToLayer,k.coordsToLatLng,k);return p.feature=h.GeoJSON.asFeature(m),p.defaultOptions=p.options,this.resetStyle(p),k.onEachFeature&&k.onEachFeature(m,p),this.addLayer(p)}},resetStyle:function(a){var k=this.options.style;k&&(h.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,k))},setStyle:function(a){this.eachLayer(function(k){this._setLayerStyle(k,a)},this)},_setLayerStyle:function(a,k){"function"==typeof k&&(k=k(a.feature)),a.setStyle&&a.setStyle(k)}}),h.extend(h.GeoJSON,{geometryToLayer:function(z,v,p,m){var A,x,k,q,o="Feature"===z.type?z.geometry:z,y=o.coordinates,w=[];switch(p=p||this.coordsToLatLng,o.type){case"Point":return A=p(y),v?v(z,A):new h.Marker(A);case"MultiPoint":for(k=0,q=y.length;q>k;k++){A=p(y[k]),w.push(v?v(z,A):new h.Marker(A))}return new h.FeatureGroup(w);case"LineString":return x=this.coordsToLatLngs(y,0,p),new h.Polyline(x,m);case"Polygon":if(2===y.length&&!y[1].length){throw new Error("Invalid GeoJSON object.")}return x=this.coordsToLatLngs(y,1,p),new h.Polygon(x,m);case"MultiLineString":return x=this.coordsToLatLngs(y,1,p),new h.MultiPolyline(x,m);case"MultiPolygon":return x=this.coordsToLatLngs(y,2,p),new h.MultiPolygon(x,m);case"GeometryCollection":for(k=0,q=o.geometries.length;q>k;k++){w.push(this.geometryToLayer({geometry:o.geometries[k],type:"Feature",properties:z.properties},v,p,m))}return new h.FeatureGroup(w);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new h.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(m,q,l){var u,r,p,k=[];for(r=0,p=m.length;p>r;r++){u=q?this.coordsToLatLngs(m[r],q-1,l):(l||this.coordsToLatLng)(m[r]),k.push(u)}return k},latLngToCoords:function(a){var k=[a.lng,a.lat];return a.alt!==c&&k.push(a.alt),k},latLngsToCoords:function(k){for(var l=[],a=0,m=k.length;m>a;a++){l.push(h.GeoJSON.latLngToCoords(k[a]))}return l},getFeature:function(a,k){return a.feature?h.extend({},a.feature,{geometry:k}):h.GeoJSON.asFeature(k)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var b={toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"Point",coordinates:h.GeoJSON.latLngToCoords(this.getLatLng())})}};h.Marker.include(b),h.Circle.include(b),h.CircleMarker.include(b),h.Polyline.include({toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"LineString",coordinates:h.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),h.Polygon.include({toGeoJSON:function(){var k,l,a,m=[h.GeoJSON.latLngsToCoords(this.getLatLngs())];if(m[0].push(m[0][0]),this._holes){for(k=0,l=this._holes.length;l>k;k++){a=h.GeoJSON.latLngsToCoords(this._holes[k]),a.push(a[0]),m.push(a)}}return h.GeoJSON.getFeature(this,{type:"Polygon",coordinates:m})}}),function(){function a(e){return function(){var k=[];return this.eachLayer(function(l){k.push(l.toGeoJSON().geometry.coordinates)}),h.GeoJSON.getFeature(this,{type:e,coordinates:k})}}h.MultiPolyline.include({toGeoJSON:a("MultiLineString")}),h.MultiPolygon.include({toGeoJSON:a("MultiPolygon")}),h.LayerGroup.include({toGeoJSON:function(){var m,k=this.feature&&this.feature.geometry,o=[];if(k&&"MultiPoint"===k.type){return a("MultiPoint").call(this)}var l=k&&"GeometryCollection"===k.type;return this.eachLayer(function(e){e.toGeoJSON&&(m=e.toGeoJSON(),o.push(l?m.geometry:h.GeoJSON.asFeature(m)))}),l?h.GeoJSON.getFeature(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}})}(),h.geoJson=function(a,k){return new h.GeoJSON(a,k)},h.DomEvent={addListener:function(w,u,p,m){var x,v,k,q=h.stamp(p),o="_leaflet_"+u+q;return w[o]?this:(x=function(a){return p.call(m||w,a||h.DomEvent._getEvent())},h.Browser.pointer&&0===u.indexOf("touch")?this.addPointerListener(w,u,x,q):(h.Browser.touch&&"dblclick"===u&&this.addDoubleTapListener&&this.addDoubleTapListener(w,x,q),"addEventListener" in w?"mousewheel"===u?(w.addEventListener("DOMMouseScroll",x,!1),w.addEventListener(u,x,!1)):"mouseenter"===u||"mouseleave"===u?(v=x,k="mouseenter"===u?"mouseover":"mouseout",x=function(a){return h.DomEvent._checkMouse(w,a)?v(a):void 0},w.addEventListener(k,x,!1)):"click"===u&&h.Browser.android?(v=x,x=function(a){return h.DomEvent._filterClick(a,v)},w.addEventListener(u,x,!1)):w.addEventListener(u,x,!1):"attachEvent" in w&&w.attachEvent("on"+u,x),w[o]=x,this))},removeListener:function(m,p,l){var q=h.stamp(l),o="_leaflet_"+p+q,k=m[o];return k?(h.Browser.pointer&&0===p.indexOf("touch")?this.removePointerListener(m,p,q):h.Browser.touch&&"dblclick"===p&&this.removeDoubleTapListener?this.removeDoubleTapListener(m,q):"removeEventListener" in m?"mousewheel"===p?(m.removeEventListener("DOMMouseScroll",k,!1),m.removeEventListener(p,k,!1)):"mouseenter"===p||"mouseleave"===p?m.removeEventListener("mouseenter"===p?"mouseover":"mouseout",k,!1):m.removeEventListener(p,k,!1):"detachEvent" in m&&m.detachEvent("on"+p,k),m[o]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,h.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var k=h.DomEvent.stopPropagation;return h.DomEvent.on(a,"mousewheel",k).on(a,"MozMousePixelScroll",k)},disableClickPropagation:function(k){for(var l=h.DomEvent.stopPropagation,a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.on(k,h.Draggable.START[a],l)}return h.DomEvent.on(k,"click",h.DomEvent._fakeStop).on(k,"dblclick",l)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return h.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(k,l){if(!l){return new h.Point(k.clientX,k.clientY)}var a=l.getBoundingClientRect();return new h.Point(k.clientX-a.left-l.clientLeft,k.clientY-a.top-l.clientTop)},getWheelDelta:function(a){var k=0;return a.wheelDelta&&(k=a.wheelDelta/120),a.detail&&(k=-a.detail/3),k},_skipEvents:{},_fakeStop:function(a){h.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var k=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,k},_checkMouse:function(k,l){var a=l.relatedTarget;if(!a){return !0}try{for(;a&&a!==k;){a=a.parentNode}}catch(m){return !1}return a!==k},_getEvent:function(){var k=d.event;if(!k){for(var a=arguments.callee.caller;a&&(k=a.arguments[0],!k||d.Event!==k.constructor);){a=a.caller}}return k},_filterClick:function(k,l){var a=k.timeStamp||k.originalEvent.timeStamp,m=h.DomEvent._lastClick&&a-h.DomEvent._lastClick;return m&&m>100&&1000>m||k.target._simulatedClick&&!k._simulated?void h.DomEvent.stop(k):(h.DomEvent._lastClick=a,l(k))}},h.DomEvent.on=h.DomEvent.addListener,h.DomEvent.off=h.DomEvent.removeListener,h.Draggable=h.Class.extend({includes:h.Mixin.Events,statics:{START:h.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,k){this._element=a,this._dragStartTarget=k||a},enable:function(){if(!this._enabled){for(var a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.on(this._dragStartTarget,h.Draggable.START[a],this._onDown,this)}this._enabled=!0}},disable:function(){if(this._enabled){for(var a=h.Draggable.START.length-1;a>=0;a--){h.DomEvent.off(this._dragStartTarget,h.Draggable.START[a],this._onDown,this)}this._enabled=!1,this._moved=!1}},_onDown:function(e){if(this._moved=!1,!(e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(h.DomEvent.stopPropagation(e),h.Draggable._disabled||(h.DomUtil.disableImageDrag(),h.DomUtil.disableTextSelection(),this._moving)))){var a=e.touches?e.touches[0]:e;this._startPoint=new h.Point(a.clientX,a.clientY),this._startPos=this._newPos=h.DomUtil.getPosition(this._element),h.DomEvent.on(g,h.Draggable.MOVE[e.type],this._onMove,this).on(g,h.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(e.touches&&e.touches.length>1){return void (this._moved=!0)}var a=e.touches&&1===e.touches.length?e.touches[0]:e,l=new h.Point(a.clientX,a.clientY),k=l.subtract(this._startPoint);(k.x||k.y)&&(h.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=h.DomUtil.getPosition(this._element).subtract(k),h.DomUtil.addClass(g.body,"leaflet-dragging"),h.DomUtil.addClass(e.target||e.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag"),h.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(e){h.DomUtil.removeClass(g.body,"leaflet-dragging"),h.DomUtil.removeClass(e.target||e.srcElement,"leaflet-drag-target");for(var a in h.Draggable.MOVE){h.DomEvent.off(g,h.Draggable.MOVE[a],this._onMove).off(g,h.Draggable.END[a],this._onUp)}h.DomUtil.enableImageDrag(),h.DomUtil.enableTextSelection(),this._moved&&this._moving&&(h.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),h.Handler=h.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return !!this._enabled}}),h.Map.mergeOptions({dragging:!0,inertia:!h.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:h.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1}),h.Map.Drag=h.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new h.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,k=this._lastPos=this._draggable._newPos;this._positions.push(k),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),k=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=k.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var m=this._worldWidth,q=Math.round(m/2),l=this._initialWorldOffset,u=this._draggable._newPos.x,r=(u-q+l)%m+q-l,p=(u+q+l)%m-q-l,k=Math.abs(r+l)<Math.abs(p+l)?r:p;this._draggable._newPos.x=k},_onDragEnd:function(D){var x=this._map,v=x.options,o=+new Date-this._lastTime,E=!v.inertia||o>v.inertiaThreshold||!this._positions[0];if(x.fire("dragend",D),E){x.fire("moveend")}else{var A=this._lastPos.subtract(this._positions[0]),k=(this._lastTime+o-this._times[0])/1000,w=v.easeLinearity,q=A.multiplyBy(w/k),C=q.distanceTo([0,0]),z=Math.min(v.inertiaMaxSpeed,C),y=q.multiplyBy(z/C),m=z/(v.inertiaDeceleration*w),B=y.multiplyBy(-m/2).round();B.x&&B.y?(B=x._limitOffset(B,x.options.maxBounds),h.Util.requestAnimFrame(function(){x.panBy(B,{duration:m,easeLinearity:w,noMoveStart:!0})})):x.fire("moveend")}}}),h.Map.addInitHook("addHandler","dragging",h.Map.Drag),h.Map.mergeOptions({doubleClickZoom:!0}),h.Map.DoubleClickZoom=h.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(k){var l=this._map,a=l.getZoom()+(k.originalEvent.shiftKey?-1:1);"center"===l.options.doubleClickZoom?l.setZoom(a):l.setZoomAround(k.containerPoint,a)}}),h.Map.addInitHook("addHandler","doubleClickZoom",h.Map.DoubleClickZoom),h.Map.mergeOptions({scrollWheelZoom:!0}),h.Map.ScrollWheelZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),h.DomEvent.on(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault),this._delta=0},removeHooks:function(){h.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),h.DomEvent.off(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault)},_onWheelScroll:function(k){var l=h.DomEvent.getWheelDelta(k);this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(k),this._startTime||(this._startTime=+new Date);var a=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h.bind(this._performZoom,this),a),h.DomEvent.preventDefault(k),h.DomEvent.stopPropagation(k)},_performZoom:function(){var k=this._map,l=this._delta,a=k.getZoom();l=l>0?Math.ceil(l):Math.floor(l),l=Math.max(Math.min(l,4),-4),l=k._limitZoom(a+l)-a,this._delta=0,this._startTime=null,l&&("center"===k.options.scrollWheelZoom?k.setZoom(a+l):k.setZoomAround(this._lastMousePos,a+l))}}),h.Map.addInitHook("addHandler","scrollWheelZoom",h.Map.ScrollWheelZoom),h.extend(h.DomEvent,{_touchstart:h.Browser.msPointer?"MSPointerDown":h.Browser.pointer?"pointerdown":"touchstart",_touchend:h.Browser.msPointer?"MSPointerUp":h.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(D,w,o){function E(l){var m;if(h.Browser.pointer?(B.push(l.pointerId),m=B.length):m=l.touches.length,!(m>1)){var a=Date.now(),p=a-(e||a);x=l.touches?l.touches[0]:l,v=p>0&&C>=p,e=a}}function A(m){if(h.Browser.pointer){var r=B.indexOf(m.pointerId);if(-1===r){return}B.splice(r,1)}if(v){if(h.Browser.pointer){var u,p={};for(var l in x){u=x[l],p[l]="function"==typeof u?u.bind(x):u}x=p}x.type="dblclick",w(x),e=null}}var e,x,v=!1,C=250,z="_leaflet_",y=this._touchstart,k=this._touchend,B=[];D[z+y+o]=E,D[z+k+o]=A;var q=h.Browser.pointer?g.documentElement:D;return D.addEventListener(y,E,!1),q.addEventListener(k,A,!1),h.Browser.pointer&&q.addEventListener(h.DomEvent.POINTER_CANCEL,A,!1),this},removeDoubleTapListener:function(e,a){var k="_leaflet_";return e.removeEventListener(this._touchstart,e[k+this._touchstart+a],!1),(h.Browser.pointer?g.documentElement:e).removeEventListener(this._touchend,e[k+this._touchend+a],!1),h.Browser.pointer&&g.documentElement.removeEventListener(h.DomEvent.POINTER_CANCEL,e[k+this._touchend+a],!1),this}}),h.extend(h.DomEvent,{POINTER_DOWN:h.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:h.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:h.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:h.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(k,l,a,m){switch(l){case"touchstart":return this.addPointerListenerStart(k,l,a,m);case"touchend":return this.addPointerListenerEnd(k,l,a,m);case"touchmove":return this.addPointerListenerMove(k,l,a,m);default:throw"Unknown touch event type"}},addPointerListenerStart:function(o,m,v,q){var k="_leaflet_",u=this._pointers,p=function(l){h.DomEvent.preventDefault(l);for(var n=!1,a=0;a<u.length;a++){if(u[a].pointerId===l.pointerId){n=!0;break}}n||u.push(l),l.touches=u.slice(),l.changedTouches=[l],v(l)};if(o[k+"touchstart"+q]=p,o.addEventListener(this.POINTER_DOWN,p,!1),!this._pointerDocumentListener){var e=function(a){for(var l=0;l<u.length;l++){if(u[l].pointerId===a.pointerId){u.splice(l,1);break}}};g.documentElement.addEventListener(this.POINTER_UP,e,!1),g.documentElement.addEventListener(this.POINTER_CANCEL,e,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(m,q,l,u){function r(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var n=0;n<k.length;n++){if(k[n].pointerId===a.pointerId){k[n]=a;break}}a.touches=k.slice(),a.changedTouches=[a],l(a)}}var p="_leaflet_",k=this._pointers;return m[p+"touchmove"+u]=r,m.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(m,q,l,u){var r="_leaflet_",p=this._pointers,k=function(a){for(var n=0;n<p.length;n++){if(p[n].pointerId===a.pointerId){p.splice(n,1);break}}a.touches=p.slice(),a.changedTouches=[a],l(a)};return m[r+"touchend"+u]=k,m.addEventListener(this.POINTER_UP,k,!1),m.addEventListener(this.POINTER_CANCEL,k,!1),this},removePointerListener:function(k,l,a){var p="_leaflet_",m=k[p+l+a];switch(l){case"touchstart":k.removeEventListener(this.POINTER_DOWN,m,!1);break;case"touchmove":k.removeEventListener(this.POINTER_MOVE,m,!1);break;case"touchend":k.removeEventListener(this.POINTER_UP,m,!1),k.removeEventListener(this.POINTER_CANCEL,m,!1)}return this}}),h.Map.mergeOptions({touchZoom:h.Browser.touch&&!h.Browser.android23,bounceAtZoomLimits:!0}),h.Map.TouchZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var k=this._map;if(l.touches&&2===l.touches.length&&!k._animatingZoom&&!this._zooming){var o=k.mouseEventToLayerPoint(l.touches[0]),m=k.mouseEventToLayerPoint(l.touches[1]),e=k._getCenterLayerPoint();this._startCenter=o.add(m)._divideBy(2),this._startDist=o.distanceTo(m),this._moved=!1,this._zooming=!0,this._centerOffset=e.subtract(this._startCenter),k._panAnim&&k._panAnim.stop(),h.DomEvent.on(g,"touchmove",this._onTouchMove,this).on(g,"touchend",this._onTouchEnd,this),h.DomEvent.preventDefault(l)}},_onTouchMove:function(k){var l=this._map;if(k.touches&&2===k.touches.length&&this._zooming){var a=l.mouseEventToLayerPoint(k.touches[0]),m=l.mouseEventToLayerPoint(k.touches[1]);this._scale=a.distanceTo(m)/this._startDist,this._delta=a._add(m)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(l.options.bounceAtZoomLimits||!(l.getZoom()===l.getMinZoom()&&this._scale<1||l.getZoom()===l.getMaxZoom()&&this._scale>1))&&(this._moved||(h.DomUtil.addClass(l._mapPane,"leaflet-touching"),l.fire("movestart").fire("zoomstart"),this._moved=!0),h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),h.DomEvent.preventDefault(k))}},_updateOnMove:function(){var k=this._map,l=this._getScaleOrigin(),a=k.layerPointToLatLng(l),m=k.getScaleZoom(this._scale);k._animateZoom(a,m,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){return void (this._zooming=!1)}var o=this._map;this._zooming=!1,h.DomUtil.removeClass(o._mapPane,"leaflet-touching"),h.Util.cancelAnimFrame(this._animRequest),h.DomEvent.off(g,"touchmove",this._onTouchMove).off(g,"touchend",this._onTouchEnd);var m=this._getScaleOrigin(),v=o.layerPointToLatLng(m),q=o.getZoom(),k=o.getScaleZoom(this._scale)-q,u=k>0?Math.ceil(k):Math.floor(k),p=o._limitZoom(q+u),e=o.getZoomScale(p)/this._scale;o._animateZoom(v,p,m,e)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),h.Map.addInitHook("addHandler","touchZoom",h.Map.TouchZoom),h.Map.mergeOptions({tap:!0,tapTolerance:15}),h.Map.Tap=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(h.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1){return this._fireClick=!1,void clearTimeout(this._holdTimeout)}var a=e.touches[0],k=a.target;this._startPos=this._newPos=new h.Point(a.clientX,a.clientY),k.tagName&&"a"===k.tagName.toLowerCase()&&h.DomUtil.addClass(k,"leaflet-active"),this._holdTimeout=setTimeout(h.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1000),h.DomEvent.on(g,"touchmove",this._onMove,this).on(g,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),h.DomEvent.off(g,"touchmove",this._onMove,this).off(g,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var a=e.changedTouches[0],k=a.target;k&&k.tagName&&"a"===k.tagName.toLowerCase()&&h.DomUtil.removeClass(k,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var k=a.touches[0];this._newPos=new h.Point(k.clientX,k.clientY)},_simulateEvent:function(a,k){var e=g.createEvent("MouseEvents");e._simulated=!0,k.target._simulatedClick=!0,e.initMouseEvent(a,!0,!0,d,1,k.screenX,k.screenY,k.clientX,k.clientY,!1,!1,!1,!1,0,null),k.target.dispatchEvent(e)}}),h.Browser.touch&&!h.Browser.pointer&&h.Map.addInitHook("addHandler","tap",h.Map.Tap),h.Map.mergeOptions({boxZoom:!0}),h.Map.BoxZoom=h.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){h.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){h.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(h.DomUtil.disableTextSelection(),h.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),void h.DomEvent.on(g,"mousemove",this._onMouseMove,this).on(g,"mouseup",this._onMouseUp,this).on(g,"keydown",this._onKeyDown,this))},_onMouseMove:function(m){this._moved||(this._box=h.DomUtil.create("div","leaflet-zoom-box",this._pane),h.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var p=this._startLayerPoint,l=this._box,q=this._map.mouseEventToLayerPoint(m),o=q.subtract(p),k=new h.Point(Math.min(q.x,p.x),Math.min(q.y,p.y));h.DomUtil.setPosition(l,k),this._moved=!0,l.style.width=Math.max(0,Math.abs(o.x)-4)+"px",l.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),h.DomUtil.enableTextSelection(),h.DomUtil.enableImageDrag(),h.DomEvent.off(g,"mousemove",this._onMouseMove).off(g,"mouseup",this._onMouseUp).off(g,"keydown",this._onKeyDown)},_onMouseUp:function(k){this._finish();var l=this._map,a=l.mouseEventToLayerPoint(k);if(!this._startLayerPoint.equals(a)){var m=new h.LatLngBounds(l.layerPointToLatLng(this._startLayerPoint),l.layerPointToLatLng(a));l.fitBounds(m),l.fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),h.Map.addInitHook("addHandler","boxZoom",h.Map.BoxZoom),h.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),h.Map.Keyboard=h.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),h.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;h.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=g.body,l=g.documentElement,k=a.scrollTop||l.scrollTop,e=a.scrollLeft||l.scrollLeft;this._map._container.focus(),d.scrollTo(e,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(k){var l,a,p=this._panKeys={},m=this.keyCodes;for(l=0,a=m.left.length;a>l;l++){p[m.left[l]]=[-1*k,0]}for(l=0,a=m.right.length;a>l;l++){p[m.right[l]]=[k,0]}for(l=0,a=m.down.length;a>l;l++){p[m.down[l]]=[0,k]}for(l=0,a=m.up.length;a>l;l++){p[m.up[l]]=[0,-1*k]}},_setZoomOffset:function(k){var l,a,p=this._zoomKeys={},m=this.keyCodes;for(l=0,a=m.zoomIn.length;a>l;l++){p[m.zoomIn[l]]=k}for(l=0,a=m.zoomOut.length;a>l;l++){p[m.zoomOut[l]]=-k}},_addHooks:function(){h.DomEvent.on(g,"keydown",this._onKeyDown,this)},_removeHooks:function(){h.DomEvent.off(g,"keydown",this._onKeyDown,this)},_onKeyDown:function(k){var l=k.keyCode,a=this._map;if(l in this._panKeys){if(a._panAnim&&a._panAnim._inProgress){return}a.panBy(this._panKeys[l]),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds)}else{if(!(l in this._zoomKeys)){return}a.setZoom(a.getZoom()+this._zoomKeys[l])}h.DomEvent.stop(k)}}),h.Map.addInitHook("addHandler","keyboard",h.Map.Keyboard),h.Handler.MarkerDrag=h.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new h.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),h.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),h.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var k=this._marker,l=k._shadow,a=h.DomUtil.getPosition(k._icon),m=k._map.layerPointToLatLng(a);l&&h.DomUtil.setPosition(l,a),k._latlng=m,k.fire("move",{latlng:m}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),h.Control=h.Class.extend({options:{position:"topright"},initialize:function(a){h.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var k=this._map;return k&&k.removeControl(this),this.options.position=a,k&&k.addControl(this),this},getContainer:function(){return this._container},addTo:function(k){this._map=k;var l=this._container=this.onAdd(k),a=this.getPosition(),m=k._controlCorners[a];return h.DomUtil.addClass(l,"leaflet-control"),-1!==a.indexOf("bottom")?m.insertBefore(l,m.firstChild):m.appendChild(l),this},removeFrom:function(k){var l=this.getPosition(),a=k._controlCorners[l];return a.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(k),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),h.control=function(a){return new h.Control(a)},h.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function k(n,o){var e=a+n+" "+a+o;l[n+o]=h.DomUtil.create("div",e,m)}var l=this._controlCorners={},a="leaflet-",m=this._controlContainer=h.DomUtil.create("div",a+"control-container",this._container);k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),h.Control.Zoom=h.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(k){var l="leaflet-control-zoom",a=h.DomUtil.create("div",l+" leaflet-bar");return this._map=k,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,l+"-in",a,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,l+"-out",a,this._zoomOut,this),this._updateDisabled(),k.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(m,u,l,v,p,k){var q=h.DomUtil.create("a",l,v);q.innerHTML=m,q.href="#",q.title=u;var o=h.DomEvent.stopPropagation;return h.DomEvent.on(q,"click",o).on(q,"mousedown",o).on(q,"dblclick",o).on(q,"click",h.DomEvent.preventDefault).on(q,"click",p,k).on(q,"click",this._refocusOnMap,k),q},_updateDisabled:function(){var a=this._map,k="leaflet-disabled";h.DomUtil.removeClass(this._zoomInButton,k),h.DomUtil.removeClass(this._zoomOutButton,k),a._zoom===a.getMinZoom()&&h.DomUtil.addClass(this._zoomOutButton,k),a._zoom===a.getMaxZoom()&&h.DomUtil.addClass(this._zoomInButton,k)}}),h.Map.mergeOptions({zoomControl:!0}),h.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new h.Control.Zoom,this.addControl(this.zoomControl))}),h.control.zoom=function(a){return new h.Control.Zoom(a)},h.Control.Attribution=h.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){h.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=h.DomUtil.create("div","leaflet-control-attribution"),h.DomEvent.disableClickPropagation(this._container);for(var k in a._layers){a._layers[k].getAttribution&&this.addAttribution(a._layers[k].getAttribution())}return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var k=[];for(var l in this._attributions){this._attributions[l]&&k.push(l)}var a=[];this.options.prefix&&a.push(this.options.prefix),k.length&&a.push(k.join(", ")),this._container.innerHTML=a.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),h.Map.mergeOptions({attributionControl:!0}),h.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new h.Control.Attribution).addTo(this))}),h.control.attribution=function(a){return new h.Control.Attribution(a)},h.Control.Scale=h.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(k){this._map=k;var l="leaflet-control-scale",a=h.DomUtil.create("div",l),m=this.options;return this._addScales(m,l,a),k.on(m.updateWhenIdle?"moveend":"move",this._update,this),k.whenReady(this._update,this),a},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(k,l,a){k.metric&&(this._mScale=h.DomUtil.create("div",l+"-line",a)),k.imperial&&(this._iScale=h.DomUtil.create("div",l+"-line",a))},_update:function(){var m=this._map.getBounds(),q=m.getCenter().lat,l=6378137*Math.PI*Math.cos(q*Math.PI/180),u=l*(m.getNorthEast().lng-m.getSouthWest().lng)/180,r=this._map.getSize(),p=this.options,k=0;r.x>0&&(k=u*(p.maxWidth/r.x)),this._updateScales(p,k)},_updateScales:function(a,k){a.metric&&k&&this._updateMetric(k),a.imperial&&k&&this._updateImperial(k)},_updateMetric:function(a){var k=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(k/a)+"px",this._mScale.innerHTML=1000>k?k+" m":k/1000+" km"},_updateImperial:function(k){var m,a,q,p=3.2808399*k,l=this._iScale;p>5280?(m=p/5280,a=this._getRoundNum(m),l.style.width=this._getScaleWidth(a/m)+"px",l.innerHTML=a+" mi"):(q=this._getRoundNum(p),l.style.width=this._getScaleWidth(q/p)+"px",l.innerHTML=q+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(k){var l=Math.pow(10,(Math.floor(k)+"").length-1),a=k/l;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,l*a}}),h.control.scale=function(a){return new h.Control.Scale(a)},h.Control.Layers=h.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(k,l,a){h.setOptions(this,a),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var m in k){this._addLayer(k[m],m)}for(m in l){this._addLayer(l[m],m,!0)}},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,k){return this._addLayer(a,k),this._update(),this},addOverlay:function(a,k){return this._addLayer(a,k,!0),this._update(),this},removeLayer:function(a){var k=h.stamp(a);return delete this._layers[k],this._update(),this},_initLayout:function(){var k="leaflet-control-layers",l=this._container=h.DomUtil.create("div",k);l.setAttribute("aria-haspopup",!0),h.Browser.touch?h.DomEvent.on(l,"click",h.DomEvent.stopPropagation):h.DomEvent.disableClickPropagation(l).disableScrollPropagation(l);var a=this._form=h.DomUtil.create("form",k+"-list");if(this.options.collapsed){h.Browser.android||h.DomEvent.on(l,"mouseover",this._expand,this).on(l,"mouseout",this._collapse,this);var m=this._layersLink=h.DomUtil.create("a",k+"-toggle",l);m.href="#",m.title="Layers",h.Browser.touch?h.DomEvent.on(m,"click",h.DomEvent.stop).on(m,"click",this._expand,this):h.DomEvent.on(m,"focus",this._expand,this),h.DomEvent.on(a,"click",function(){setTimeout(h.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else{this._expand()}this._baseLayersList=h.DomUtil.create("div",k+"-base",a),this._separator=h.DomUtil.create("div",k+"-separator",a),this._overlaysList=h.DomUtil.create("div",k+"-overlays",a),l.appendChild(a)},_addLayer:function(k,l,a){var m=h.stamp(k);this._layers[m]={layer:k,name:l,overlay:a},this.options.autoZIndex&&k.setZIndex&&(this._lastZIndex++,k.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var k,l,a=!1,m=!1;for(k in this._layers){l=this._layers[k],this._addItem(l),m=m||l.overlay,a=a||!l.overlay}this._separator.style.display=m&&a?"":"none"}},_onLayerChange:function(k){var l=this._layers[h.stamp(k.layer)];if(l){this._handlingClick||this._update();var a=l.overlay?"layeradd"===k.type?"overlayadd":"overlayremove":"layeradd"===k.type?"baselayerchange":null;a&&this._map.fire(a,l)}},_createRadioElement:function(e,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';a&&(l+=' checked="checked"'),l+="/>";var k=g.createElement("div");return k.innerHTML=l,k.firstChild},_addItem:function(l){var k,p=g.createElement("label"),m=this._map.hasLayer(l.layer);l.overlay?(k=g.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=m):k=this._createRadioElement("leaflet-base-layers",m),k.layerId=h.stamp(l.layer),h.DomEvent.on(k,"click",this._onInputClick,this);var e=g.createElement("span");e.innerHTML=" "+l.name,p.appendChild(k),p.appendChild(e);var o=l.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(p),p},_onInputClick:function(){var k,l,a,p=this._form.getElementsByTagName("input"),m=p.length;for(this._handlingClick=!0,k=0;m>k;k++){l=p[k],a=this._layers[l.layerId],l.checked&&!this._map.hasLayer(a.layer)?this._map.addLayer(a.layer):!l.checked&&this._map.hasLayer(a.layer)&&this._map.removeLayer(a.layer)}this._handlingClick=!1,this._refocusOnMap()},_expand:function(){h.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),h.control.layers=function(k,l,a){return new h.Control.Layers(k,l,a)},h.PosAnimation=h.Class.extend({includes:h.Mixin.Events,run:function(k,l,a,m){this.stop(),this._el=k,this._inProgress=!0,this._newPos=l,this.fire("start"),k.style[h.DomUtil.TRANSITION]="all "+(a||0.25)+"s cubic-bezier(0,0,"+(m||0.5)+",1)",h.DomEvent.on(k,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),h.DomUtil.setPosition(k,l),h.Util.falseFn(k.offsetWidth),this._stepTimer=setInterval(h.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(h.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),h.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var o,l,p,m=this._el,k=d.getComputedStyle(m);if(h.Browser.any3d){if(p=k[h.DomUtil.TRANSFORM].match(this._transformRe),!p){return}o=parseFloat(p[1]),l=parseFloat(p[2])}else{o=parseFloat(k.left),l=parseFloat(k.top)}return new h.Point(o,l,!0)},_onTransitionEnd:function(){h.DomEvent.off(this._el,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[h.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),h.Map.include({setView:function(a,l,m){if(l=l===c?this._zoom:this._limitZoom(l),a=this._limitCenter(h.latLng(a),l,this.options.maxBounds),m=m||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==c&&(m.zoom=h.extend({animate:m.animate},m.zoom),m.pan=h.extend({animate:m.animate},m.pan));var k=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,l,m.zoom):this._tryAnimatedPan(a,m.pan);if(k){return clearTimeout(this._sizeTimer),this}}return this._resetView(a,l),this},panBy:function(k,l){if(k=h.point(k).round(),l=l||{},!k.x&&!k.y){return this}if(this._panAnim||(this._panAnim=new h.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){h.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(k);this._panAnim.run(this._mapPane,a,l.duration||0.25,l.easeLinearity)}else{this._rawPanBy(k),this.fire("move").fire("moveend")}return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){h.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(k,l){var a=this._getCenterOffset(k)._floor();return(l&&l.animate)===!0||this.getSize().contains(a)?(this.panBy(a,l),!0):!1}}),h.PosAnimation=h.DomUtil.TRANSITION?h.PosAnimation:h.PosAnimation.extend({run:function(k,l,a,m){this.stop(),this._el=k,this._inProgress=!0,this._duration=a||0.25,this._easeOutPower=1/Math.max(m||0.5,0.2),this._startPos=h.DomUtil.getPosition(k),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=h.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,k=1000*this._duration;k>a?this._runFrame(this._easeOut(a/k)):(this._runFrame(1),this._complete())},_runFrame:function(a){var k=this._startPos.add(this._offset.multiplyBy(a));h.DomUtil.setPosition(this._el,k),this.fire("step")},_complete:function(){h.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),h.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),h.DomUtil.TRANSITION&&h.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&h.DomUtil.TRANSITION&&h.Browser.any3d&&!h.Browser.android23&&!h.Browser.mobileOpera,this._zoomAnimated&&h.DomEvent.on(this._mapPane,h.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),h.Map.include(h.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(k,m,a){if(this._animatingZoom){return !0}if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold){return !1}var q=this.getZoomScale(m),p=this._getCenterOffset(k)._divideBy(1-1/q),l=this._getCenterLayerPoint()._add(p);return a.animate===!0||this.getSize().contains(p)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(k,m,l,q,null,!0),!0):!1},_animateZoom:function(m,p,l,q,o,k){this._animatingZoom=!0,h.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=m,this._animateToZoom=p,h.Draggable&&(h.Draggable._disabled=!0),this.fire("zoomanim",{center:m,zoom:p,origin:l,scale:q,delta:o,backwards:k})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,h.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),h.Draggable&&(h.Draggable._disabled=!1)}}:{}),h.TileLayer.include({_animateZoom:function(k){this._animating||(this._animating=!0,this._prepareBgBuffer());var m=this._bgBuffer,a=h.DomUtil.TRANSFORM,o=k.delta?h.DomUtil.getTranslateString(k.delta):m.style[a],l=h.DomUtil.getScaleString(k.scale,k.origin);m.style[a]=k.backwards?l+" "+o:o+" "+l},_endZoomAnim:function(){var a=this._tileContainer,k=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),h.Util.falseFn(k.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[h.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var k=this._tileContainer,l=this._bgBuffer,a=this._getLoadedTilesPercentage(l),m=this._getLoadedTilesPercentage(k);return l&&a>0.5&&0.5>m?(k.style.visibility="hidden",void this._stopLoadingImages(k)):(l.style.visibility="hidden",l.style[h.DomUtil.TRANSFORM]="",this._tileContainer=l,l=this._bgBuffer=k,this._stopLoadingImages(l),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(k){var l,a,p=k.getElementsByTagName("img"),m=0;for(l=0,a=p.length;a>l;l++){p[l].complete&&m++}return m/a},_stopLoadingImages:function(k){var m,a,o,l=Array.prototype.slice.call(k.getElementsByTagName("img"));for(m=0,a=l.length;a>m;m++){o=l[m],o.complete||(o.onload=h.Util.falseFn,o.onerror=h.Util.falseFn,o.src=h.Util.emptyImageUrl,o.parentNode.removeChild(o))}}}),h.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:10000,maximumAge:0,enableHighAccuracy:!1},locate:function(k){if(k=this._locateOptions=h.extend(this._defaultLocateOptions,k),!navigator.geolocation){return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this}var l=h.bind(this._handleGeolocationResponse,this),a=h.bind(this._handleGeolocationError,this);return k.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,a,k):navigator.geolocation.getCurrentPosition(l,a,k),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(k){var l=k.code,a=k.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(z){var v=z.coords.latitude,p=z.coords.longitude,m=new h.LatLng(v,p),A=180*z.coords.accuracy/40075017,x=A/Math.cos(h.LatLng.DEG_TO_RAD*v),k=h.latLngBounds([v-A,p-x],[v+A,p+x]),q=this._locateOptions;if(q.setView){var o=Math.min(this.getBoundsZoom(k),q.maxZoom);this.setView(m,o)}var y={latlng:m,bounds:k,timestamp:z.timestamp};for(var w in z.coords){"number"==typeof z.coords[w]&&(y[w]=z.coords[w])}this.fire("locationfound",y)}})}(window,document);var RunalyzeLeaflet=(function(f){var k={};var c="";var h=false;var e=null;var m={visible:{layers:true,scale:true},layer:"OpenStreetMap"};var d={scrollWheelZoom:false};var j={layers:null,scale:L.control.scale({imperial:false})};function g(){k.Layers=k.getNewLayers();j.layers=L.control.layers(k.Layers)}function l(n){d=f.extend({},d,n)}function b(){if(m.visible.layers&&j.layers){j.layers.addTo(k.map())}if(m.visible.scale&&j.scale){j.scale.addTo(k.map())}f('<a class="leaflet-control-zoom-full" href="javascript:RunalyzeLeaflet.toggleFullscreen();" title="Fullscreen"><i class="fa fa-expand"></i></a>').insertAfter(".leaflet-control-zoom-in");e.on("baselayerchange",function(n){k.setDefaultLayer(n.name);if(h){Runalyze.Config.setLeafletLayer(n.name)}})}function a(){e.on("mouseover",function(){f('<div id="polyline-info" class="tooltip right" style="display:none;"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>').appendTo(f("#"+c))});e.on("mouseout",function(){f("#polyline-info").remove()})}k.init=function(n,o){if(e!==null){k.Routes.removeAllRoutes();e.remove()}h=false;g();l(o);c=n;e=L.map(c,o).addLayer(k.Layers[m.layer]);b();a();h=true;return k};k.map=function(){return e};k.id=function(){return c};k.setDefaultLayer=function(n){m.layer=n;return k};k.toggleFullscreen=function(){if(f("#"+c).hasClass("fullscreen")){k.exitFullscreen()}else{k.enterFullscreen()}};k.enterFullscreen=function(){f("#"+c).addClass("fullscreen");f(".leaflet-control-zoom-full > i").removeClass("fa-expand").addClass("fa-compress");e.onResize()};k.exitFullscreen=function(){f("#"+c).removeClass("fullscreen");f(".leaflet-control-zoom-full > i").addClass("fa-expand").removeClass("fa-compress");e.onResize()};return k})(jQuery);RunalyzeLeaflet.getNewLayers=function(){return{OpenStreetMap:L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"OpenStreetMap DE":L.tileLayer("http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"OpenStreetMap HOT":L.tileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),OpenCycleMap:L.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Nokia:L.tileLayer("http://{s}.maptile.lbs.ovi.com/maptiler/v2/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?token={token}&app_id={appId}",{subdomains:"1234",appId:"tGaXC0G7JoT5tEvUJW8b",token:"rXyIHiKvci-xdLuLEPJepQ",attribution:'Map &copy; <a href="http://developer.here.com">Nokia</a>, Data &copy; NAVTEQ 2012'}),MapQuest:L.tileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{subdomains:"1234",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>'}),Esri:L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles: &copy; <a href="http://www.esri.com/" target="_blank">Esri</a>'}),EsriSatellite:L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Acetate:L.tileLayer("http://a{s}.acetate.geoiq.com/tiles/acetate-hillshading/{z}/{x}/{y}.png",{subdomains:"0123",minZoom:2,maxZoom:18,attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth"}),GoogleMaps:L.tileLayer("http://mt0.google.com/vt/lyrs=m@142&x={x}&y={y}&z={z}",{attribution:'&copy; <a href="http://maps.google.com/" target="_blank">Google Maps</a>'}),GoogleTerrain:L.tileLayer("http://mt0.google.com/vt/lyrs=t@126,r@142&x={x}&y={y}&z={z}",{attribution:'&copy; <a href="http://maps.google.com/" target="_blank">Google Terrain</a>'}),SigmaCycle:L.tileLayer("http://tiles1.sigma-dc-control.com/layer8/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.sigmasport.com/" target="_blank">SIGMA Sport &reg;</a>'}),Thunderforest:L.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}),Stamen:L.tileLayer("http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>, &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})}};RunalyzeLeaflet.Routes=(function(e,k,j){var n={posmarker:0,routeid:0};var g;var x=0.0003;var s=0.1;var y=false;var f=false;var p=13;var d="#polyline-info .tooltip-inner";var a={};var c={defaults:{color:"#ff8000",weight:3,opacity:1},hover:{weight:8,opacity:0.7}};function o(A,z){a[A].marker.push(z);z.on("mouseover",function(B){e(d).html(B.target.options.tooltip).parent().show();v(B);e(d).parent().addClass("in")}).on("mouseout",function(B){e(d).parent().removeClass("in").hide()})}function b(){for(var z in a){if(k.map().getZoom()>=p){k.map().addLayer(a[z].markergroup)}else{k.map().removeLayer(a[z].markergroup)}}}function m(z){a[z].polyline.on("mouseover",l,{id:z});a[z].polyline.on("mouseout",t,{id:z})}function q(){if(!f){k.map().on("mousemove",h)}f=true}function h(z){if(y!==false){r(w(z.latlng));v(z)}}function l(z){if(a[this.id].segmentsInfo.length){e(d).parent().show();y=this.id;r(w(z.latlng));v(z);e(d).parent().addClass("in")}a[this.id].polyline.setStyle({weight:c.hover.weight,opacity:c.hover.opacity})}function t(z){y=false;e(d).parent().removeClass("in").hide();a[this.id].polyline.setStyle({weight:a[this.id].options.weight,opacity:a[this.id].options.opacity})}function w(G){var F=y,A=0;for(var C=0,D=a[F].segments.length;C<D;C++){for(var E=0,B=a[F].segments[C].length;E<B;E++){var z=a[F].segments[C][E];if(j.abs(z[0]-G.lat)<x&&j.abs(z[1]-G.lng)<x){return a[F].segmentsInfo[C][E]}}}return{}}function v(D){var C=e(d).parent(),z=C.outerHeight(),B=D.originalEvent.clientX-e("#"+k.id()).offset().left+window.pageXOffset,A=D.originalEvent.clientY-e("#"+k.id()).offset().top+window.pageYOffset;C.css({top:A-z/2,left:B+10})}function r(A){var B="";for(var z in A){B=B+"<strong>"+z+":</strong> "+A[z]+"<br>"}if(B!=""){e(d).html(B.substr(0,B.length-4))}}function u(z){if(k.map()){if(!g){g=L.marker(z,{icon:n.posIcon()}).addTo(k.map())}else{g.setLatLng(z)}}}n.addRoute=function(B,z){z.segments=z.segments||[];z.segmentsInfo=z.segmentsInfo||[];z.marker=z.marker||[];z.markertopush=z.markertopush||[];z.markergroup=L.layerGroup();z.visible=z.visible!==false;z.hoverable=z.hoverable!==false;z.autofit=z.autofit!==false;z.options=e.extend(c.defaults,z.options);z.polyline=L.multiPolyline(z.segments,z.options);a[B]=z;for(var A in z.markertopush){o(B,z.markertopush[A])}if(z.visible){if(z.hoverable){m(B)}a[B].markergroup=L.layerGroup(a[B].marker);n.showRoute(B)}if(!this.mousemovebounded){q()}k.map().on("zoomend",b)};n.fitTo=function(z){k.map().fitBounds(a[z].polyline.getBounds(),{animate:false});b()};n.showRoute=function(z){k.map().addLayer(a[z].polyline);if(k.map().getZoom()>=p){k.map().addLayer(a[z].markergroup)}if(a[z].autofit){n.fitTo(z)}a[z].visible=true};n.hideRoute=function(z){k.map().removeLayer(a[z].polyline);k.map().removeLayer(a[z].markergroup);a[z].visible=false};n.toggleRoute=function(z){if(a[z].visible){n.hideRoute(z)}else{n.showRoute(z)}};n.showAllRoutes=function(){for(var z in a){n.showRoute(z)}};n.hideAllRoutes=function(){for(var z in a){n.hideRoute(z)}};n.toggleAllRoutes=function(){for(var z in a){n.toggleRoute(z)}};n.removeAllRoutes=function(){n.hideAllRoutes();a={}};n.segmentFromStrings=function(E,D,B){E=E.split(B);D=D.split(B);var A=E.length;var z=[];for(var C=0;C<A;C++){z[C]=[parseFloat(E[C]),parseFloat(D[C])]}return z};n.distIcon=function(z){return L.divIcon({className:"polyline-marker polyline-marker-dist",html:j.ceil(z),iconSize:[12,12],iconAnchor:[8,8]})};n.startIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-start",iconSize:[6,6],iconAnchor:[6,6]})};n.endIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-end",iconSize:[6,6],iconAnchor:[6,6]})};n.posIcon=function(){return L.divIcon({className:"polyline-marker polyline-marker-pos",iconSize:[6,6],iconAnchor:[6,6]})};n.movePosMarker=function(z){var G;var E;var D;var F=[0,0];var A=0;var B=n.routeid;if(typeof B==="undefined"||typeof a[B]==="undefined"){return}for(var H=0;H<a[B].segmentsInfo.length;++H){var C=a[B].segmentsInfo[H].length;if(a[B].segmentsInfo[H][0]["km"]<z&&z<a[B].segmentsInfo[H][C-1]["km"]){A=0;D=0;E=0;G=C;while(A<20&&j.abs(a[B].segmentsInfo[H][E]["km"]-z)>s){A++;E=j.floor((G+D)/2);if(a[B].segmentsInfo[H][E]["km"]>z){G=E}else{D=E}}if(j.abs(a[B].segmentsInfo[H][E]["km"]-z)<=s){F=a[B].segments[H][E]}}}u(F)};n.unsetPosMarker=function(){u([0,0])};return n}(jQuery,RunalyzeLeaflet,Math));